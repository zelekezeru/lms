import{c as n,o as i,a as t,d as k,r as N,x as B,i as v,h as x,k as c,u as o,t as r,F as _,f as w,w as h,n as f,S as C,W as I}from"./app-B9jo8HyV.js";import{S as A}from"./sweetalert2.esm.all-9Qm2jZ7z.js";/* empty css                        */import{_ as L}from"./Modal-BqoPAs27.js";import{s as M}from"./index-0AeExgk5.js";import{s as O}from"./index-BIKQtRKJ.js";import{r as G}from"./PlusCircleIcon-BKLiximI.js";import{r as U}from"./ClockIcon-BIv50-d_.js";import{r as W}from"./BookmarkIcon-DPyXhEOp.js";import{r as Z}from"./XCircleIcon-lEa8ddFt.js";import{r as z}from"./CheckCircleIcon-DxVr-e9G.js";import{r as R}from"./EyeIcon-B4sZi3-y.js";import"./index-BWR0Lf7h.js";import"./index-CNKv4XXi.js";import"./index-BewREwCR.js";import"./index-D0U7fZtO.js";import"./index-DSFmuf9B.js";import"./index-Dh-8oCoi.js";function E(l,m){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm3 10.5a.75.75 0 0 0 0-1.5H9a.75.75 0 0 0 0 1.5h6Z","clip-rule":"evenodd"})])}const Y={class:"flex items-center justify-between mb-4"},J={class:"space-x-4"},K={class:"mb-8 border-t border-gray-300 dark:border-gray-600 pt-4 pb-4"},P={class:"flex items-center gap-3 text-green-600"},Q={class:"text-xl font-semibold dark:text-white text-gray-900"},X={key:0,class:"text-center"},tt={key:1,class:"flex flex-col"},et={class:"mt-10 min-w-[100px] overflow-auto border-t border-gray-300 dark:border-gray-600 pt-4 pb-4"},st={class:"min-w-full table-auto border border-gray-300 dark:border-gray-600"},rt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},at={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},dt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},ot={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},lt={class:"px-4 py-2 text-sm font-bold text-gray-600 dark:text-gray-300"},nt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},it={class:"px-4 py-2 text-sm"},xt=["onClick"],ut={class:"border-t border-gray-300 dark:border-gray-600 pt-4 pb-4"},yt={class:"flex items-center gap-3 text-green-600"},ct={class:"text-xl font-semibold dark:text-white text-gray-900"},gt={key:0,class:"text-center"},mt={key:1,class:"flex flex-col"},pt={class:"mt-5 min-w-[100px] overflow-auto border-gray-300 dark:border-gray-600 pt-4 pb-4"},ft={class:"min-w-full table-auto border border-gray-300 dark:border-gray-600"},bt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},ht={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},kt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},vt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},_t={class:"px-4 py-2 text-sm font-bold text-gray-600 dark:text-gray-300"},wt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Ct={class:"px-4 py-2 text-sm"},St=["onClick"],Nt={class:"flex items-center gap-3 mt-8 text-green-600"},At={key:0,class:"text-center"},$t={key:1,class:"flex flex-col"},Vt={class:"mt-8 min-w-[100px] overflow-auto border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4"},Bt={class:"min-w-full table-auto border border-gray-300 dark:border-gray-600"},Mt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Gt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Et={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Ft={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Dt={class:"px-4 py-2 text-sm font-bold text-gray-600 dark:text-gray-300"},Tt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Ht={class:"px-4 py-2 text-sm"},jt=["onClick"],qt={class:"flex items-center gap-3 mt-8 mb-6 text-green-600"},It={key:2,class:"text-center"},Lt={key:3,class:"flex flex-col"},Ot={class:"mt-8 min-w-[100px] overflow-auto border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4"},Ut={class:"min-w-full table-auto border border-gray-300 dark:border-gray-600"},Wt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Zt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},zt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Rt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Yt={class:"px-4 py-2 text-sm font-bold text-gray-600 dark:text-gray-300"},Jt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Kt={class:"px-4 py-2 text-sm"},Pt={class:"flex items-center text-green-600 hover:text-green-800 dark:text-green-300 dark:hover:text-green-400"},Qt={class:"px-8 py-6"},Xt={class:"text-lg text-center font-light mb-4"},te={class:"font-bold"},ee={class:"font-bold underline"},se={class:"text-red-400"},re={class:"text-red-400"},ae={class:"text-sm"},de={class:"flex justify-end"},oe=["disabled"],Se={__name:"ShowCourses",props:{student:{type:Object,required:!0},courses:{type:Array,required:!0},studyModes:{type:Array,required:!1,default:()=>[]},activeSemester:{type:Object,required:!0}},setup(l){const m=l,F=k(()=>m.student.enrollments.filter(a=>a.status=="enrolled"||a.status=="completed").map(a=>a.course.id)),D=k(()=>m.courses.filter(a=>!F.value.includes(a.id))),b=N(!1);N(!1);const u=B({course_id:"",section_id:""});B({});const T=k(()=>new Set(m.student.enrollments.filter(a=>a.status=="enrolled").map(a=>a.course.id)));k(()=>m.courses.filter(a=>!T.value.has(a.id)).map(a=>({...a,label:a.name})));const S=N(m.studyModes[0].id||null),$=k(()=>{var s;const a=m.studyModes.find(e=>e.id===S.value);return((s=a==null?void 0:a.sections)==null?void 0:s.filter(e=>(Array.isArray(e.courses)?e.courses:[]).map(y=>y.id).includes(u.course_id)))||[]}),H=()=>{u.reset(),u.clearErrors()},j=()=>{u.post(route("enrollments-student.add",{student:m.student.id}),{onSuccess:()=>{A.fire("Added!","Course added successfully.","success"),b.value=!1,H()}})},q=a=>{u.course_id=a.course.id,b.value=!0},V=a=>{A.fire({title:"Are you sure?",text:"This action will drop the course from the student!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, drop it!"}).then(s=>{s.isConfirmed&&I.post(route("enrollments-student.drop",{student:m.student.id}),{enrollment_id:a},{onSuccess:()=>{A.fire("Dropped!","Course dropped successfully.","success")}})})};return(a,s)=>(i(),n("div",null,[t("div",Y,[s[7]||(s[7]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"}," Courses ",-1)),t("div",J,[t("button",{onClick:s[0]||(s[0]=e=>b.value=!0),class:"flex items-center text-green-600 hover:text-green-800"},[x(o(G),{class:"w-6 h-6 mr-1"}),s[6]||(s[6]=c(" Add Course "))])])]),t("div",K,[t("div",P,[x(o(U),{class:"w-6 h-6"}),t("h2",Q," Pending Courses For "+r(l.activeSemester.year.name)+" Semester "+r(l.activeSemester.level),1)]),l.student.enrollments.filter(e=>e.status=="pending").length==0?(i(),n("div",X,s[8]||(s[8]=[t("p",{class:"text-gray-500 dark:text-gray-400"}," No Pending Courses For This Semester. ",-1)]))):l.student.enrollments.filter(e=>e.status=="pending").length>0?(i(),n("div",tt,[t("div",et,[t("table",st,[s[10]||(s[10]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-gray-700"},[t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," No. "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Name "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Course Code "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Credit Hours "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Grade "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Status "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Action ")])],-1)),t("tbody",null,[(i(!0),n(_,null,w(l.student.enrollments.filter(e=>e.status=="pending"),(e,d)=>{var y,g;return i(),n("tr",{key:e.id,class:f(d%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700")},[t("td",rt,r(d+1),1),t("td",at,[x(o(C),{href:a.route("courses.show",{course:e.course.id})},{default:h(()=>[c(r(e.course.name),1)]),_:2},1032,["href"])]),t("td",dt,r(e.course.code),1),t("td",ot,r(e.course.credit_hours),1),t("td",lt,r(((g=(y=l.student.grades)==null?void 0:y.find(p=>p.course_id===e.course.id))==null?void 0:g.grade_letter)??"Not Graded"),1),t("td",nt,[t("span",{class:f(e.status==="enrolled"?"text-green-500":"text-red-500")},r(e.status),3)]),t("td",it,[t("button",{onClick:p=>V(e.id),class:"flex items-center text-red-600 hover:text-red-800"},[x(o(E),{class:"w-4 h-4 mr-1"}),s[9]||(s[9]=c(" Drop "))],8,xt)])],2)}),128))])])])])):v("",!0)]),t("div",ut,[t("div",yt,[x(o(W),{class:"w-6"}),t("h2",ct," Enrolled Courses For "+r(l.activeSemester.year.name)+" Semester "+r(l.activeSemester.level),1)]),l.student.enrollments.filter(e=>e.status=="enrolled").length==0?(i(),n("div",gt,s[11]||(s[11]=[t("p",{class:"text-gray-500 dark:text-gray-400"}," No Enrolled Courses For This Semester. ",-1)]))):l.student.enrollments.filter(e=>e.status=="enrolled").length>0?(i(),n("div",mt,[t("div",pt,[t("table",ft,[s[13]||(s[13]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-gray-700"},[t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," No. "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Name "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Course Code "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Credit Hours "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Grade "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Status "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Action ")])],-1)),t("tbody",null,[(i(!0),n(_,null,w(l.student.enrollments.filter(e=>e.status=="enrolled"),(e,d)=>{var y,g;return i(),n("tr",{key:e.id,class:f(d%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700")},[t("td",bt,r(d+1),1),t("td",ht,[x(o(C),{href:a.route("courses.show",{course:e.course.id})},{default:h(()=>[c(r(e.course.name),1)]),_:2},1032,["href"])]),t("td",kt,r(e.course.code),1),t("td",vt,r(e.course.credit_hours),1),t("td",_t,r(((g=(y=l.student.grades)==null?void 0:y.find(p=>p.course_id===e.course.id))==null?void 0:g.grade_letter)??"Not Graded"),1),t("td",wt,[t("span",{class:f(e.status==="enrolled"?"text-green-500":"text-red-500")},r(e.status),3)]),t("td",Ct,[t("button",{onClick:p=>V(e.id),class:"flex items-center text-red-600 hover:text-red-800"},[x(o(E),{class:"w-4 h-4 mr-1"}),s[12]||(s[12]=c(" Drop "))],8,St)])],2)}),128))])])])])):v("",!0)]),t("div",Nt,[x(o(Z),{class:"w-6 h-6"}),s[14]||(s[14]=t("h2",{class:"text-xl font-semibold dark:text-white text-gray-900"}," Dropped Courses ",-1))]),l.student.enrollments.filter(e=>e.status=="dropped").length==0?(i(),n("div",At,s[15]||(s[15]=[t("p",{class:"text-gray-500 dark:text-gray-400"},"No Dropped Courses.",-1)]))):l.student.enrollments.filter(e=>e.status=="dropped")?(i(),n("div",$t,[t("div",Vt,[t("table",Bt,[s[17]||(s[17]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-gray-700"},[t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," No. "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Name "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Course Code "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Credit Hours "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Grade "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Status "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Action ")])],-1)),t("tbody",null,[(i(!0),n(_,null,w(l.student.enrollments.filter(e=>e.status=="dropped"),(e,d)=>{var y,g;return i(),n("tr",{key:e.id,class:f(d%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700")},[t("td",Mt,r(d+1),1),t("td",Gt,[x(o(C),{href:a.route("courses.show",{course:e.course.id})},{default:h(()=>[c(r(e.course.name),1)]),_:2},1032,["href"])]),t("td",Et,r(e.course.code),1),t("td",Ft,r(e.course.credit_hours),1),t("td",Dt,r(((g=(y=l.student.grades)==null?void 0:y.find(p=>p.course_id===e.course.id))==null?void 0:g.grade_letter)??"Not Graded"),1),t("td",Tt,[t("span",{class:f(e.status==="enrolled"?"text-green-500":"text-red-500")},r(e.status),3)]),t("td",Ht,[t("button",{onClick:p=>q(e),class:"flex items-center text-green-600 hover:text-green-700"},[x(o(G),{class:"w-4 h-4 mr-1"}),s[16]||(s[16]=c(" Add Back "))],8,jt)])],2)}),128))])])])])):v("",!0),t("div",qt,[x(o(z),{class:"w-6 h-6"}),s[18]||(s[18]=t("h2",{class:"text-xl font-semibold dark:text-white text-gray-900"}," Completed Courses ",-1))]),l.student.enrollments.filter(e=>e.status=="completed").length==0?(i(),n("div",It,s[19]||(s[19]=[t("p",{class:"text-gray-500 dark:text-gray-400"}," No completed Courses. ",-1)]))):l.student.enrollments.filter(e=>e.status=="completed")?(i(),n("div",Lt,[t("div",Ot,[t("table",Ut,[s[21]||(s[21]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-gray-700"},[t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," No. "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Name "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Course Code "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Credit Hours "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Grade "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Status "),t("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Action ")])],-1)),t("tbody",null,[(i(!0),n(_,null,w(l.student.enrollments.filter(e=>e.status=="completed"),(e,d)=>{var y,g;return i(),n("tr",{key:e.id,class:f(d%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700")},[t("td",Wt,r(d+1),1),t("td",Zt,[x(o(C),{href:a.route("courses.show",{course:e.course.id})},{default:h(()=>[c(r(e.course.name),1)]),_:2},1032,["href"])]),t("td",zt,r(e.course.code),1),t("td",Rt,r(e.course.credit_hours),1),t("td",Yt,r(((g=(y=l.student.grades)==null?void 0:y.find(p=>p.course_id===e.course.id))==null?void 0:g.grade_letter)??"Not Graded"),1),t("td",Jt,[t("span",{class:f(e.status==="enrolled"?"text-green-500":"text-red-500")},r(e.status),3)]),t("td",Kt,[t("button",Pt,[x(o(R),{class:"w-4 h-4 mr-1"}),s[20]||(s[20]=c(" View Results "))])])],2)}),128))])])])])):v("",!0),x(L,{show:b.value,onClose:s[5]||(s[5]=e=>b.value=!1),"max-width":"4xl"},{default:h(()=>{var e;return[t("div",Qt,[t("h3",Xt,[s[22]||(s[22]=c(" Enroll ")),t("span",te,r(l.student.firstName)+" "+r(l.student.lastName),1),s[23]||(s[23]=c(" to ")),t("span",ee,r(o(u).course_id?(e=l.courses.find(d=>d.id==o(u).course_id))==null?void 0:e.name:"New Course"),1)]),t("p",se,r(o(u).errors.section_id),1),t("p",re,r(o(u).errors.course_id),1),s[24]||(s[24]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"}," Course ",-1)),s[25]||(s[25]=t("p",{class:"text-sm text-gray-500 mb-2"}," Choose a course the student hasn’t taken yet. ",-1)),x(o(O),{modelValue:o(u).course_id,"onUpdate:modelValue":s[1]||(s[1]=d=>o(u).course_id=d),options:D.value,checkmark:"",optionLabel:"name","option-value":"id",filter:"",placeholder:"Select Course",class:"w-full mb-4"},null,8,["modelValue","options"]),s[26]||(s[26]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"}," Study Mode ",-1)),s[27]||(s[27]=t("p",{class:"text-sm text-gray-500 mb-2"}," Select how the course will be attended (e.g. regular, weekend). ",-1)),x(o(M),{modelValue:S.value,"onUpdate:modelValue":s[2]||(s[2]=d=>S.value=d),options:m.studyModes,placeholder:"Select Study Mode","option-label":"name","append-to":"self","option-value":"id",class:"w-full mb-4 px-3 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring focus:ring-indigo-500 dark:bg-gray-800 dark:text-gray-100 transition"},null,8,["modelValue","options"]),s[28]||(s[28]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"}," Section ",-1)),s[29]||(s[29]=t("p",{class:"text-sm text-gray-500 mb-2"}," Pick the section where the student will take the given course in the given study mode. ",-1)),x(o(M),{modelValue:o(u).section_id,"onUpdate:modelValue":s[3]||(s[3]=d=>o(u).section_id=d),options:$.value,placeholder:`This course is available in (${$.value.length})`,"empty-message":"no available section!","option-label":"name","append-to":"self","option-value":"id",class:"w-full mb-4 px-3 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring focus:ring-indigo-500 dark:bg-gray-800 dark:text-gray-100 transition"},{option:h(d=>[c(r(d.option.name)+" In "+r(d.option.studyMode.name)+" ",1),t("span",ae," ("+r(d.option.program.name)+" in "+r(d.option.track.name)+") ",1)]),_:1},8,["modelValue","options","placeholder"]),t("div",de,[t("button",{onClick:j,disabled:o(u).processing,class:"bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded mr-3"},r(o(u).processing?"Adding...":"Add"),9,oe),t("button",{onClick:s[4]||(s[4]=d=>b.value=!1),class:"bg-gray-500 hover:bg-gray-600 text-white px-5 py-2 rounded"}," Cancel ")])])]}),_:1},8,["show"])]))}};export{Se as default};
