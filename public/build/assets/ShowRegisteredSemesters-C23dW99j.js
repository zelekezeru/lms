import{r as v,c as g,o as i,a as e,l as f,A as h,t as a,F as S,e as w,W as _,n as A}from"./app-DUpuGMW7.js";import{S as y}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */const C={class:"space-y-6"},R={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-end"},E=["value"],F={class:"w-full mt-4 border border-gray-300 dark:border-gray-600"},B={class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"},I={class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"},N={class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"},U={class:"px-4 py-2 border border-gray-300 dark:border-gray-600"},W={class:"px-4 py-2 border border-gray-300 dark:border-gray-600"},P={__name:"ShowRegisteredSemesters",props:{student:Object,semesters:Array,activeSemester:Object},setup(s){const n=s,o=v(""),k=()=>{if(!o.value){y.fire("Warning","Please select a semester to register.","warning");return}_.post(route("students.registerSemester",n.student.id),{student_id:n.student.id,semester_id:o.value},{preserveScroll:!0,onSuccess:()=>{console.log("Registration successful."),y.fire("Registered!","Student registered successfully.","success")},onError:l=>{console.error("Registration failed:",l.error),y.fire("Error",l.error??"Failed to register student.","error")}})};return(l,r)=>(i(),g("div",C,[e("div",null,[r[3]||(r[3]=e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"}," Student Semester Registration ",-1)),e("div",R,[e("div",null,[r[2]||(r[2]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Select Active Semester:",-1)),f(e("select",{"onUpdate:modelValue":r[0]||(r[0]=t=>o.value=t),class:"block w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white"},[r[1]||(r[1]=e("option",{value:"",disabled:"",selected:"",class:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}," Select Current Semester ",-1)),(i(),g("option",{key:s.activeSemester.id,value:s.activeSemester.id,class:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white"},a(s.activeSemester.name)+" ("+a(s.activeSemester.year.name)+") ",9,E))],512),[[h,o.value]])]),e("div",null,[e("button",{type:"button",onClick:k,class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800"}," Register ")])])]),e("div",null,[r[5]||(r[5]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Enrollment Status ",-1)),e("table",F,[r[4]||(r[4]=e("thead",{class:"bg-gray-100 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}," # "),e("th",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}," Semester "),e("th",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}," Year "),e("th",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}," Academic Status "),e("th",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}," Payment Status ")])],-1)),e("tbody",null,[(i(!0),g(S,null,w([...s.semesters].sort((t,d)=>t.status===d.status?0:t.status==="Active"?-1:d.status==="Active"?1:t.status==="Inactive"?-1:d.status==="Inactive"?1:t.status.localeCompare(d.status)),(t,d)=>{var b,u,c,p,m,x;return i(),g("tr",{key:t.id,class:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-800 dark:even:bg-gray-700"},[e("td",B,a(d+1),1),e("td",I,a(t.name),1),e("td",N,a(t.year.name),1),e("td",U,[e("span",{class:A(((b=t.pivot)==null?void 0:b.academic_status)==="in_progress"||((u=t.pivot)==null?void 0:u.academic_status)==="completed"?"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 px-2 py-0.5 rounded-full font-semibold":((c=t.pivot)==null?void 0:c.academic_status)==="in_progress"?"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 px-2 py-0.5 rounded-full font-semibold":((p=t.pivot)==null?void 0:p.academic_status)==="completed"?"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 px-2 py-0.5 rounded-full font-semibold":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 px-2 py-0.5 rounded-full font-semibold")},a((m=t.pivot)!=null&&m.academic_status?t.pivot.academic_status.charAt(0).toUpperCase()+t.pivot.academic_status.slice(1):"N/A"),3)]),e("td",W,[e("span",null,a((x=t.pivot)!=null&&x.payment_status?t.pivot.payment_status.charAt(0).toUpperCase()+t.pivot.payment_status.slice(1):"N/A"),1)])])}),128))])])])]))}};export{P as default};
