import{c as a,o as r,a as t,r as b,m as _,a2 as C,h as p,g as i,i as c,u,t as o,l as B,A as M,F as h,e as f,n as y,d as N,w as S,S as P}from"./app-C67bHBy3.js";import{C as Z,p as A,a as L,b as T,B as V,c as j,L as D}from"./chart-D9Buvlxz.js";import{r as F}from"./ArrowPathIcon-C2Ys8pBg.js";import{r as H}from"./ClockIcon-C5tagBsq.js";function R(l,g){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}),t("path",{"fill-rule":"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z","clip-rule":"evenodd"}),t("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"})])}function $(l,g){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M4.5 3.75a3 3 0 0 0-3 3v.75h21v-.75a3 3 0 0 0-3-3h-15Z"}),t("path",{"fill-rule":"evenodd",d:"M22.5 9.75h-21v7.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-7.5Zm-18 3.75a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z","clip-rule":"evenodd"})])}const q={class:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow"},I={class:"flex items-center justify-between mb-6"},E={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-8"},z={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition duration-300"},O={class:"flex items-center space-x-4"},U={class:"text-2xl font-bold text-gray-800 dark:text-white"},G={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition duration-300"},J={class:"flex items-center space-x-4"},K={class:"text-2xl font-bold text-gray-800 dark:text-white"},Q={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition duration-300"},W={class:"flex items-center space-x-4"},X={class:"text-2xl font-bold text-gray-800 dark:text-white"},Y={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition duration-300"},tt={class:"flex items-center space-x-4"},et={class:"text-2xl font-bold text-gray-800 dark:text-white"},st={class:"mb-6"},rt={class:"mt-8 border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4 overflow-x-auto"},at={class:"min-w-full table-auto border border-gray-300 dark:border-gray-600"},ot={class:"bg-gray-50 dark:bg-gray-700"},lt={class:"w-40 px-4 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},dt={class:"flex flex-col items-center"},nt={class:"relative mt-1 flex items-center"},it={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},ut={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},gt={key:0},xt={key:1,class:"text-gray-400 italic"},mt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},bt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},ct={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},yt={key:0},pt={key:1},ht={key:2},ft={key:3},vt={key:4},wt={key:0,class:"mt-3 flex justify-center space-x-2"},kt=["disabled","onClick","innerHTML"],Nt={__name:"ShowDetails",props:{payments:{type:Object,required:!0},paymentCategories:{type:Array,required:!0},paymentMethods:{type:Array,required:!0}},setup(l){Z.register(A,L,T,V,j,D);const g=l,v=b(!1);b({labels:[],datasets:[{label:"Payments",backgroundColor:"#4CAF50",data:[]}]});const x=d=>new Intl.NumberFormat().format(d),m=b(""),w=_(()=>m.value?(g.payments.data||[]).filter(d=>d.status&&d.status.toLowerCase()===m.value):g.payments.data||[]);return(d,e)=>{const k=C("ChartBarIcon");return r(),a("div",q,[t("div",I,[e[2]||(e[2]=t("h2",{class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},"Payment Dashboard",-1)),t("button",{onClick:e[0]||(e[0]=(...s)=>d.refreshData&&d.refreshData(...s)),class:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700"},[i(u(F),{class:"w-5 h-5 mr-2"}),c(" "+o(v.value?"Refreshing...":"Refresh"),1)])]),t("div",E,[t("div",z,[t("div",O,[i(u($),{class:"w-8 h-8 text-green-600"}),t("div",null,[e[3]||(e[3]=t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Total Payments",-1)),t("h2",U,o(l.payments.length||0),1)])])]),t("div",G,[t("div",J,[i(u(R),{class:"w-8 h-8 text-blue-600"}),t("div",null,[e[4]||(e[4]=t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Total Paid",-1)),t("h2",K,o(x((l.payments.data||[]).reduce((s,n)=>s+Number(n.total_amount),0)))+" Birr ",1)])])]),t("div",Q,[t("div",W,[i(u(H),{class:"w-8 h-8 text-yellow-500"}),t("div",null,[e[5]||(e[5]=t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Total Remaining",-1)),t("h2",X,o(x((l.payments.data||[]).filter(s=>s.status.trim().toLowerCase()==="pending").reduce((s,n)=>s+Number(n.total_amount),0)))+" Birr ",1)])])]),t("div",Y,[t("div",tt,[i(k,{class:"w-8 h-8 text-green-600"}),t("div",null,[e[6]||(e[6]=t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Completed Payments ",-1)),t("h2",et,o(x((l.payments.data||[]).filter(s=>s.status.trim().toLowerCase()==="completed").reduce((s,n)=>s+Number(n.total_amount),0)))+" Birr ",1)])])])]),t("div",st,[e[21]||(e[21]=t("div",{class:"flex items-center mb-4 gap-4"},[t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Recent Payments")],-1)),t("div",rt,[t("table",at,[t("thead",null,[t("tr",ot,[e[11]||(e[11]=t("th",{class:"w-10 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"No.",-1)),e[12]||(e[12]=t("th",{class:"w-40 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"Paid By",-1)),e[13]||(e[13]=t("th",{class:"w-40 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"Date",-1)),e[14]||(e[14]=t("th",{class:"w-20 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"Amount (Birr)",-1)),t("th",lt,[t("div",dt,[e[10]||(e[10]=t("span",{class:"flex items-center justify-center"},[c(" Status "),t("svg",{class:"w-4 h-4 text-blue-500 ml-1",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14M12 5l7 7-7 7"})])],-1)),t("div",nt,[e[8]||(e[8]=t("svg",{class:"absolute left-3 w-4 h-4 text-blue-400 pointer-events-none",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 10l4 4 4-4"})],-1)),B(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>m.value=s),class:"appearance-none py-1.5 rounded-full border border-blue-400 dark:border-blue-600 bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-200 font-semibold shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition text-center"},e[7]||(e[7]=[t("option",{value:""},"All Statuses",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"paid_by_college"},"Scholarship",-1)]),512),[[M,m.value]]),e[9]||(e[9]=t("svg",{class:"absolute right-3 w-4 h-4 text-blue-400 pointer-events-none",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 10l4 4 4-4"})],-1))])])]),e[15]||(e[15]=t("th",{class:"w-20 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"Type",-1))])]),t("tbody",null,[(r(!0),a(h,null,f(w.value,(s,n)=>(r(),a("tr",{key:s.id,class:y([n%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700","border-b border-gray-300 dark:border-gray-600"])},[t("td",it,o(n+1),1),t("td",ut,[s.student?(r(),a("span",gt,o(s.student.firstName)+" "+o(s.student.middleName)+" "+o(s.student.lastName),1)):(r(),a("span",xt,"N/A"))]),t("td",mt,o(s.payment_date),1),t("td",bt,o(x(s.total_amount))+".00",1),t("td",ct,[t("span",{class:y({"text-yellow-500":s.status==="pending","text-green-500":s.status==="completed","text-red-500":s.status==="failed","text-blue-500":s.status==="paid_by_college"})},[s.status==="paid_by_college"?(r(),a("span",yt,e[16]||(e[16]=[t("b",null,"Scholarship",-1)]))):s.status==="pending"?(r(),a("span",pt,e[17]||(e[17]=[t("b",null,"Pending",-1)]))):s.status==="completed"?(r(),a("span",ht,e[18]||(e[18]=[t("b",null,"Completed",-1)]))):s.status==="failed"?(r(),a("span",ft,e[19]||(e[19]=[t("b",null,"Failed",-1)]))):(r(),a("span",vt,[t("b",null,o(s.status),1)]))],2)]),t("td",null,[s.status==="completed"||s.status==="paid_by_college"?(r(),N(u(P),{key:0,href:d.route("payments.show",{payment:s.id}),class:"px-3 py-1 text-sm font-medium rounded-md bg-indigo-100 text-indigo-700 hover:bg-indigo-200 dark:bg-indigo-800 dark:text-white dark:hover:bg-indigo-700"},{default:S(()=>e[20]||(e[20]=[c(" Receipt ")])),_:2},1032,["href"])):p("",!0)])],2))),128))])])])]),l.payments.meta&&l.payments.meta.links&&l.payments.meta.links.length>1?(r(),a("div",wt,[(r(!0),a(h,null,f(l.payments.meta.links,s=>(r(),a("button",{key:s.label,disabled:!s.url||s.active,onClick:n=>d.goToPage(s.url),class:y(["p-2 px-4 text-sm font-medium rounded-lg transition-colors",{"text-gray-700 dark:text-gray-400":!0,"cursor-not-allowed opacity-50":!s.url||s.active,"!bg-blue-100 !dark:bg-blue-800 text-blue-700 dark:text-blue-200":s.active,"hover:bg-gray-200 dark:hover:bg-gray-700":s.url&&!s.active}]),innerHTML:s.label},null,10,kt))),128))])):p("",!0)])}}};export{Nt as default};
