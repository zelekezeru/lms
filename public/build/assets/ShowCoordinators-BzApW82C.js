import{r as y,x as I,c as i,o as n,a as t,g as f,h as u,l as c,B as Q,u as r,t as g,i as v,w as M,k as $,z as C,A as L}from"./app-DwTIzjuM.js";import{S as b}from"./sweetalert2.esm.all-89IKscqO.js";import{_ as N}from"./Modal-Bibfk6UN.js";import{r as _}from"./PencilIcon-BXltiBYx.js";import{r as q}from"./PlusCircleIcon-BXaFV1o0.js";const W={class:"p-8 max-w-2xl mx-auto"},X={key:0},Y={class:"flex flex-col items-center mb-8 relative"},Z={key:0,class:"rounded-full w-44 h-44 bg-gray-300 dark:bg-gray-700 animate-pulse"},ee=["src","alt"],te={class:"grid sm:grid-cols-2 gap-4"},re={class:"text-lg font-medium"},oe={class:"text-lg font-medium"},se={class:"text-lg font-medium"},le={class:"text-lg font-medium"},ae={class:"flex justify-end mt-6 space-x-6"},ie={key:1,class:"text-center mt-10"},ne={class:"p-6 space-y-4"},de={key:0,class:"text-red-500 text-sm"},ue={key:0,class:"text-red-500 text-sm"},ge={key:0,class:"mt-2"},me=["src"],fe={key:1,class:"text-red-500 text-sm"},ce={key:0,class:"text-red-500 text-sm"},pe={class:"flex justify-end space-x-3 pt-4"},ye=["disabled"],ve={class:"relative z-10 flex items-center justify-center"},be={key:0,class:"animate-spin mr-2"},xe={class:"p-6 space-y-4"},ke={key:0,class:"text-red-500 text-sm"},he={key:0,class:"text-red-500 text-sm"},we={key:0,class:"mt-2"},Ce=["src"],_e={key:1,class:"text-red-500 text-sm"},Se={key:0,class:"text-red-500 text-sm"},Pe={class:"flex justify-end space-x-3 pt-4"},je=["disabled"],Ie={class:"relative z-10 flex items-center justify-center"},Me={key:0,class:"animate-spin mr-2"},Ne={class:"p-6 space-y-6 bg-gradient-to-br from-white via-blue-50 to-blue-100 dark:from-gray-800 dark:via-gray-900 dark:to-gray-800 rounded-xl shadow-xl"},Ee={class:"text-2xl font-bold text-blue-700 dark:text-blue-300 flex items-center gap-2"},Ue={class:"block"},ze={key:0,class:"flex justify-center"},Ae=["src"],Fe={key:1,class:"flex justify-center"},Ve={class:"w-32 h-32 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-400 dark:text-gray-500 text-4xl"},Be={class:"flex justify-end space-x-3 pt-4"},$e=["disabled"],Le={class:"relative z-10 flex items-center justify-center"},qe={key:0,class:"animate-spin mr-2"},He={__name:"ShowCoordinators",props:{center:Object,coordinator:Object},setup(m){var E;const d=m,x=y(!1),k=y(!1),p=y(null),l=I({name:"",phone:"",status:"Active",center_id:d.center&&d.center.id?d.center.id:""}),s=I({name:"",phone:"",status:"Active",center_id:d.center&&d.center.id?d.center.id:""}),O=()=>{p.value=null,l.reset(),l.center_id=d.center&&d.center.id?d.center.id:"",x.value=!0},D=o=>{p.value=(o==null?void 0:o.profile_img)||null,s.reset(),s.name=o==null?void 0:o.name,s.phone=o==null?void 0:o.phone,s.status=(o==null?void 0:o.status)||"Active",s.profile_img="",s.center_id=(o==null?void 0:o.center_id)||(d.center&&d.center.id?d.center.id:""),k.value=!0},R=()=>{l.post(route("coordinators.store"),{onSuccess:()=>{b.fire("Success!","Coordinator created.","success"),x.value=!1,l.reset()},onError:()=>{b.fire("Error","Please check the form for errors.","error")}})},T=()=>{var o;s.post(route("coordinators.update",{coordinator:(o=d.coordinator)==null?void 0:o.id}),{onSuccess:()=>{b.fire("Success!","Coordinator updated.","success"),k.value=!1,s.reset()},onError:()=>{b.fire("Error","Please check the form for errors.","error")}})},S=y(!1),G=()=>{console.log("hello"),S.value=!0},P=y(!1),h=y(null),w=I({user_id:(E=d.coordinator)==null?void 0:E.id,profile_image:null,get _preview(){var o;return h.value||((o=d.coordinator)==null?void 0:o.profileImg)}}),H=()=>{P.value=!0},j=()=>{P.value=!1,w.reset(),h.value=null},J=o=>{const e=o.target.files[0];e&&(w.profile_image=e,h.value=URL.createObjectURL(e))},K=()=>{var o;w.post(route("users.update.image",{user:(o=d.coordinator)==null?void 0:o.id}),{onSuccess:()=>{b.fire("Success!","Profile image updated.","success"),j()},onError:()=>{b.fire("Error!","Failed to update image.","error")}})};return(o,e)=>{var U,z,A,F,V,B;return n(),i("div",W,[e[44]||(e[44]=t("h1",{class:"text-2xl font-bold mb-4 text-center"}," Coordinator Management ",-1)),m.coordinator?(n(),i("div",X,[t("div",Y,[S.value?u("",!0):(n(),i("div",Z)),c(t("img",{class:"rounded-full w-44 h-44 object-contain bg-gray-400",src:(U=m.coordinator)==null?void 0:U.profileImg,alt:"Logo of "+((z=m.coordinator)==null?void 0:z.name),onLoad:G},null,40,ee),[[Q,S.value]]),o.userCan&&o.userCan("update-coordinators")?(n(),i("button",{key:1,class:"mt-4 bg-white dark:bg-gray-800 rounded-full p-2 shadow hover:bg-gray-100 dark:hover:bg-gray-700 transition",title:"Change Profile Picture",onClick:H,type:"button"},[f(r(_),{class:"w-5 h-5 text-gray-600 dark:text-gray-300"})])):u("",!0)]),t("div",te,[t("div",null,[e[13]||(e[13]=t("span",{class:"text-sm text-gray-500"},"Full Name",-1)),t("div",re,g((A=m.coordinator)==null?void 0:A.name),1)]),t("div",null,[e[14]||(e[14]=t("span",{class:"text-sm text-gray-500"},"Email",-1)),t("div",oe,g((F=m.coordinator)==null?void 0:F.email),1)]),t("div",null,[e[15]||(e[15]=t("span",{class:"text-sm text-gray-500"},"Phone",-1)),t("div",se,g(((V=m.coordinator)==null?void 0:V.phone)||"N/A"),1)]),t("div",null,[e[16]||(e[16]=t("span",{class:"text-sm text-gray-500"},"Status",-1)),t("div",le,g((B=m.coordinator)==null?void 0:B.status),1)])]),t("div",ae,[t("button",{onClick:e[0]||(e[0]=a=>D(m.coordinator)),class:"text-blue-500 hover:text-blue-700 flex items-center gap-1"},[f(r(_),{class:"w-5 h-5"}),e[17]||(e[17]=v(" Edit "))])])])):(n(),i("div",ie,[f(r(q),{class:"w-16 h-16 text-green-400 mb-4 animate-bounce"}),e[19]||(e[19]=t("p",{class:"mb-2 font-semibold"},"No coordinator assigned",-1)),t("button",{onClick:O,class:"px-6 py-3 bg-green-600 text-white rounded-full flex items-center gap-2"},[f(r(q),{class:"w-5 h-5"}),e[18]||(e[18]=v(" Add Coordinator "))])])),f(N,{show:x.value,onClose:e[6]||(e[6]=a=>x.value=!1)},{default:M(()=>[t("div",ne,[e[28]||(e[28]=t("h2",{class:"text-lg font-bold"},"New Coordinator",-1)),t("form",{onSubmit:$(R,["prevent"]),class:"space-y-4"},[t("div",null,[e[20]||(e[20]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Name ",-1)),c(t("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=a=>r(l).name=a),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Full Name"},null,512),[[C,r(l).name]]),r(l).errors.name?(n(),i("div",de,g(r(l).errors.name),1)):u("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Phone ",-1)),c(t("input",{id:"phone","onUpdate:modelValue":e[2]||(e[2]=a=>r(l).phone=a),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Phone Number"},null,512),[[C,r(l).phone]]),r(l).errors.phone?(n(),i("div",ue,g(r(l).errors.phone),1)):u("",!0)]),t("div",null,[e[22]||(e[22]=t("label",{for:"profile_img_create",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Profile Image ",-1)),t("input",{id:"profile_img_create",type:"file",accept:"image/*",class:"mt-1 block w-full text-gray-700 dark:text-gray-200",onChange:e[3]||(e[3]=a=>o.handleFileChange(a,r(l)))},null,32),p.value?(n(),i("div",ge,[t("img",{src:p.value,class:"w-16 h-16 rounded-full object-cover"},null,8,me)])):u("",!0),r(l).errors.profile_img?(n(),i("div",fe,g(r(l).errors.profile_img),1)):u("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{for:"status_create",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Status ",-1)),c(t("select",{id:"status_create","onUpdate:modelValue":e[4]||(e[4]=a=>r(l).status=a),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},e[23]||(e[23]=[t("option",{value:"Active"},"Active",-1),t("option",{value:"Inactive"},"Inactive",-1)]),512),[[L,r(l).status]]),r(l).errors.status?(n(),i("div",ce,g(r(l).errors.status),1)):u("",!0)]),t("div",pe,[t("button",{type:"button",onClick:e[5]||(e[5]=a=>x.value=!1),class:"relative px-6 py-2 rounded-lg bg-gradient-to-r from-gray-200 via-gray-300 to-gray-400 dark:from-gray-700 dark:via-gray-800 dark:to-gray-900 text-gray-800 dark:text-gray-100 font-semibold shadow-md hover:from-gray-300 hover:to-gray-500 dark:hover:from-gray-600 dark:hover:to-gray-800 transition-all duration-200 group overflow-hidden"},e[25]||(e[25]=[t("span",{class:"absolute left-0 top-0 w-0 h-full bg-gray-400 dark:bg-gray-600 opacity-20 group-hover:w-full transition-all duration-300"},null,-1),t("span",{class:"relative z-10"},"Cancel",-1)])),t("button",{type:"submit",class:"relative px-6 py-2 rounded-lg bg-gradient-to-r from-green-600 via-green-500 to-green-400 text-white font-semibold shadow-lg hover:from-green-700 hover:via-green-600 hover:to-green-500 transition-all duration-200 group overflow-hidden disabled:opacity-60 disabled:cursor-not-allowed",disabled:r(l).processing},[e[27]||(e[27]=t("span",{class:"absolute left-0 top-0 w-0 h-full bg-white opacity-10 group-hover:w-full transition-all duration-300"},null,-1)),t("span",ve,[r(l).processing?(n(),i("span",be,e[26]||(e[26]=[t("svg",{class:"w-5 h-5 inline",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)]))):u("",!0),v(" "+g(r(l).processing?"Saving...":"Save"),1)])],8,ye)])],32)])]),_:1},8,["show"]),f(N,{show:k.value,onClose:e[12]||(e[12]=a=>k.value=!1)},{default:M(()=>[t("div",xe,[e[37]||(e[37]=t("h2",{class:"text-lg font-bold"},"Edit Coordinator",-1)),t("form",{onSubmit:$(T,["prevent"]),class:"space-y-4"},[t("div",null,[e[29]||(e[29]=t("label",{for:"edit_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Name ",-1)),c(t("input",{id:"edit_name","onUpdate:modelValue":e[7]||(e[7]=a=>r(s).name=a),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Full Name"},null,512),[[C,r(s).name]]),r(s).errors.name?(n(),i("div",ke,g(r(s).errors.name),1)):u("",!0)]),t("div",null,[e[30]||(e[30]=t("label",{for:"edit_phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Phone ",-1)),c(t("input",{id:"edit_phone","onUpdate:modelValue":e[8]||(e[8]=a=>r(s).phone=a),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Phone Number"},null,512),[[C,r(s).phone]]),r(s).errors.phone?(n(),i("div",he,g(r(s).errors.phone),1)):u("",!0)]),t("div",null,[e[31]||(e[31]=t("label",{for:"profile_img_edit",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Profile Image ",-1)),t("input",{id:"profile_img_edit",type:"file",accept:"image/*",class:"mt-1 block w-full text-gray-700 dark:text-gray-200",onChange:e[9]||(e[9]=a=>o.handleFileChange(a,r(s)))},null,32),p.value?(n(),i("div",we,[t("img",{src:p.value,class:"w-16 h-16 rounded-full object-cover"},null,8,Ce)])):u("",!0),r(s).errors.profile_img?(n(),i("div",_e,g(r(s).errors.profile_img),1)):u("",!0)]),t("div",null,[e[33]||(e[33]=t("label",{for:"status_edit",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Status ",-1)),c(t("select",{id:"status_edit","onUpdate:modelValue":e[10]||(e[10]=a=>r(s).status=a),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},e[32]||(e[32]=[t("option",{value:"Active"},"Active",-1),t("option",{value:"Inactive"},"Inactive",-1)]),512),[[L,r(s).status]]),r(s).errors.status?(n(),i("div",Se,g(r(s).errors.status),1)):u("",!0)]),t("div",Pe,[t("button",{type:"button",onClick:e[11]||(e[11]=a=>k.value=!1),class:"relative px-6 py-2 rounded-lg bg-gradient-to-r from-gray-200 via-gray-300 to-gray-400 dark:from-gray-700 dark:via-gray-800 dark:to-gray-900 text-gray-800 dark:text-gray-100 font-semibold shadow-md hover:from-gray-300 hover:to-gray-500 dark:hover:from-gray-600 dark:hover:to-gray-800 transition-all duration-200 group overflow-hidden"},e[34]||(e[34]=[t("span",{class:"absolute left-0 top-0 w-0 h-full bg-gray-400 dark:bg-gray-600 opacity-20 group-hover:w-full transition-all duration-300"},null,-1),t("span",{class:"relative z-10"},"Cancel",-1)])),t("button",{type:"submit",class:"relative px-6 py-2 rounded-lg bg-gradient-to-r from-blue-600 via-blue-500 to-blue-400 text-white font-semibold shadow-lg hover:from-blue-700 hover:via-blue-600 hover:to-blue-500 transition-all duration-200 group overflow-hidden disabled:opacity-60 disabled:cursor-not-allowed",disabled:r(s).processing},[e[36]||(e[36]=t("span",{class:"absolute left-0 top-0 w-0 h-full bg-white opacity-10 group-hover:w-full transition-all duration-300"},null,-1)),t("span",Ie,[r(s).processing?(n(),i("span",Me,e[35]||(e[35]=[t("svg",{class:"w-5 h-5 inline",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)]))):u("",!0),v(" "+g(r(s).processing?"Updating...":"Update"),1)])],8,je)])],32)])]),_:1},8,["show"]),f(N,{show:P.value,onClose:j},{default:M(()=>[t("div",Ne,[t("h2",Ee,[f(r(_),{class:"w-6 h-6 text-blue-500 dark:text-blue-300"}),e[38]||(e[38]=v(" Update Profile Image "))]),t("label",Ue,[e[39]||(e[39]=t("span",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Choose a new profile picture",-1)),t("input",{type:"file",accept:"image/*",onChange:J,class:"block w-full text-sm text-gray-700 dark:text-gray-200 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-700 dark:file:text-blue-200 dark:hover:file:bg-gray-600"},null,32)]),h.value?(n(),i("div",ze,[t("img",{src:h.value,alt:"Selected Preview",class:"w-32 h-32 rounded-full object-cover border-4 border-blue-300 shadow-lg transition-all duration-300"},null,8,Ae)])):(n(),i("div",Fe,[t("div",Ve,[f(r(_),{class:"w-12 h-12"})])])),t("div",Be,[t("button",{onClick:j,class:"relative px-6 py-2 rounded-lg bg-gradient-to-r from-gray-200 via-gray-300 to-gray-400 dark:from-gray-700 dark:via-gray-800 dark:to-gray-900 text-gray-800 dark:text-gray-100 font-semibold shadow-md hover:from-gray-300 hover:to-gray-500 dark:hover:from-gray-600 dark:hover:to-gray-800 transition-all duration-200 group overflow-hidden"},e[40]||(e[40]=[t("span",{class:"absolute left-0 top-0 w-0 h-full bg-gray-400 dark:bg-gray-600 opacity-20 group-hover:w-full transition-all duration-300"},null,-1),t("span",{class:"relative z-10"},"Cancel",-1)])),t("button",{onClick:K,disabled:r(w).processing,class:"relative px-6 py-2 rounded-lg bg-gradient-to-r from-blue-600 via-blue-500 to-blue-400 text-white font-semibold shadow-lg hover:from-blue-700 hover:via-blue-600 hover:to-blue-500 transition-all duration-200 group overflow-hidden disabled:opacity-60 disabled:cursor-not-allowed"},[e[43]||(e[43]=t("span",{class:"absolute left-0 top-0 w-0 h-full bg-white opacity-10 group-hover:w-full transition-all duration-300"},null,-1)),t("span",Le,[r(w).processing?(n(),i("span",qe,e[41]||(e[41]=[t("svg",{class:"w-5 h-5 inline",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)]))):u("",!0),e[42]||(e[42]=v(" Save "))])],8,$e)])])]),_:1},8,["show"])])}}};export{He as default};
