import{r as k,y as w,c as o,o as s,a as t,g as u,h as a,A as c,t as m,i as x,j as y,u as b,l as D}from"./app-DEAeQUn7.js";import{r as p}from"./PhotoIcon-BUDUEZSy.js";const U=["value"],V={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C={key:0,class:"text-sm text-red-500 mt-1"},F={key:0,class:"text-sm text-red-500 mt-1"},j={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4"},S={for:"image",class:"cursor-pointer inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition","aria-label":"Upload image"},q={key:0,class:"w-28 h-28 rounded-lg overflow-hidden border dark:border-gray-600"},N=["src"],B={key:0,class:"text-sm text-red-500 mt-1"},M={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4"},O={for:"file",class:"cursor-pointer inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition","aria-label":"Upload file"},P={key:0,class:"text-sm text-gray-700 dark:text-gray-300"},R=["href"],T={key:0,class:"text-sm text-red-500 mt-1"},A={class:"flex justify-center items-center gap-4 pt-4"},E=["disabled"],I={key:0},L={key:1},G={__name:"Form",props:{form:{type:Object,required:!0},user:{type:Object,required:!0}},setup(r){const l=r,d=k(null),g=(n,e)=>{const i=n.target.files[0];if(l.form[e]=i,e==="image"&&i){const f=new FileReader;f.onload=h=>{d.value=h.target.result},f.readAsDataURL(i)}},v=()=>{l.form.title="",l.form.description="",l.form.image=null,l.form.file=null,d.value=null};return w(()=>{l.form.image&&typeof l.form.image=="string"&&(d.value=l.form.image)}),(n,e)=>(s(),o("form",{onSubmit:e[4]||(e[4]=D((...i)=>n.submit&&n.submit(...i),["prevent"])),enctype:"multipart/form-data",class:"space-y-8"},[t("input",{type:"hidden",name:"user_id",value:r.form.user_id},null,8,U),t("div",V,[t("div",null,[e[5]||(e[5]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Title",-1)),u(t("input",{id:"title",type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>r.form.title=i),required:"",class:"mt-1 w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},null,512),[[c,r.form.title]]),r.form.errors.title?(s(),o("p",C,m(r.form.errors.title),1)):a("",!0)]),t("div",null,[e[6]||(e[6]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Description",-1)),u(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=i=>r.form.description=i),rows:"4",required:"",class:"mt-1 w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},null,512),[[c,r.form.description]]),r.form.errors.description?(s(),o("p",F,m(r.form.errors.description),1)):a("",!0)]),t("div",null,[t("div",j,[t("label",S,[x(b(p),{class:"w-5 h-5 mr-2"}),e[7]||(e[7]=y(" Upload Image "))]),t("input",{id:"image",type:"file",accept:"image/*",class:"hidden",onChange:e[2]||(e[2]=i=>g(i,"image"))},null,32),d.value?(s(),o("div",q,[t("img",{src:d.value,alt:"Image Preview",class:"w-full h-full object-cover"},null,8,N)])):a("",!0)]),r.form.errors.image?(s(),o("p",B,m(r.form.errors.image),1)):a("",!0)]),t("div",null,[t("div",M,[t("label",O,[x(b(p),{class:"w-5 h-5 mr-2"}),e[8]||(e[8]=y(" Upload Document ")),e[9]||(e[9]=t("span",{class:"ml-1 text-sm"},"(PDF, DOC, XLS, etc.)",-1))]),t("input",{id:"file",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.txt,.csv",class:"hidden",onChange:e[3]||(e[3]=i=>g(i,"file"))},null,32),r.form.file&&typeof r.form.file=="string"?(s(),o("div",P,[t("a",{href:r.form.file,target:"_blank",class:"text-indigo-600 hover:underline"},"View Existing File",8,R)])):a("",!0)]),r.form.errors.file?(s(),o("p",T,m(r.form.errors.file),1)):a("",!0)])]),t("div",A,[t("button",{type:"submit",disabled:r.form.processing,class:"px-6 py-2 text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow transition"},[r.form.processing?(s(),o("span",L,"Submitting...")):(s(),o("span",I,"Submit"))],8,E),t("button",{type:"button",onClick:v,class:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg shadow"}," Reset ")])],32))}};export{G as default};
