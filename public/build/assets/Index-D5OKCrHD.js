import{r as y,b as A,d as c,o as l,w as o,a as s,c as u,t as d,l as L,z as I,h as S,u as a,S as x,i as n,g as r,n as b,f as M,F as w,e as v,W as k}from"./app-DwTIzjuM.js";import{_ as j}from"./AppLayout-B8Twko5k.js";import{S as C}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{T as N,a as V}from"./TableHeader-920k29kI.js";import{T as z}from"./TableZebraRows-B3N7B4mv.js";import{_ as f}from"./Thead-CbJ3s9I_.js";import{r as E}from"./ArrowPathIcon-BE2WTFxK.js";import{r as F,a as H}from"./TableCellsIcon-CPSh7EqG.js";import{r as O}from"./EyeIcon-DuyASgRU.js";import{r as R}from"./TrashIcon-BAoae0gz.js";import{r as W}from"./AcademicCapIcon-C_Pnxflw.js";import{r as D}from"./CalendarIcon-NulxZ7gL.js";import"./ChevronDownIcon-RSkrBP71.js";import"./CogIcon-DXmB12h3.js";import"./ClockIcon-DtSF-qYN.js";import"./PlusIcon-gBgxAKg0.js";import"./LanguageToggle-B2D4oeev.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"my-6 text-center"},U={class:"text-2xl font-bold text-gray-900 dark:text-white"},Z={class:"flex flex-col justify-between gap-4 mb-4 md:flex-row"},q={class:"relative w-full max-w-xs"},G={class:"flex gap-2"},J={key:0,class:"overflow-x-auto shadow sm:rounded-lg"},K={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white"},P={class:"px-6 py-4"},Q={class:"px-6 py-4"},X={class:"px-6 py-4"},ee={class:"px-6 py-4"},te={class:"flex space-x-2"},se=["onClick"],re={key:1,class:"grid grid-cols-1 gap-4 mt-6 sm:grid-cols-2 md:grid-cols-3"},oe={class:"flex items-center mb-2 font-bold text-gray-900 dark:text-white"},ae={class:"flex items-center text-gray-700 dark:text-gray-300"},le={class:"flex items-center text-gray-700 dark:text-gray-300"},ne={class:"flex justify-center mt-6 space-x-2"},$e={__name:"Index",props:{semesters:Object,sortInfo:Object},setup(m){const p=y(A().props.search||""),h=y(!1),g=y("card"),T=()=>{k.get(route("semesters.index"),{...route().params,search:p.value},{preserveState:!0})},$=()=>{h.value=!0,k.visit(route("semesters.index"),{data:{search:p.value},only:["semesters"],preserveState:!0,onFinish:()=>h.value=!1})},B=i=>{C.fire({title:"Are you sure?",text:"This will permanently delete the semester.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&k.delete(route("semesters.destroy",{semester:i}),{onSuccess:()=>{C.fire("Deleted!","Semester deleted.","success")}})})};return(i,e)=>(l(),c(j,null,{default:o(()=>[s("div",Y,[s("h1",U,d(i.$t("semester.title")),1)]),s("div",Z,[s("div",q,[e[2]||(e[2]=s("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[s("svg",{class:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35M9 17A8 8 0 109 1a8 8 0 000 16z"})])],-1)),L(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),onInput:T,type:"text",class:"w-full p-2 pl-10 text-gray-900 border rounded-lg dark:text-white dark:bg-gray-700",placeholder:"Search semester..."},null,544),[[I,p.value]])]),s("div",G,[i.userCan("create-semesters")?(l(),c(a(x),{key:0,href:i.route("semesters.create"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold text-white uppercase bg-green-600 rounded-md hover:bg-green-700"},{default:o(()=>e[3]||(e[3]=[n(" + Add Semester ")])),_:1},8,["href"])):S("",!0),s("button",{onClick:$,class:"inline-flex items-center px-4 py-2 text-xs font-semibold text-white uppercase bg-blue-800 rounded-md hover:bg-blue-700"},[r(a(E),{class:b([{"animate-spin":h.value},"w-5 h-5 mr-2"])},null,8,["class"]),e[4]||(e[4]=n(" Refresh "))]),s("button",{onClick:e[1]||(e[1]=t=>g.value=g.value==="table"?"card":"table"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold text-white uppercase bg-gray-600 rounded-md hover:bg-gray-700"},[(l(),c(M(g.value==="table"?a(F):a(H)),{class:"w-5 h-5"}))])])]),g.value==="table"?(l(),u("div",J,[r(N,null,{default:o(()=>[r(V,null,{default:o(()=>[s("tr",null,[r(f,{sortable:"","sort-info":m.sortInfo,sortColumn:"name"},{default:o(()=>e[5]||(e[5]=[n("Semester")])),_:1},8,["sort-info"]),r(f,null,{default:o(()=>e[6]||(e[6]=[n("Year")])),_:1}),r(f,{sortable:"","sort-info":m.sortInfo,sortColumn:"start_date"},{default:o(()=>e[7]||(e[7]=[n("Start Date")])),_:1},8,["sort-info"]),r(f,{sortable:"","sort-info":m.sortInfo,sortColumn:"end_date"},{default:o(()=>e[8]||(e[8]=[n("End Date")])),_:1},8,["sort-info"]),r(f,null,{default:o(()=>e[9]||(e[9]=[n("Status")])),_:1}),r(f,null,{default:o(()=>e[10]||(e[10]=[n("Actions")])),_:1})])]),_:1}),s("tbody",null,[(l(!0),u(w,null,v(m.semesters.data,t=>(l(),c(z,{key:t.id},{default:o(()=>{var _;return[s("th",K,[r(a(x),{href:i.route("semesters.show",{semester:t.id}),class:"hover:underline"},{default:o(()=>[n(d(t.name),1)]),_:2},1032,["href"])]),s("td",P,d(((_=t.year)==null?void 0:_.name)??"N/A"),1),s("td",Q,d(new Date(t.start_date).toLocaleDateString()),1),s("td",X,d(new Date(t.end_date).toLocaleDateString()),1),s("td",ee,[s("span",{class:b(["px-2 py-1 text-sm font-bold rounded",t.status==="Active"?"bg-green-500 text-white":"bg-red-800 text-white"])},d(t.status),3)]),s("td",te,[r(a(x),{href:i.route("semesters.show",{semester:t.id}),class:"text-blue-500 hover:text-blue-700"},{default:o(()=>[r(a(O),{class:"w-5 h-5"})]),_:2},1032,["href"]),i.userCan("delete-semesters")?(l(),u("button",{key:0,onClick:de=>B(t.id),class:"text-red-500 hover:text-red-700"},[r(a(R),{class:"w-5 h-5"})],8,se)):S("",!0)])]}),_:2},1024))),128))])]),_:1})])):(l(),u("div",re,[(l(!0),u(w,null,v(m.semesters.data,t=>(l(),u("div",{key:t.id,class:"p-4 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-600"},[r(a(x),{href:i.route("semesters.show",{semester:t.id}),class:"block"},{default:o(()=>[s("div",oe,[r(a(W),{class:"w-5 h-5 mr-2 text-indigo-500"}),n(" "+d(t.name),1)]),s("div",ae,[r(a(D),{class:"w-5 h-5 mr-2 text-orange-500"}),e[11]||(e[11]=s("span",{class:"font-semibold mr-1"},"Start:",-1)),n(" "+d(new Date(t.start_date).toLocaleDateString()),1)]),s("div",le,[r(a(D),{class:"w-5 h-5 mr-2 text-rose-500"}),e[12]||(e[12]=s("span",{class:"font-semibold mr-1"},"End:",-1)),n(" "+d(new Date(t.end_date).toLocaleDateString()),1)]),s("span",{class:b(["inline-block mt-2 px-2 py-1 text-md font-bold rounded",t.status==="Active"?"bg-green-500 text-white":"bg-red-800 text-white"])},d(t.status),3)]),_:2},1032,["href"])]))),128))])),s("div",ne,[(l(!0),u(w,null,v(m.semesters.meta.links,t=>(l(),c(a(x),{key:t.label,href:t.url||"#",class:b(["p-2 px-4 text-sm font-medium transition-colors rounded-lg",{"text-gray-700 dark:text-gray-400":!0,"cursor-not-allowed opacity-50":!t.url,"!bg-gray-100 !dark:bg-gray-800":t.active}]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])]),_:1}))}};export{$e as default};
