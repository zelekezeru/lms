import{x as g,q as b,d as w,o as l,w as x,a as t,t as s,k as y,l as m,u as r,c as _,F as k,e as h,s as v,h as c,y as u,i as f,v as $}from"./app-oxZXhdOW.js";import{_ as V}from"./AppLayout-Bawyhlur.js";import"./ChevronDownIcon-D5L0NuMI.js";import"./AcademicCapIcon-BFRPIYr4.js";import"./CogIcon-Ci7ezq5H.js";import"./ClockIcon-DA_QDRQn.js";import"./PlusIcon-DA7qCKgg.js";import"./LanguageToggle-BlbQyc2o.js";const S={class:"text-2xl font-semibold mb-1 text-gray-900 dark:text-white"},B={class:"text-gray-600 dark:text-gray-300 mb-4 text-sm"},C={class:"bg-white dark:bg-gray-800 p-6 rounded shadow space-y-6"},M={class:"text-lg font-semibold text-gray-800 dark:text-white mb-1"},U={class:"text-green-600 dark:text-green-300 text-base"},F={class:"block mb-2 font-medium text-gray-900 dark:text-gray-200"},N=["value"],j=["value"],D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},O={class:"block text-sm font-medium text-gray-900 dark:text-gray-200"},T={key:0,class:"text-sm text-red-500"},q={class:"block text-sm font-medium text-gray-900 dark:text-gray-200"},z={key:0,class:"text-sm text-red-500"},E={class:"inline-flex items-center text-gray-900 dark:text-gray-200"},L={key:0,class:"text-sm text-red-500"},A=["disabled"],X={__name:"CloseForm",props:{semester:Object,semesters:Object},setup(i){const n=i,e=g({approval:!1,new_semester_id:null,new_semester_start_date:"",new_semester_end_date:"",errors:{}});n.semester&&(e.new_semester_id=n.semester.id,e.new_semester_start_date=n.semester.start_date||"",e.new_semester_end_date=n.semester.end_date||""),b(()=>e.new_semester_id,a=>{if(a===n.semester.id)e.new_semester_start_date=n.semester.start_date||"",e.new_semester_end_date=n.semester.end_date||"";else{const o=n.semesters.find(d=>d.id===a);o?(e.new_semester_start_date=o.start_date||"",e.new_semester_end_date=o.end_date||""):(e.new_semester_start_date="",e.new_semester_end_date="")}});const p=()=>{e.post(route("semesters.close"),{onSuccess:()=>{e.reset()}})};return(a,o)=>(l(),w(V,null,{default:x(()=>[t("h2",S,s(a.$t("semester.close_active_title")),1),t("p",B,s(a.$t("semester.confirm_close_and_activate")),1),t("div",C,[t("div",null,[t("h3",M,s(a.$t("semester.current_active")),1),t("p",U," ðŸŸ¢ "+s(i.semester.name),1)]),t("form",{onSubmit:y(p,["prevent"]),class:"space-y-6"},[t("div",null,[t("label",F,s(a.$t("semester.select_next_opening")),1),m(t("select",{"onUpdate:modelValue":o[0]||(o[0]=d=>r(e).new_semester_id=d),class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[t("option",{value:i.semester.id,disabled:"",class:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}," ðŸŸ¢ "+s(a.$t("semester.current_active_option"))+" : "+s(i.semester.name),9,N),(l(!0),_(k,null,h(i.semesters,d=>(l(),_("option",{key:d.id,value:d.id,class:"bg-white dark:bg-gray-700"}," ðŸ”´ "+s(d.name)+" - "+s(a.$t("semester.semester")),9,j))),128))],512),[[v,r(e).new_semester_id]])]),t("div",D,[t("div",null,[t("label",O,s(a.$t("semester.start_date")),1),m(t("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>r(e).new_semester_start_date=d),type:"date",class:"w-full p-2 border rounded dark:bg-gray-700"},null,512),[[u,r(e).new_semester_start_date]]),r(e).errors.new_semester_start_date?(l(),_("p",T,s(r(e).errors.new_semester_start_date),1)):c("",!0)]),t("div",null,[t("label",q,s(a.$t("semester.end_date")),1),m(t("input",{"onUpdate:modelValue":o[2]||(o[2]=d=>r(e).new_semester_end_date=d),type:"date",class:"w-full p-2 border rounded dark:bg-gray-700"},null,512),[[u,r(e).new_semester_end_date]]),r(e).errors.new_semester_end_date?(l(),_("p",z,s(r(e).errors.new_semester_end_date),1)):c("",!0)])]),t("div",null,[t("label",E,[m(t("input",{type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=d=>r(e).approval=d),class:"mr-2"},null,512),[[$,r(e).approval]]),f(" "+s(a.$t("semester.confirm_close_and_activate")),1)]),r(e).errors.approval?(l(),_("p",L,s(r(e).errors.approval),1)):c("",!0)]),t("button",{type:"submit",class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded",disabled:r(e).processing},s(a.$t("semester.initialize_close_semester")),9,A)],32)])]),_:1}))}};export{X as default};
