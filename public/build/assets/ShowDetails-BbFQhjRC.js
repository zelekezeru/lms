import{c as s,o as a,a as t,r as m,m as k,a2 as _,h as C,g as i,i as y,u as c,t as l,l as B,s as M,F as p,e as h,n as b}from"./app-Dvpp4CYp.js";import{C as N,p as P,a as Z,b as S,B as L,c as V,L as A}from"./chart-D9Buvlxz.js";import{r as D}from"./ArrowPathIcon-CbtAwO6t.js";import{r as T}from"./ClockIcon-g2pjuuLu.js";function j(o,u){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}),t("path",{"fill-rule":"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z","clip-rule":"evenodd"}),t("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"})])}function F(o,u){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M4.5 3.75a3 3 0 0 0-3 3v.75h21v-.75a3 3 0 0 0-3-3h-15Z"}),t("path",{"fill-rule":"evenodd",d:"M22.5 9.75h-21v7.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-7.5Zm-18 3.75a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z","clip-rule":"evenodd"})])}const H={class:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow"},R={class:"flex items-center justify-between mb-6"},$={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-8"},q={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition duration-300"},I={class:"flex items-center space-x-4"},E={class:"text-2xl font-bold text-gray-800 dark:text-white"},z={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition duration-300"},O={class:"flex items-center space-x-4"},U={class:"text-2xl font-bold text-gray-800 dark:text-white"},G={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition duration-300"},J={class:"flex items-center space-x-4"},K={class:"text-2xl font-bold text-gray-800 dark:text-white"},Q={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow hover:shadow-lg transition duration-300"},W={class:"flex items-center space-x-4"},X={class:"text-2xl font-bold text-gray-800 dark:text-white"},Y={class:"mb-6"},tt={class:"mt-8 border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4 overflow-x-auto"},et={class:"min-w-full table-auto border border-gray-300 dark:border-gray-600"},rt={class:"bg-gray-50 dark:bg-gray-700"},st={class:"w-40 px-4 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},at={class:"flex flex-col items-center"},ot={class:"relative mt-1"},lt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},dt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},nt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},it={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},ut={key:0},gt={key:1},xt={key:2},ct={key:3},mt={key:4},bt={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},yt={key:0,class:"mt-3 flex justify-center space-x-2"},pt=["disabled","onClick","innerHTML"],kt={__name:"ShowDetails",props:{payments:{type:Object,required:!0},paymentCategories:{type:Array,required:!0},paymentMethods:{type:Array,required:!0}},setup(o){N.register(P,Z,S,L,V,A);const u=o,f=m(!1);m({labels:[],datasets:[{label:"Payments",backgroundColor:"#4CAF50",data:[]}]});const g=n=>new Intl.NumberFormat().format(n),x=m(""),v=k(()=>x.value?(u.payments.data||[]).filter(n=>n.status&&n.status.toLowerCase()===x.value):u.payments.data||[]);return(n,e)=>{const w=_("ChartBarIcon");return a(),s("div",H,[t("div",R,[e[2]||(e[2]=t("h2",{class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},"Payment Dashboard",-1)),t("button",{onClick:e[0]||(e[0]=(...r)=>n.refreshData&&n.refreshData(...r)),class:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700"},[i(c(D),{class:"w-5 h-5 mr-2"}),y(" "+l(f.value?"Refreshing...":"Refresh"),1)])]),t("div",$,[t("div",q,[t("div",I,[i(c(F),{class:"w-8 h-8 text-green-600"}),t("div",null,[e[3]||(e[3]=t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Total Payments",-1)),t("h2",E,l(o.payments.length||0),1)])])]),t("div",z,[t("div",O,[i(c(j),{class:"w-8 h-8 text-blue-600"}),t("div",null,[e[4]||(e[4]=t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Total Paid",-1)),t("h2",U,l(g((o.payments.data||[]).reduce((r,d)=>r+Number(d.total_amount),0)))+" Birr ",1)])])]),t("div",G,[t("div",J,[i(c(T),{class:"w-8 h-8 text-yellow-500"}),t("div",null,[e[5]||(e[5]=t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Total Remaining",-1)),t("h2",K,l(g((o.payments.data||[]).filter(r=>r.status.trim().toLowerCase()==="pending").reduce((r,d)=>r+Number(d.total_amount),0)))+" Birr ",1)])])]),t("div",Q,[t("div",W,[i(w,{class:"w-8 h-8 text-green-600"}),t("div",null,[e[6]||(e[6]=t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Completed Payments ",-1)),t("h2",X,l(g((o.payments.data||[]).filter(r=>r.status.trim().toLowerCase()==="completed").reduce((r,d)=>r+Number(d.total_amount),0)))+" Birr ",1)])])])]),t("div",Y,[e[18]||(e[18]=t("div",{class:"flex items-center mb-4 gap-4"},[t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Recent Payments")],-1)),t("div",tt,[t("table",et,[t("thead",null,[t("tr",rt,[e[10]||(e[10]=t("th",{class:"w-10 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"No.",-1)),e[11]||(e[11]=t("th",{class:"w-40 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"Date",-1)),e[12]||(e[12]=t("th",{class:"w-20 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"Amount (Birr)",-1)),t("th",st,[t("div",at,[e[9]||(e[9]=t("span",{class:"flex items-center justify-center"},[y(" Status "),t("svg",{class:"w-4 h-4 text-blue-500 ml-1",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14M12 5l7 7-7 7"})])],-1)),t("div",ot,[B(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>x.value=r),class:"appearance-none pl-10 pr-4 py-1.5 rounded-full border border-blue-400 dark:border-blue-600 bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-200 font-semibold shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition text-center"},e[7]||(e[7]=[t("option",{value:""},"All",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"paid_by_college"},"Scholarship",-1)]),512),[[M,x.value]]),e[8]||(e[8]=t("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-blue-400 pointer-events-none",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 10l4 4 4-4"})],-1))])])]),e[13]||(e[13]=t("th",{class:"w-20 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"Reference",-1))])]),t("tbody",null,[(a(!0),s(p,null,h(v.value,(r,d)=>(a(),s("tr",{key:r.id,class:b([d%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700","border-b border-gray-300 dark:border-gray-600"])},[t("td",lt,l(d+1),1),t("td",dt,l(r.payment_date),1),t("td",nt,l(g(r.total_amount))+".00",1),t("td",it,[t("span",{class:b({"text-yellow-500":r.status==="pending","text-green-500":r.status==="completed","text-red-500":r.status==="failed","text-blue-500":r.status==="paid_by_college"})},[r.status==="paid_by_college"?(a(),s("span",ut,e[14]||(e[14]=[t("b",null,"Scholarship",-1)]))):r.status==="pending"?(a(),s("span",gt,e[15]||(e[15]=[t("b",null,"Pending",-1)]))):r.status==="completed"?(a(),s("span",xt,e[16]||(e[16]=[t("b",null,"Completed",-1)]))):r.status==="failed"?(a(),s("span",ct,e[17]||(e[17]=[t("b",null,"Failed",-1)]))):(a(),s("span",mt,[t("b",null,l(r.status),1)]))],2)]),t("td",bt,l(r.payment_reference),1)],2))),128))])])])]),o.payments.meta&&o.payments.meta.links&&o.payments.meta.links.length>1?(a(),s("div",yt,[(a(!0),s(p,null,h(o.payments.meta.links,r=>(a(),s("button",{key:r.label,disabled:!r.url||r.active,onClick:d=>n.goToPage(r.url),class:b(["p-2 px-4 text-sm font-medium rounded-lg transition-colors",{"text-gray-700 dark:text-gray-400":!0,"cursor-not-allowed opacity-50":!r.url||r.active,"!bg-blue-100 !dark:bg-blue-800 text-blue-700 dark:text-blue-200":r.active,"hover:bg-gray-200 dark:hover:bg-gray-700":r.url&&!r.active}]),innerHTML:r.label},null,10,pt))),128))])):C("",!0)])}}};export{kt as default};
