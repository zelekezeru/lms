import{r as h,x as E,c as d,o as n,a as t,h as l,e as O,u as s,t as u,k as C,w as P,l as j,m as g,y as k,i as b,s as A}from"./app-BrFhRYXM.js";import{S as w}from"./sweetalert2.esm.all-89IKscqO.js";import{_ as U}from"./Modal-CrjbpO2V.js";import{_ as x}from"./InputError-B-R3hAbd.js";import{_ as y}from"./InputLabel-C_EBtS_r.js";import{r as V}from"./PhotoIcon-Ds5mDj1a.js";import{r as R}from"./PencilIcon-BxoFHzkW.js";import{r as $}from"./PlusCircleIcon-DmL4wzNg.js";const T={class:"p-8 max-w-2xl mx-auto"},L={key:0},q={class:"flex justify-center mb-6"},z={class:"rounded-full w-40 h-40 bg-gray-100 dark:bg-gray-700 overflow-hidden flex items-center justify-center"},G=["src"],H={class:"grid sm:grid-cols-2 gap-4"},J={class:"text-lg font-medium"},K={class:"text-lg font-medium"},Q={class:"text-lg font-medium"},W={class:"text-lg font-medium"},X={class:"flex justify-end mt-6 space-x-6"},Y={key:1,class:"text-center mt-10"},Z={class:"p-6 space-y-4"},ee={key:0,class:"mt-2"},te=["src"],se={class:"flex justify-end space-x-2"},oe=["disabled"],re={class:"p-6 space-y-4"},le={key:0,class:"text-red-500 text-sm"},ae={key:0,class:"text-red-500 text-sm"},ne={class:"flex items-center gap-4"},ie={for:"profile_img",class:"cursor-pointer px-4 py-2 bg-black text-white flex items-center gap-2 rounded"},de={class:"w-16 h-16 rounded-full border shadow bg-gray-100 dark:bg-gray-700 overflow-hidden"},ue=["src"],me={key:0,class:"text-red-500 text-sm"},pe={class:"flex justify-end space-x-2"},ce=["disabled"],he={__name:"ShowCoordinators",props:{center:Object,coordinator:Object},setup(i){const c=i,f=h(!1),v=h(!1),m=h(null),o=E({name:"",phone:"",status:"Active",profile_img:"",center_id:c.center.id}),a=E({name:"",phone:"",status:"Active",profile_img:"",center_id:c.center.id}),F=()=>{m.value=null,o.reset(),o.center_id=c.center.id,f.value=!0},M=p=>{m.value=p.profile_img||null,a.reset(),a.name=p.name,a.phone=p.phone,a.status=p.status||"Active",a.profile_img="",a.center_id=p.center_id||c.center.id,v.value=!0},I=()=>{o.post(route("coordinators.store"),{onSuccess:()=>{w.fire("Success!","Coordinator created.","success"),f.value=!1,o.reset()},onError:()=>{w.fire("Error","Please check the form for errors.","error")}})},B=()=>{a.post(route("coordinators.update",c.coordinator.id),{onSuccess:()=>{w.fire("Success!","Coordinator updated.","success"),v.value=!1,a.reset()},onError:()=>{w.fire("Error","Please check the form for errors.","error")}})},S=(p,e)=>{var _;const r=p.target.files[0];if(e.profile_img=r,r){const N=new FileReader;N.onload=D=>{m.value=D.target.result},N.readAsDataURL(r)}else m.value=((_=c.coordinator)==null?void 0:_.profile_img)||null};return(p,e)=>(n(),d("div",T,[e[28]||(e[28]=t("h1",{class:"text-2xl font-bold mb-4 text-center"}," Coordinator Management ",-1)),i.coordinator?(n(),d("div",L,[t("div",q,[t("div",z,[i.coordinator.profile_img?(n(),d("img",{key:0,src:i.coordinator.profile_img,alt:"Profile",class:"object-contain w-full h-full"},null,8,G)):(n(),O(s(V),{key:1,class:"w-24 h-24 text-gray-400"}))])]),t("div",H,[t("div",null,[e[13]||(e[13]=t("span",{class:"text-sm text-gray-500"},"Full Name",-1)),t("div",J,u(i.coordinator.name),1)]),t("div",null,[e[14]||(e[14]=t("span",{class:"text-sm text-gray-500"},"Email",-1)),t("div",K,u(i.coordinator.email),1)]),t("div",null,[e[15]||(e[15]=t("span",{class:"text-sm text-gray-500"},"Phone",-1)),t("div",Q,u(i.coordinator.phone||"N/A"),1)]),t("div",null,[e[16]||(e[16]=t("span",{class:"text-sm text-gray-500"},"Status",-1)),t("div",W,u(i.coordinator.status),1)])]),t("div",X,[t("button",{onClick:e[0]||(e[0]=r=>M(i.coordinator)),class:"text-blue-500 hover:text-blue-700 flex items-center gap-1"},[l(s(R),{class:"w-5 h-5"}),e[17]||(e[17]=C(" Edit "))])])])):(n(),d("div",Y,[l(s($),{class:"w-16 h-16 text-green-400 mb-4 animate-bounce"}),e[19]||(e[19]=t("p",{class:"mb-2 font-semibold"},"No coordinator assigned",-1)),t("button",{onClick:F,class:"px-6 py-3 bg-green-600 text-white rounded-full flex items-center gap-2"},[l(s($),{class:"w-5 h-5"}),e[18]||(e[18]=C(" Add Coordinator "))])])),l(U,{show:f.value,onClose:e[6]||(e[6]=r=>f.value=!1)},{default:P(()=>[t("div",Z,[e[21]||(e[21]=t("h2",{class:"text-lg font-bold"},"New Coordinator",-1)),t("form",{onSubmit:j(I,["prevent"]),class:"space-y-4"},[t("div",null,[l(y,{value:"Name"}),g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>s(o).name=r),type:"text",class:"input",placeholder:"Full Name"},null,512),[[k,s(o).name]]),l(x,{message:s(o).errors.name},null,8,["message"])]),t("div",null,[l(y,{value:"Phone"}),g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>s(o).phone=r),type:"text",class:"input",placeholder:"Phone Number"},null,512),[[k,s(o).phone]]),l(x,{message:s(o).errors.phone},null,8,["message"])]),t("div",null,[l(y,{value:"Profile Image"}),t("input",{type:"file",accept:"image/*",onChange:e[3]||(e[3]=r=>S(r,s(o)))},null,32),m.value?(n(),d("div",ee,[t("img",{src:m.value,class:"w-16 h-16 rounded-full object-cover"},null,8,te)])):b("",!0),l(x,{message:s(o).errors.profile_img},null,8,["message"])]),t("div",null,[l(y,{value:"Status"}),g(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>s(o).status=r),class:"input"},e[20]||(e[20]=[t("option",{value:"Active"},"Active",-1),t("option",{value:"Inactive"},"Inactive",-1)]),512),[[A,s(o).status]]),l(x,{message:s(o).errors.status},null,8,["message"])]),t("div",se,[t("button",{type:"button",onClick:e[5]||(e[5]=r=>f.value=!1),class:"btn-secondary"}," Cancel "),t("button",{type:"submit",class:"btn-primary",disabled:s(o).processing},u(s(o).processing?"Saving...":"Save"),9,oe)])],32)])]),_:1},8,["show"]),l(U,{show:v.value,onClose:e[12]||(e[12]=r=>v.value=!1)},{default:P(()=>[t("div",re,[e[27]||(e[27]=t("h2",{class:"text-lg font-bold"},"Edit Coordinator",-1)),t("form",{onSubmit:j(B,["prevent"]),class:"space-y-4"},[t("div",null,[e[22]||(e[22]=t("label",{class:"block mb-1 font-semibold text-gray-700 dark:text-gray-300"},"Name",-1)),g(t("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>s(o).name=r),type:"text",class:"w-full border px-3 py-2 rounded bg-white text-gray-900 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700",placeholder:"Full name"},null,512),[[k,s(o).name]]),s(o).errors.name?(n(),d("div",le,u(s(o).errors.name),1)):b("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block mb-1 font-semibold text-gray-700 dark:text-gray-300"},"Phone",-1)),g(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>s(o).phone=r),type:"text",class:"w-full border px-3 py-2 rounded bg-white text-gray-900 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700",placeholder:"Phone number"},null,512),[[k,s(o).phone]]),s(o).errors.phone?(n(),d("div",ae,u(s(o).errors.phone),1)):b("",!0)]),t("div",null,[l(y,{for:"profile_img",value:"Profile Image",class:"dark:text-gray-300"}),t("div",ne,[t("label",ie,[l(s(V),{class:"w-5 h-5"}),e[24]||(e[24]=C(" Upload Image "))]),t("input",{id:"profile_img",type:"file",accept:"image/*",class:"hidden",onChange:e[9]||(e[9]=r=>S(r,s(o)))},null,32),t("div",de,[m.value?(n(),d("img",{key:0,src:m.value,class:"object-cover w-full h-full"},null,8,ue)):b("",!0)])]),l(x,{message:s(o).errors.profile_img},null,8,["message"])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block mb-1 font-semibold text-gray-700 dark:text-gray-300"},"Status",-1)),g(t("select",{"onUpdate:modelValue":e[10]||(e[10]=r=>s(o).status=r),class:"w-full border px-3 py-2 rounded bg-white text-gray-900 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700"},e[25]||(e[25]=[t("option",{value:"Active"},"Active",-1),t("option",{value:"Inactive"},"Inactive",-1)]),512),[[A,s(o).status]]),s(o).errors.status?(n(),d("div",me,u(s(o).errors.status),1)):b("",!0)]),t("div",pe,[t("button",{type:"button",onClick:e[11]||(e[11]=r=>v.value=!1),class:"btn-secondary dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}," Cancel "),t("button",{type:"submit",class:"btn-primary dark:bg-blue-600 dark:hover:bg-blue-500 dark:text-white",disabled:s(a).processing},u(s(a).processing?"Updating...":"Update"),9,ce)])],32)])]),_:1},8,["show"])]))}};export{he as default};
