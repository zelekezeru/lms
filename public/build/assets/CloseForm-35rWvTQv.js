import{x as p,q as x,e as y,o as l,w as k,a as t,t as s,l as w,m as _,u as r,c as m,F as h,f as v,k as g,s as f,i as c,y as b,v as $}from"./app-boolWuqt.js";import{_ as V}from"./AppLayout-Jlo_2xwN.js";import"./ChevronDownIcon-CrEbpZAY.js";import"./AcademicCapIcon-B2eBRt4w.js";import"./PlusIcon-BHP5LKuL.js";import"./LanguageToggle-BOnLKTMI.js";const S={class:"text-2xl font-semibold mb-4 text-gray-900 dark:text-white"},B={class:"bg-white dark:bg-gray-800 p-6 rounded shadow space-y-4"},C={class:"text-gray-700 dark:text-gray-300 underline"},M={class:"text-gray-900 dark:text-white"},U={class:"mb-1 text-lg font-bold text-green-500 dark:text-green-200"},F={class:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-200"},N=["value"],j=["value"],D={class:"text-red-600 dark:text-red-400"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},T={class:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-200"},q={key:0,class:"text-sm text-red-500 dark:text-red-400"},E={class:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-200"},L={key:0,class:"text-sm text-red-500 dark:text-red-400"},z={class:"inline-flex items-center text-gray-900 dark:text-gray-200"},A={key:0,class:"text-sm text-red-500 dark:text-red-400"},G=["disabled"],W={__name:"CloseForm",props:{semester:Object,semesters:Object},setup(i){const n=i,e=p({approval:!1,new_semester_id:null,new_semester_start_date:"",new_semester_end_date:"",errors:{}});n.semester&&(e.new_semester_id=n.semester.id,e.new_semester_start_date=n.semester.start_date||"",e.new_semester_end_date=n.semester.end_date||""),x(()=>e.new_semester_id,o=>{if(o===n.semester.id)e.new_semester_start_date=n.semester.start_date||"",e.new_semester_end_date=n.semester.end_date||"";else{const a=n.semesters.find(d=>d.id===o);a?(e.new_semester_start_date=a.start_date||"",e.new_semester_end_date=a.end_date||""):(e.new_semester_start_date="",e.new_semester_end_date="")}});const u=()=>{e.post(route("semesters.close"),{onSuccess:()=>{e.reset()}})};return(o,a)=>(l(),y(V,null,{default:k(()=>[t("h2",S,s(o.$t("semester.close_active_title")),1),t("div",B,[t("p",C,[t("strong",M,s(o.$t("semester.current_active")),1),t("span",U,s(i.semester.name),1)]),t("form",{onSubmit:w(u,["prevent"]),class:"space-y-4"},[t("div",null,[t("label",F,s(o.$t("semester.select_next_opening")),1),_(t("select",{"onUpdate:modelValue":a[0]||(a[0]=d=>r(e).new_semester_id=d),class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[t("option",{value:i.semester.id,disabled:"",class:"text-green-500 dark:text-green-400 bg-white dark:bg-gray-700"}," ðŸŸ¢ "+s(o.$t("semester.current_active_option"))+" : "+s(i.semester.name),9,N),(l(!0),m(h,null,v(i.semesters,d=>(l(),m("option",{key:d.id,value:d.id,class:"bg-white text-blue-500 dark:text-blue-400 dark:bg-gray-700"},[a[4]||(a[4]=g(" ðŸ”´ ")),t("span",D,s(d.name)+" - "+s(o.$t("semester.semester")),1)],8,j))),128))],512),[[f,r(e).new_semester_id]]),t("div",O,[t("div",null,[t("label",T,s(o.$t("semester.start_date")),1),_(t("input",{"onUpdate:modelValue":a[1]||(a[1]=d=>r(e).new_semester_start_date=d),type:"date",class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"},null,512),[[b,r(e).new_semester_start_date]]),r(e).errors.new_semester_start_date?(l(),m("div",q,s(r(e).errors.new_semester_start_date),1)):c("",!0)]),t("div",null,[t("label",E,s(o.$t("semester.end_date")),1),_(t("input",{"onUpdate:modelValue":a[2]||(a[2]=d=>r(e).new_semester_end_date=d),type:"date",class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"},null,512),[[b,r(e).new_semester_end_date]]),r(e).errors.new_semester_end_date?(l(),m("div",L,s(r(e).errors.new_semester_end_date),1)):c("",!0)])])]),t("div",null,[t("label",z,[_(t("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=d=>r(e).approval=d),class:"mr-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},null,512),[[$,r(e).approval]]),g(" "+s(o.$t("semester.confirm_close_and_activate")),1)]),r(e).errors.approval?(l(),m("div",A,s(r(e).errors.approval),1)):c("",!0)]),t("button",{type:"submit",class:"bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 text-white px-6 py-2 rounded",disabled:r(e).processing},s(o.$t("semester.close_semester")),9,G)],32)])]),_:1}))}};export{W as default};
