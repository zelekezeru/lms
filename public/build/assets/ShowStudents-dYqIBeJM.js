import{G as v,x as m,r as S,c,o as d,a as r,t as a,F as u,e as p,n as x,g as b,w as f,i as $,u as o,S as h,d as g}from"./app-ls423X1b.js";import{S as V}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{r as N}from"./ArrowPathIcon-DHBHUFaE.js";import{r as C}from"./ChevronDownIcon-CK4h5PLV.js";import{s as T}from"./index-PiO7mU8p.js";import"./index-BS-LpV23.js";import"./index-3Dm56wG_.js";import"./index-C2L-JEd3.js";import"./index-BF529eZw.js";import"./index-cE3ZCDTS.js";import"./index-0ASzn_Nt.js";const j={class:"flex items-center justify-between mb-4"},B={class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},F={class:"overflow-x-auto"},L={class:"mt-8 border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4"},M={class:"flex items-center justify-between mb-4"},E={class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},q={class:"overflow-x-auto"},A={class:"w-full min-w-[500px] table-auto border border-gray-300 dark:border-gray-600"},H={class:"bg-gray-50 dark:bg-gray-700"},U={class:"w-40 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r border-gray-300 dark:border-gray-600"},z={class:"w-30 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r border-gray-300 dark:border-gray-600"},D={class:"w-80 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"},G={class:"w-80 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"},O={class:"w-40 px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r border-gray-300 dark:border-gray-600"},J={class:"w-30 px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r border-gray-300 dark:border-gray-600"},K={class:"w-80 px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},P={class:"w-80 px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Q={class:"mt-3 flex justify-center space-x-6"},de={__name:"ShowStudents",props:{track:{type:Object,required:!0},students:{type:Array,required:!0}},setup(n){const{t:y}=v(),_=n,s=m({});_.students.data.forEach(t=>{s[t.id]={section_id:t.section?t.section.id:"",processing:!1}}),S(!1);const k=t=>{s[t].processing=!0,m({section_id:s[t].section_id,student_id:t}).post(route("student-section.assign"),{onSuccess:()=>{V.fire(y("students.success"),y("students.student_assigned_successfully"),"success")},onFinish:()=>{s[t].processing=!1},onError:()=>{var e;s[t].processing=!1,s[t].section_id=(e=students.find(l=>l.id==t).section)==null?void 0:e.id}})};return(t,w)=>(d(),c("div",null,[r("div",j,[r("h2",B,a(t.$t("students.students")),1)]),r("div",F,[r("div",L,[r("div",M,[r("h2",E,a(t.$t("students.students")),1)]),r("div",q,[r("table",A,[r("thead",null,[r("tr",H,[r("th",U,a(t.$t("students.name")),1),r("th",z,a(t.$t("students.id")),1),r("th",D,a(t.$t("students.current_section")),1),r("th",G,a(t.$t("students.assign_to")),1)])]),r("tbody",null,[(d(!0),c(u,null,p(n.students.data,(e,l)=>(d(),c("tr",{key:e.id,class:x([l%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700","border-b border-gray-300 dark:border-gray-600"])},[r("td",O,[b(o(h),{href:t.route("students.show",{student:e.id})},{default:f(()=>[$(a(e.firstName)+" "+a(e.lastName),1)]),_:2},1032,["href"])]),r("td",J,a(e.idNo),1),r("td",K,a(e.section?e.section.name:t.$t("students.not_available")),1),r("td",P,[b(o(T),{id:"studentSectionAssignment",modelValue:o(s)[e.id].section_id,"onUpdate:modelValue":i=>o(s)[e.id].section_id=i,options:n.track.sections.filter(i=>i.year.id==e.yearId&&i.semester.id==e.semesterId&&i.studyMode.id==e.studyMode.id),"option-value":"id","option-label":"name",checkmark:"",filter:"",onChange:i=>k(e.id),disabled:o(s)[e.id].processing,placeholder:"Change Section To...",maxSelectedLabels:3,class:"w-full px-3 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring focus:ring-indigo-500 dark:bg-gray-800 dark:text-gray-100 transition"},{dropdownicon:f(()=>[o(s)[e.id].processing?(d(),g(o(N),{key:0,class:"w-5 h-5 text-gray-500 animate-spin"})):(d(),g(o(C),{key:1,class:"w-5 h-5 text-gray-500"}))]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange","disabled"])])],2))),128))])])]),r("div",Q,[(d(!0),c(u,null,p(n.students.meta.links,e=>(d(),g(o(h),{key:e.label,"preserve-state":!0,prefetch:"hover",href:e.url?`${e.url}&search=${t.search}`:"#",class:x(["p-2 px-4 text-sm font-medium rounded-lg transition-colors",{"text-gray-700 dark:text-gray-400":!0,"cursor-not-allowed opacity-50":!e.url,"!bg-gray-100 !dark:bg-gray-800":e.active}]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])])]))}};export{de as default};
