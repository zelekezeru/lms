import{G as _,x as y,r as h,c as l,o as i,a as t,t as a,F as k,e as w,n as S,g as m,w as p,i as v,u as o,S as $,d as u}from"./app-C67bHBy3.js";import{S as V}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{r as N}from"./ArrowPathIcon-CVMdjTqP.js";import{r as C}from"./ChevronDownIcon-kcjEKzpZ.js";import{s as B}from"./index-C1w1K7T3.js";import"./index-CszGsrcD.js";import"./index-Qyp1b_15.js";import"./index-ESnBs5Rk.js";import"./index-DVetlQQA.js";import"./index-CPIcN79x.js";import"./index-Bb7iHRcZ.js";const F={class:"flex items-center justify-between mb-4"},j={class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},E={class:"overflow-x-auto"},T={class:"mt-8 border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4"},q={class:"flex items-center justify-between mb-4"},A={class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},L={class:"overflow-x-auto"},M={class:"w-full min-w-[500px] table-auto border border-gray-300 dark:border-gray-600"},U={class:"bg-gray-50 dark:bg-gray-700"},z={class:"w-40 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r border-gray-300 dark:border-gray-600"},D={class:"w-30 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r border-gray-300 dark:border-gray-600"},G={class:"w-80 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"},O={class:"w-80 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"},H={class:"w-40 px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r border-gray-300 dark:border-gray-600"},J={class:"w-30 px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r border-gray-300 dark:border-gray-600"},K={class:"w-80 px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},P={class:"w-80 px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},oe={__name:"ShowStudents",props:{track:{type:Object,required:!0},students:{type:Array,required:!0}},setup(n){const{t:g}=_(),x=n,s=y({});x.students.forEach(e=>{s[e.id]={section_id:e.section.id??"",processing:!1}}),h(!1);const b=e=>{s[e].processing=!0,y({section_id:s[e].section_id,student_id:e}).post(route("student-section.assign"),{onSuccess:()=>{V.fire(g("students.success"),g("students.student_assigned_successfully"),"success")},onFinish:()=>{s[e].processing=!1},onError:()=>{var r;s[e].processing=!1,s[e].section_id=(r=students.find(c=>c.id==e).section)==null?void 0:r.id}})};return(e,f)=>(i(),l("div",null,[t("div",F,[t("h2",j,a(e.$t("students.students")),1)]),t("div",E,[t("div",T,[t("div",q,[t("h2",A,a(e.$t("students.students")),1)]),t("div",L,[t("table",M,[t("thead",null,[t("tr",U,[t("th",z,a(e.$t("students.name")),1),t("th",D,a(e.$t("students.id")),1),t("th",G,a(e.$t("students.current_section")),1),t("th",O,a(e.$t("students.assign_to")),1)])]),t("tbody",null,[(i(!0),l(k,null,w(n.students,(r,c)=>(i(),l("tr",{key:r.id,class:S([c%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700","border-b border-gray-300 dark:border-gray-600"])},[t("td",H,[m(o($),{href:e.route("students.show",{student:r.id})},{default:p(()=>[v(a(r.firstName)+" "+a(r.lastName),1)]),_:2},1032,["href"])]),t("td",J,a(r.idNo),1),t("td",K,a(r.section?r.section.name:e.$t("students.not_available")),1),t("td",P,[m(o(B),{id:"studentSectionAssignment",modelValue:o(s)[r.id].section_id,"onUpdate:modelValue":d=>o(s)[r.id].section_id=d,options:n.track.sections.filter(d=>d.year.id==r.year.id&&d.semester.id==r.semester.id&&d.studyMode.id==r.studyMode.id),"option-value":"id","option-label":"name",checkmark:"",filter:"",onChange:d=>b(r.id),disabled:o(s)[r.id].processing,placeholder:"Change Section To...",maxSelectedLabels:3,class:"w-full px-3 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring focus:ring-indigo-500 dark:bg-gray-800 dark:text-gray-100 transition"},{dropdownicon:p(()=>[o(s)[r.id].processing?(i(),u(o(N),{key:0,class:"w-5 h-5 text-gray-500 animate-spin"})):(i(),u(o(C),{key:1,class:"w-5 h-5 text-gray-500"}))]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange","disabled"])])],2))),128))])])])])])]))}};export{oe as default};
