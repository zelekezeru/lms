import{r as _,x as j,c as u,o as i,a as e,h as T,g as o,i as p,u as a,w as l,F,e as q,d as D,t as b,k as I,l as m,A as h,z as w,W,n as J,S as K}from"./app-BJSK08ef.js";import{S as M}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{_ as H}from"./Modal-CEDcsQYq.js";import{_ as y}from"./InputError-Ba_g-GnS.js";import{a as Q,T as X}from"./TableHeader-Bb6SYV3N.js";import{T as ee}from"./TableZebraRows-CRvJou8y.js";import{_ as c}from"./Thead-CWsWaCtK.js";import{r as te}from"./PlusCircleIcon-CHzp1Oi9.js";import{r as ae}from"./PencilSquareIcon-BstgOpUb.js";import{r as se}from"./TrashIcon-BkcbumUC.js";import{r as oe}from"./XMarkIcon-9Jp4JOJq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const re={class:"flex items-center justify-between mb-4"},ne={class:"overflow-x-auto mt-8 border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4"},le={key:0,class:"text-center text-gray-500 dark:text-gray-400"},de={key:1},ie={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ue={class:"px-6 py-4"},me={class:"px-6 py-4"},ye={class:"px-6 py-4"},pe={class:"px-6 py-4"},be={class:"px-6 py-4 flex justify-start space-x-4"},ce=["onClick"],ge=["onClick"],xe={key:0,class:"mt-3 flex justify-center space-x-6"},fe={class:"w-full px-8 py-6"},ve={class:"mb-4"},ke={class:"mb-4"},_e={class:"mb-4"},he={class:"mb-4"},we={class:"flex justify-end mt-4"},Me=["disabled"],Ce={class:"p-6 space-y-6"},Se={class:"flex items-center justify-between"},Te={class:"mb-4"},Be={class:"mb-4"},Ne={class:"mb-4"},Ve={class:"mb-4"},Pe={class:"flex justify-end space-x-2"},Ae=["disabled"],Ye={__name:"ShowMethods",props:{paymentMethods:{type:Object,required:!0}},setup(g){var V,P,A,O,$;const x=g,B=_(!1),f=_(!1),v=_(!1),C=_(null),n=j({payment_type:"",bank_name:"",account_number:"",is_active:"1"}),r=j({payment_type:((V=x.paymentMethods)==null?void 0:V.payment_type)||"",bank_name:((P=x.paymentMethods)==null?void 0:P.bank_name)||"",account_number:((A=x.paymentMethods)==null?void 0:A.account_number)||"",is_active:(($=(O=x.paymentMethods)==null?void 0:O.is_active)==null?void 0:$.toString())||"1"}),k=()=>{B.value=!0,W.get(window.location.href,{preserveState:!0,preserveScroll:!0,onFinish:()=>B.value=!1})},L=d=>{M.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&W.delete(route("paymentMethods.destroy",{paymentMethod:d}),{onSuccess:()=>{M.fire("Deleted!","The payment method has been deleted.","success"),k()},onError:()=>{M.fire("Error!","Failed to delete the payment method.","error"),k()}})})},z=()=>{n.post(route("paymentMethods.store"),{onSuccess:()=>{M.fire("Success!","The payment method has been created.","success"),n.reset(),f.value=!1,k()}})},Y=d=>{C.value=d.id,r.payment_type=d.payment_type,r.bank_name=d.bank_name,r.account_number=d.account_number,r.is_active=d.is_active.toString(),v.value=!0},R=()=>{C.value&&r.put(route("paymentMethods.update",{paymentMethod:C.value}),{onSuccess:()=>{v.value=!1,r.reset(),k()}})},N=()=>{f.value=!1,n.reset()},S=()=>{v.value=!1,r.reset()};return(d,t)=>{var E,U;return i(),u("div",null,[e("div",re,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Payment Methods",-1)),e("button",{onClick:t[0]||(t[0]=s=>f.value=!0),class:"flex text-green-600 hover:text-green-800"},[o(a(te),{class:"mx-2 w-8 h-8"}),t[9]||(t[9]=p(" Create Payment Method "))])]),e("div",ne,[g.paymentMethods?(i(),u("div",de,[o(X,null,{default:l(()=>[o(Q,null,{default:l(()=>[e("tr",null,[o(c,null,{default:l(()=>t[11]||(t[11]=[p("No.")])),_:1}),o(c,null,{default:l(()=>t[12]||(t[12]=[p("Method Name")])),_:1}),o(c,null,{default:l(()=>t[13]||(t[13]=[p("Account Number")])),_:1}),o(c,null,{default:l(()=>t[14]||(t[14]=[p("Payment Type")])),_:1}),o(c,null,{default:l(()=>t[15]||(t[15]=[p("Status")])),_:1}),o(c,null,{default:l(()=>t[16]||(t[16]=[p("Actions")])),_:1})])]),_:1}),e("tbody",null,[(i(!0),u(F,null,q(g.paymentMethods,(s,Z)=>(i(),D(ee,{key:s.id},{default:l(()=>[e("th",ie,b(Z+1),1),e("td",ue,b(s.bank_name),1),e("td",me,b(s.account_number),1),e("td",ye,b(s.payment_type),1),e("td",pe,b(s.is_active=="1"?"Active":"Inactive"),1),e("td",be,[d.userCan("update-paymentMethods")?(i(),u("button",{key:0,onClick:G=>Y(s),class:"text-green-500 hover:text-green-700"},[o(a(ae),{class:"w-5 h-5"})],8,ce)):T("",!0),d.userCan("delete-paymentMethods")?(i(),u("button",{key:1,onClick:G=>L(s.id),class:"text-red-500 hover:text-red-700"},[o(a(se),{class:"w-5 h-5"})],8,ge)):T("",!0)])]),_:2},1024))),128))])]),_:1})])):(i(),u("div",le," No payment method information available. "))]),(U=(E=g.paymentMethods)==null?void 0:E.meta)!=null&&U.links?(i(),u("div",xe,[(i(!0),u(F,null,q(g.paymentMethods.meta.links,s=>(i(),D(a(K),{key:s.label,href:s.url||"#",class:J(["p-2 px-4 text-sm font-medium rounded-lg transition-colors",{"text-gray-700 dark:text-gray-400":!0,"cursor-not-allowed opacity-50":!s.url,"!bg-gray-100 !dark:bg-gray-800":s.active}]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])):T("",!0),o(H,{show:f.value,onClose:N,maxWidth:"md",class:"p-6"},{default:l(()=>[e("div",fe,[t[23]||(t[23]=e("h1",{class:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100"},"Create New Payment Method",-1)),e("form",{onSubmit:I(z,["prevent"])},[e("div",null,[e("div",ve,[t[18]||(t[18]=e("label",{for:"payment_type",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"},"Payment Type",-1)),m(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>a(n).payment_type=s),id:"payment_type",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},t[17]||(t[17]=[e("option",{value:"",disabled:""},"Select Payment Type",-1),e("option",{value:"Bank"},"Bank Transfer",-1),e("option",{value:"Cash"},"Cash",-1),e("option",{value:"Cheque"},"Cheque",-1),e("option",{value:"Mobile Money"},"Mobile Money",-1),e("option",{value:"Other"},"Other",-1)]),512),[[h,a(n).payment_type]]),o(y,{message:a(n).errors.payment_type,class:"mt-2"},null,8,["message"])]),e("div",ke,[t[19]||(t[19]=e("label",{for:"bank_name",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"},"Bank Name (Optional)",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>a(n).bank_name=s),id:"bank_name",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[w,a(n).bank_name]]),o(y,{message:a(n).errors.bank_name,class:"mt-2"},null,8,["message"])]),e("div",_e,[t[20]||(t[20]=e("label",{for:"account_number",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"},"Account Number (Optional)",-1)),m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>a(n).account_number=s),id:"account_number",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[w,a(n).account_number]]),o(y,{message:a(n).errors.account_number,class:"mt-2"},null,8,["message"])]),e("div",he,[t[22]||(t[22]=e("label",{for:"is_active",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"},"Status",-1)),m(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>a(n).is_active=s),id:"is_active",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},t[21]||(t[21]=[e("option",{value:"1"},"Active",-1),e("option",{value:"0"},"Inactive",-1)]),512),[[h,a(n).is_active]]),o(y,{message:a(n).errors.is_active,class:"mt-2"},null,8,["message"])])]),e("div",we,[e("button",{type:"submit",disabled:a(n).processing,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-4"},b(a(n).processing?"Creating...":"Create Payment Method"),9,Me),e("button",{type:"button",onClick:N,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])],32)])]),_:1},8,["show"]),o(H,{show:v.value,onClose:S,maxWidth:"md",class:"p-6"},{default:l(()=>[e("form",{onSubmit:I(R,["prevent"])},[e("div",Ce,[e("div",Se,[t[24]||(t[24]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Edit Payment Method",-1)),e("button",{onClick:S,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[o(a(oe),{class:"w-5 h-5"})])]),e("div",null,[e("div",Te,[t[26]||(t[26]=e("label",{for:"payment_type",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"},"Payment Type",-1)),m(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>a(r).payment_type=s),id:"payment_type",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},t[25]||(t[25]=[e("option",{value:"",disabled:""},"Select Payment Type",-1),e("option",{value:"Bank"},"Bank Transfer",-1),e("option",{value:"Cash"},"Cash",-1),e("option",{value:"Cheque"},"Cheque",-1),e("option",{value:"Mobile Money"},"Mobile Money",-1),e("option",{value:"Other"},"Other",-1)]),512),[[h,a(r).payment_type]]),o(y,{message:a(r).errors.payment_type,class:"mt-2"},null,8,["message"])]),e("div",Be,[t[27]||(t[27]=e("label",{for:"bank_name",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"},"Bank Name (Optional)",-1)),m(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>a(r).bank_name=s),id:"bank_name",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[w,a(r).bank_name]]),o(y,{message:a(r).errors.bank_name,class:"mt-2"},null,8,["message"])]),e("div",Ne,[t[28]||(t[28]=e("label",{for:"account_number",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"},"Account Number (Optional)",-1)),m(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>a(r).account_number=s),id:"account_number",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[w,a(r).account_number]]),o(y,{message:a(r).errors.account_number,class:"mt-2"},null,8,["message"])]),e("div",Ve,[t[30]||(t[30]=e("label",{for:"is_active",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"},"Status",-1)),m(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>a(r).is_active=s),id:"is_active",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},t[29]||(t[29]=[e("option",{value:"1"},"Active",-1),e("option",{value:"0"},"Inactive",-1)]),512),[[h,a(r).is_active]]),o(y,{message:a(r).errors.is_active,class:"mt-2"},null,8,["message"])])]),e("div",Pe,[e("button",{type:"submit",disabled:a(r).processing,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition"},b(a(r).processing?"Saving...":"Save Changes"),9,Ae),e("button",{onClick:S,type:"button",class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])])],32)]),_:1},8,["show"])])}}};export{Ye as default};
