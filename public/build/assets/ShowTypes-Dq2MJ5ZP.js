import{r as S,x as O,c as n,o as d,a as t,h as M,i as r,j as b,u as a,w as y,F as x,e as f,d as W,t as u,l as q,g as m,A as v,z as w,W as H,n as Q,S as X}from"./app-CDLyKxbh.js";import{S as P}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{_ as z}from"./Modal-BRIx0aeC.js";import{_ as g}from"./InputError-D-IF2eZM.js";import{T as ee,a as te}from"./TableHeader-CMPitk8A.js";import{T as se}from"./TableZebraRows-B3Vp8BBI.js";import{_ as k}from"./Thead-CMi78agO.js";import{r as ae}from"./PlusCircleIcon-paAh6brh.js";import{r as oe}from"./PencilSquareIcon-BN2P40PX.js";import{r as re}from"./TrashIcon-BQ7YEWL1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const le={class:"flex items-center justify-between mb-4"},de={class:"overflow-x-auto mt-8 border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4"},ne={key:0,class:"text-center text-gray-500 dark:text-gray-400"},ue={key:1},ie={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ye={class:"px-6 py-4"},me={class:"px-6 py-4"},ge={class:"px-6 py-4"},pe={class:"px-6 py-4"},be={class:"px-6 py-4"},xe={class:"px-6 py-4 flex justify-start space-x-4"},fe=["onClick"],ke=["onClick"],ce={key:0,class:"mt-3 flex justify-center space-x-6"},ve={class:"w-full px-8 py-6"},we={class:"mb-4"},_e={class:"mb-4"},Te=["value"],Ce={class:"mb-4"},Se=["value"],he={class:"mb-4"},Me=["value"],Pe={class:"mb-4"},Ve={class:"mb-4"},Ae={class:"flex justify-end mt-4"},Ue=["disabled"],Ne={class:"w-full px-8 py-6"},De={class:"mb-4"},Be={class:"mb-4"},Ee=["value"],$e={class:"mb-4"},je=["value"],Fe={class:"mb-4"},Le=["value"],Ie={class:"mb-4"},Oe={class:"mb-4"},We={class:"flex justify-end mt-4"},qe=["disabled"],st={__name:"ShowTypes",props:{paymentTypes:{type:Array,required:!0},paymentCategories:{type:Array,required:!0},studyModes:{type:Array,required:!0}},setup(p){var N,D,B,E,$,j;const c=p,V=S(!1),_=S(!1),T=S(!1),h=S(null),l=O({payment_category_id:"",study_mode_id:"",language:"",duration:"",amount:"",type:""}),o=O({payment_category_id:((N=c.paymentTypes)==null?void 0:N.payment_category_id)||"",study_mode_id:((D=c.paymentTypes)==null?void 0:D.study_mode_id)||"",language:((B=c.paymentTypes)==null?void 0:B.language)||"",duration:((E=c.paymentTypes)==null?void 0:E.duration)||"",amount:(($=c.paymentTypes)==null?void 0:$.amount)||"",type:((j=c.paymentTypes)==null?void 0:j.type)||""}),C=()=>{V.value=!0,H.get(window.location.href,{preserveState:!0,preserveScroll:!0,onFinish:()=>V.value=!1})},Y=i=>{P.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&H.delete(route("paymentTypes.destroy",{paymentType:i}),{onSuccess:()=>{P.fire("Deleted!","The type has been deleted.","success"),C()},onError:()=>{P.fire("Error!","Failed to delete the type.","error"),C()}})})},R=()=>{l.post(route("paymentTypes.store"),{onSuccess:()=>{l.reset(),_.value=!1,C()}})},Z=i=>{h.value=i.id,o.payment_category_id=i.payment_category_id,o.study_mode_id=i.study_mode_id,o.language=i.language,o.type=i.type,o.amount=i.amount,o.duration=i.duration,T.value=!0},G=()=>{h.value&&o.put(route("paymentTypes.update",{paymentType:h.value}),{onSuccess:()=>{T.value=!1,o.reset(),C()}})},A=()=>{_.value=!1,l.reset()},U=()=>{T.value=!1,o.reset()};return(i,e)=>{var F,L,I;return d(),n("div",null,[t("div",le,[e[14]||(e[14]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Payment Types",-1)),t("button",{onClick:e[0]||(e[0]=s=>_.value=!0),class:"flex text-green-600 hover:text-green-800"},[r(a(ae),{class:"mx-2 w-8 h-8"}),e[13]||(e[13]=b(" Create Payment Type "))])]),t("div",de,[(F=p.paymentTypes)!=null&&F.length?(d(),n("div",ue,[r(te,null,{default:y(()=>[r(ee,null,{default:y(()=>[t("tr",null,[r(k,null,{default:y(()=>e[15]||(e[15]=[b("No.")])),_:1}),r(k,null,{default:y(()=>e[16]||(e[16]=[b("Type")])),_:1}),r(k,null,{default:y(()=>e[17]||(e[17]=[b("Language")])),_:1}),r(k,null,{default:y(()=>e[18]||(e[18]=[b("Duration")])),_:1}),r(k,null,{default:y(()=>e[19]||(e[19]=[b("Amount")])),_:1}),r(k,null,{default:y(()=>e[20]||(e[20]=[b("Status")])),_:1}),r(k,null,{default:y(()=>e[21]||(e[21]=[b("Actions")])),_:1})])]),_:1}),t("tbody",null,[(d(!0),n(x,null,f(p.paymentTypes||[],(s,J)=>(d(),W(se,{key:s.id},{default:y(()=>[t("th",ie,u(J+1),1),t("td",ye,u(s.type),1),t("td",me,u(s.language||"N/A"),1),t("td",ge,u(s.duration||"N/A"),1),t("td",pe,u(s.amount||"N/A"),1),t("td",be,u(s.is_active=="1"?"Active":"Inactive"),1),t("td",xe,[i.userCan("update-paymentTypes")?(d(),n("button",{key:0,onClick:K=>Z(s),class:"text-green-500 hover:text-green-700"},[r(a(oe),{class:"w-5 h-5"})],8,fe)):M("",!0),i.userCan("delete-paymentTypes")?(d(),n("button",{key:1,onClick:K=>Y(s.id),class:"text-red-500 hover:text-red-700"},[r(a(re),{class:"w-5 h-5"})],8,ke)):M("",!0)])]),_:2},1024))),128))])]),_:1})])):(d(),n("div",ne," No payment type information available. "))]),(I=(L=p.paymentTypes)==null?void 0:L.meta)!=null&&I.links?(d(),n("div",ce,[(d(!0),n(x,null,f(p.paymentTypes.meta.links,s=>(d(),W(a(X),{key:s.label,href:s.url||"#",class:Q(["p-2 px-4 text-sm font-medium rounded-lg transition-colors",{"text-gray-700 dark:text-gray-400":!0,"cursor-not-allowed opacity-50":!s.url,"!bg-gray-100 !dark:bg-gray-800":s.active}]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])):M("",!0),r(z,{show:_.value,onClose:A,maxWidth:"md",class:"p-6"},{default:y(()=>[t("div",ve,[e[31]||(e[31]=t("h1",{class:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100"},"Create New Payment Item",-1)),t("form",{onSubmit:q(R,["prevent"])},[t("div",null,[t("div",we,[e[22]||(e[22]=t("label",{for:"type",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Type ",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a(l).type=s),id:"type",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[v,a(l).type]]),r(g,{message:a(l).errors.type,class:"mt-2"},null,8,["message"])]),t("div",_e,[e[24]||(e[24]=t("label",{for:"payment_category_id",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Payment Category ",-1)),m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a(l).payment_category_id=s),id:"payment_category_id",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[23]||(e[23]=t("option",{disabled:"",value:""}," Select Category ",-1)),(d(!0),n(x,null,f(p.paymentCategories,s=>(d(),n("option",{key:s.id,value:s.id},u(s.name),9,Te))),128))],512),[[w,a(l).payment_category_id]]),r(g,{message:a(l).errors.payment_category_id,class:"mt-2"},null,8,["message"])]),t("div",Ce,[e[26]||(e[26]=t("label",{for:"study_mode_id",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Study Mode ",-1)),m(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a(l).study_mode_id=s),id:"study_mode_id",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[25]||(e[25]=t("option",{disabled:"",value:""}," Select Study Mode ",-1)),(d(!0),n(x,null,f(p.studyModes,s=>(d(),n("option",{key:s.id,value:s.id},u(s.mode)+" - "+u(s.program.name),9,Se))),128))],512),[[w,a(l).study_mode_id]]),r(g,{message:a(l).errors.study_mode_id,class:"mt-2"},null,8,["message"])]),t("div",he,[e[28]||(e[28]=t("label",{for:"duration",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Payment Duration ",-1)),m(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>a(l).duration=s),id:"duration",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[27]||(e[27]=t("option",{disabled:"",value:""}," Select Pay Duration ",-1)),(d(),n(x,null,f(["One-Time","Per-Semester","Per-Course","Monthly","Anually","Other"],s=>t("option",{key:s,value:s},u(s),9,Me)),64))],512),[[w,a(l).duration]]),r(g,{message:a(l).errors.duration,class:"mt-2"},null,8,["message"])]),t("div",Pe,[e[29]||(e[29]=t("label",{for:"language",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Language ",-1)),m(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>a(l).language=s),id:"language",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[v,a(l).language]]),r(g,{message:a(l).errors.language,class:"mt-2"},null,8,["message"])]),t("div",Ve,[e[30]||(e[30]=t("label",{for:"amount",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Amount ",-1)),m(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>a(l).amount=s),id:"amount",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[v,a(l).amount]]),r(g,{message:a(l).errors.amount,class:"mt-2"},null,8,["message"])])]),t("div",Ae,[t("button",{type:"submit",disabled:a(l).processing,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-4"},u(a(l).processing?"Creating...":"Create Payment Item"),9,Ue),t("button",{type:"button",onClick:A,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])],32)])]),_:1},8,["show"]),r(z,{show:T.value,onClose:U,maxWidth:"md",class:"p-6"},{default:y(()=>[t("div",Ne,[e[41]||(e[41]=t("h1",{class:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100"},"Edit Payment Type",-1)),t("form",{onSubmit:q(G,["prevent"])},[t("div",null,[t("div",De,[e[32]||(e[32]=t("label",{for:"type",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Type ",-1)),m(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>a(o).type=s),id:"type",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[v,a(o).type]]),r(g,{message:a(o).errors.type,class:"mt-2"},null,8,["message"])]),t("div",Be,[e[34]||(e[34]=t("label",{for:"payment_category_id",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Payment Category ",-1)),m(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>a(o).payment_category_id=s),id:"payment_category_id",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[33]||(e[33]=t("option",{disabled:"",value:""}," Select Category ",-1)),(d(!0),n(x,null,f(p.paymentCategories,s=>(d(),n("option",{key:s.id,value:s.id},u(s.name),9,Ee))),128))],512),[[w,a(o).payment_category_id]]),r(g,{message:a(o).errors.payment_category_id,class:"mt-2"},null,8,["message"])]),t("div",$e,[e[36]||(e[36]=t("label",{for:"study_mode_id",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Study Mode ",-1)),m(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>a(o).study_mode_id=s),id:"study_mode_id",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[35]||(e[35]=t("option",{disabled:"",value:""}," Select Study Mode ",-1)),(d(!0),n(x,null,f(p.studyModes,s=>(d(),n("option",{key:s.id,value:s.id},u(s.mode)+" - "+u(s.program.name),9,je))),128))],512),[[w,a(o).study_mode_id]]),r(g,{message:a(o).errors.study_mode_id,class:"mt-2"},null,8,["message"])]),t("div",Fe,[e[38]||(e[38]=t("label",{for:"duration",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Payment Duration ",-1)),m(t("select",{"onUpdate:modelValue":e[10]||(e[10]=s=>a(o).duration=s),id:"duration",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[37]||(e[37]=t("option",{disabled:"",value:""}," Select Pay Duration ",-1)),(d(),n(x,null,f(["One-Time","Per-Semester","Per-Course","Monthly","Anually","Other"],s=>t("option",{key:s,value:s},u(s),9,Le)),64))],512),[[w,a(o).duration]]),r(g,{message:a(o).errors.duration,class:"mt-2"},null,8,["message"])]),t("div",Ie,[e[39]||(e[39]=t("label",{for:"language",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Language ",-1)),m(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>a(o).language=s),id:"language",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[v,a(o).language]]),r(g,{message:a(o).errors.language,class:"mt-2"},null,8,["message"])]),t("div",Oe,[e[40]||(e[40]=t("label",{for:"amount",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Amount ",-1)),m(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>a(o).amount=s),id:"amount",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[v,a(o).amount]]),r(g,{message:a(o).errors.amount,class:"mt-2"},null,8,["message"])])]),t("div",We,[t("button",{type:"submit",disabled:a(o).processing,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-4"},u(a(o).processing?"Updating...":"Update Payment Type"),9,qe),t("button",{type:"button",onClick:U,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])],32)])]),_:1},8,["show"])])}}};export{st as default};
