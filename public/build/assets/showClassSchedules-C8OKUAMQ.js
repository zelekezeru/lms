import{r as _,m as f,x as $,q as N,c as i,o as d,a as e,g as c,t as l,F as k,e as w,u as s,d as S,i as v,f as A,w as g,n as C,S as q,T as V,h as O}from"./app-DLtq1iBM.js";import{s as U}from"./index-Dg6nu8lh.js";import{s as j}from"./index-Cytxv3f0.js";import{P as F}from"./PrimaryButton-CKz177IR.js";/* empty css                        */import{S as M}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{r as E}from"./XMarkIcon-CMe5FrZS.js";import{r as P}from"./PlusCircleIcon-DGQ-rE7j.js";import{s as T}from"./index-BTG-RcsG.js";import{s as D}from"./index-aP3D4j4C.js";import"./index-B2ASVOF6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CCPc2kDu.js";import"./index-Cg9BRUCR.js";import"./index-DYjwijDD.js";import"./index-Bmr-jZA2.js";import"./index-DuSOtttl.js";import"./index-2RKNU600.js";const R={class:"max-w-7xl mx-auto py-10 px-4 space-y-8"},W={class:"text-center"},z={class:"text-2xl font-bold text-gray-800 dark:text-white"},I={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow"},L={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},G={class:"hidden sm:flex flex-wrap gap-2"},H={class:"sm:hidden"},J={class:"flex justify-end"},K={class:"text-lg font-bold text-gray-700 dark:text-gray-200"},Q={class:"w-full min-w-[900px] table-fixed"},X={class:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300"},Y={class:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300"},Z={class:"px-4 py-3 text-sm text-blue-700 dark:text-blue-400"},ee={key:1,class:"text-gray-500 dark:text-gray-400"},te={class:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300"},ae={key:0},se={key:1,class:"text-gray-500 dark:text-gray-400"},re={key:1},oe={colspan:"4",class:"text-center px-4 py-6 text-sm text-gray-500 dark:text-gray-300"},le={key:0,class:"bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600"},de={class:"px-4 py-3"},ie={class:"px-4 py-3"},ne={class:"flex gap-2 items-center"},ce={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300"},ue={class:"px-4 py-3 flex items-center gap-2"},$e={__name:"showClassSchedules",props:{section:{required:!0,type:Object},activeCourses:{type:Array,required:!0},activeSemester:{type:Object,requried:!0},rooms:{type:Array,required:!0}},setup(m){const p=m,o=_("Monday"),h=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],b=f(()=>p.section.classSchedules.filter(u=>u.dayOfWeek==o.value));f(()=>new Date(p.activeSemester.start_date)),f(()=>new Date(p.activeSemester.end_date));const y=_(!1),r=$({section_id:p.section.id,semester_id:p.activeSemester.id,day_of_week:o.value,course_id:"",start_time:"",end_time:"",room_id:""});N(()=>r.start_time,u=>{if(u instanceof Date){const a=new Date(u);a.setMinutes(u.getMinutes()+20),r.end_time=a}});const B=()=>{r.day_of_week=o.value,r.post(route("classSchedules.store"),{onSuccess:()=>{M.fire("Added!","Schedule added successfully.","success"),y.value=!1,r.reset()}})};return(u,a)=>(d(),i("div",R,[e("div",W,[e("h1",z," Class Schedules for "+l(m.activeSemester.year.name)+" Semester - "+l(m.activeSemester.level),1)]),e("div",I,[e("div",L,[a[6]||(a[6]=e("div",{class:"text-gray-700 dark:text-gray-300 font-semibold"}," Select a Day ",-1)),e("div",G,[(d(),i(k,null,w(h,t=>c(s(U),{key:t,label:t,outlined:o.value!==t,severity:o.value===t?"primary":null,onClick:x=>o.value=t,class:C([o.value===t?"bg-blue-600 text-white hover:bg-blue-700":"bg-white text-gray-800 border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 hover:dark:bg-gray-700","transition font-medium px-4 py-2 rounded-lg text-sm"])},null,8,["label","outlined","severity","onClick","class"])),64))]),e("div",H,[c(s(j),{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value=t),options:h,placeholder:"Select a day",class:"w-full"},null,8,["modelValue"])])])]),e("div",J,[e("button",{class:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg text-sm transition flex items-center gap-2",onClick:a[1]||(a[1]=t=>y.value=!y.value)},[(d(),S(A(y.value?s(E):s(P)),{class:"w-5 h-5"})),v(" "+l(y.value?"Cancel":"Add New Schedule"),1)])]),e("h2",K,l(o.value?`${o.value} Class Schedule`:"Class Schedule"),1),c(V,{mode:"out-in","enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-75","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-75"},{default:g(()=>[(d(),i("div",{key:o.value,class:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-300 dark:border-gray-600"},[e("table",Q,[a[8]||(a[8]=e("thead",{class:"bg-gray-100 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"text-left px-4 py-3 font-medium text-sm text-gray-800 dark:text-gray-200"}," Course Name "),e("th",{class:"text-left px-4 py-3 font-medium text-sm text-gray-800 dark:text-gray-200"}," Time "),e("th",{class:"text-left px-4 py-3 font-medium text-sm text-gray-800 dark:text-gray-200"}," Instructor "),e("th",{class:"text-left px-4 py-3 font-medium text-sm text-gray-800 dark:text-gray-200"}," Room (Capacity) ")])],-1)),e("tbody",null,[b.value.length>0?(d(!0),i(k,{key:0},w(b.value,(t,x)=>(d(),i("tr",{key:t.id,class:C([x%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700","border-b border-gray-300 dark:border-gray-600"])},[e("td",X,l(t.course.name),1),e("td",Y,l(t.startTime)+" - "+l(t.endTime),1),e("td",Z,[t.instructor?(d(),S(s(q),{key:0,href:u.route("instructors.show",{instructor:t.instructor.id}),class:"hover:underline"},{default:g(()=>[v(l(t.instructor.name),1)]),_:2},1032,["href"])):(d(),i("span",ee,"TBA"))]),e("td",te,[t.room?(d(),i("span",ae,l(t.room.name)+" ("+l(t.room.capacity)+") ",1)):(d(),i("span",se,"TBD"))])],2))),128)):(d(),i("tr",re,[e("td",oe," No schedules set for "+l(o.value)+". ",1)])),c(V,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"-translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-2 opacity-0"},{default:g(()=>{var t,x;return[y.value?(d(),i("tr",le,[e("td",de,[c(s(T),{modelValue:s(r).course_id,"onUpdate:modelValue":a[2]||(a[2]=n=>s(r).course_id=n),options:m.activeCourses,"option-value":"id","option-label":"name",checkmark:"",filter:"",placeholder:"Select Course",class:"w-full"},null,8,["modelValue","options"])]),e("td",ie,[e("div",ne,[c(s(D),{modelValue:s(r).start_time,"onUpdate:modelValue":a[3]||(a[3]=n=>s(r).start_time=n),timeOnly:"",placeholder:"Start","hour-format":"12"},null,8,["modelValue"]),a[7]||(a[7]=e("span",null,"-",-1)),c(s(D),{modelValue:s(r).end_time,"onUpdate:modelValue":a[4]||(a[4]=n=>s(r).end_time=n),timeOnly:"",placeholder:"End","hour-format":"12"},null,8,["modelValue"])])]),e("td",ce,l(((x=(t=m.activeCourses.find(n=>n.id==s(r).course_id))==null?void 0:t.instructor)==null?void 0:x.name)||"TBA"),1),e("td",ue,[c(s(T),{modelValue:s(r).room_id,"onUpdate:modelValue":a[5]||(a[5]=n=>s(r).room_id=n),options:m.rooms,"option-value":"id","option-label":"name",checkmark:"",filter:"",placeholder:"Select Room",class:"w-full"},null,8,["modelValue","options"]),c(F,{class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md",onClick:B},{default:g(()=>[v(l(u.$t("common.save")),1)]),_:1})])])):O("",!0)]}),_:1})])])]))]),_:1})]))}};export{$e as default};
