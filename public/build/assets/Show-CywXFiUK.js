import{c as n,o as d,a as e,r as k,d as w,w as x,h as y,t as i,u as r,i as u,S as g,j as v,n as V,F as Y,e as D,l as F,g as m,B as _,A as M,m as S,W as f}from"./app-C9EnvVY3.js";import{A as T}from"./AppLayout-C2xy8DXU.js";import{S as c}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{r as U}from"./PencilIcon-0igQ2x2G.js";import{r as $}from"./TrashIcon-GEAhWFCV.js";import{r as E}from"./ArrowPathIcon-BqeUke-b.js";import{r as I}from"./EyeIcon-BKt27pL8.js";import"./ChevronDownIcon-D2isZczO.js";import"./XMarkIcon-CoDR7Ngj.js";import"./SunIcon-Brnb4P-C.js";import"./CalendarIcon-DBMGIdlv.js";import"./ClockIcon-CyQJWbiG.js";import"./PlusIcon-Czcp_bTd.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";function j(b,h){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}const q={class:"max-w-4xl mx-auto p-6"},L={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-6 border dark:border-gray-700"},R={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},W={class:"flex flex-col"},z={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},H={class:"flex flex-col"},O={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},Z={class:"flex flex-col"},G={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},J={class:"flex justify-end mt-6 space-x-4"},K={key:0},P={key:1},Q={class:"mt-10"},X={class:"text-center"},ee={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},te={class:"mt-6"},se={class:"flex space-x-6"},re={class:"mt-6"},ae={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},oe={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},de={key:1,class:"text-gray-500 dark:text-gray-400"},le={class:"px-6 py-4"},ie={class:"px-6 py-4"},ne={class:"px-6 py-4"},ue={key:0},me={key:0,class:"mt-4 bg-gray-100 dark:bg-gray-800 p-4 rounded-md"},pe={class:"mb-4"},xe={class:"mb-4"},ye={class:"mb-4"},ce={class:"mb-4"},Fe={__name:"Show",props:{year:{type:Object,required:!0}},setup(b){const h=b,{year:o}=h,p=k(!1),a=k({name:"",year_id:o.id,status:"inactive",is_approved:!1,is_completed:!1}),C=()=>{p.value=!p.value},A=()=>{f.post(route("semesters.store"),a.value,{onSuccess:()=>{c.fire("Added!","Semester has been added.","success"),a.value={name:"",status:"inactive",year_id:o.id,is_approved:!1,is_completed:!1,year_id:o.id},p.value=!1}})},N=()=>{refreshing.value=!0,f.visit(route("years.show",o.id),{only:["year"],onFinish:()=>{refreshing.value=!1}})},B=l=>{c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&f.delete(route("years.destroy",{year:l}),{onSuccess:()=>{c.fire("Deleted!","The Year has been deleted.","success")},onError:()=>{c.fire("Error!","There was a problem deleting the Year.","error")}})})};return(l,t)=>(d(),w(T,null,{default:x(()=>[e("div",q,[t[21]||(t[21]=e("h1",{class:"text-3xl font-semibold mb-6 text-center text-gray-900 dark:text-gray-100"}," Year Details ",-1)),e("div",L,[e("div",R,[e("div",W,[t[6]||(t[6]=e("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Name",-1)),e("span",z,i(r(o).name),1)]),e("div",H,[t[7]||(t[7]=e("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Approval",-1)),e("span",O,i(r(o).is_approved?"Approved":"Not Approved"),1)]),e("div",Z,[t[8]||(t[8]=e("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Status",-1)),e("span",G,i(r(o).status),1)])]),e("div",J,[l.userCan("update-years")?(d(),n("div",K,[u(r(g),{href:l.route("years.edit",{year:r(o).id}),class:"flex items-center space-x-1 text-blue-500 hover:text-blue-700"},{default:x(()=>[u(r(U),{class:"w-5 h-5"}),t[9]||(t[9]=e("span",null,"Edit",-1))]),_:1},8,["href"])])):y("",!0),l.userCan("delete-years")?(d(),n("div",P,[e("button",{onClick:t[0]||(t[0]=s=>B(r(o).id)),class:"flex items-center space-x-1 text-red-500 hover:text-red-700"},[u(r($),{class:"w-5 h-5"}),t[10]||(t[10]=e("span",null,"Delete",-1))])])):y("",!0)]),e("div",Q,[e("div",X,[e("span",ee,"Semesters in "+i(r(o).name),1)])]),e("div",te,[e("div",se,[e("button",{onClick:N,class:"inline-flex items-center rounded-md bg-blue-800 text-white px-4 py-2 text-xs font-semibold uppercase tracking-widest transition hover:bg-blue-700",title:"Refresh Data"},[u(r(E),{class:V(["w-5 h-5 mr-2",{"animate-spin":l.refreshing}])},null,8,["class"]),t[11]||(t[11]=v(" Refresh "))]),e("button",{onClick:C,class:"inline-flex items-center rounded-md bg-green-600 text-white px-4 py-2 text-xs font-semibold uppercase tracking-widest transition hover:bg-green-700"},[u(r(j),{class:"w-5 h-5 mr-2"}),t[12]||(t[12]=v(" Add Semester "))])])]),e("div",re,[e("table",ae,[t[13]||(t[13]=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{class:"px-6 py-3"},"Name"),e("th",{class:"px-6 py-3"},"Status"),e("th",{class:"px-6 py-3"},"Approved"),e("th",{class:"px-6 py-3"},"Completed"),e("th",{class:"px-6 py-3"},"Actions")])],-1)),e("tbody",null,[(d(!0),n(Y,null,D(r(o).semesters,s=>(d(),n("tr",{key:s.id,class:"border-b bg-white dark:bg-gray-900 dark:border-gray-700"},[e("td",oe,[s.name?(d(),w(r(g),{key:0,href:l.route("semesters.show",{semester:s.id}),class:"text-blue-500 hover:text-blue-700"},{default:x(()=>[v(i(s.name),1)]),_:2},1032,["href"])):(d(),n("span",de,"No Name"))]),e("td",le,i(s.status),1),e("td",ie,i(s.is_approved?"Yes":"No"),1),e("td",ne,i(s.is_completed?"Yes":"No"),1),e("td",null,[l.userCan("view-semesters")?(d(),n("div",ue,[u(r(g),{prefetch:"hover","cache-for":"3",href:l.route("semesters.show",{semester:s.id}),class:"text-blue-500 hover:text-blue-700"},{default:x(()=>[u(r(I),{class:"w-5 h-5"})]),_:2},1032,["href"])])):y("",!0)])]))),128))])])]),p.value?(d(),n("div",me,[t[20]||(t[20]=e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"}," Add New Semester ",-1)),e("form",{onSubmit:F(A,["prevent"])},[m(e("input",{id:"year_id",name:"year_id",type:"hidden","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.year_id=s)},null,512),[[_,a.value.year_id]]),e("div",pe,[t[14]||(t[14]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Semester Name ",-1)),m(e("input",{id:"name",type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.name=s),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-100"},null,512),[[_,a.value.name]])]),e("div",xe,[t[16]||(t[16]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Status ",-1)),m(e("select",{id:"status","onUpdate:modelValue":t[3]||(t[3]=s=>a.value.status=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:text-gray-100"},t[15]||(t[15]=[e("option",{value:"Inactive"},"Inactive",-1),e("option",{value:"Active"},"Active",-1)]),512),[[M,a.value.status]])]),e("div",ye,[m(e("input",{id:"is_approved",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=s=>a.value.is_approved=s),class:"rounded text-indigo-600"},null,512),[[S,a.value.is_approved]]),t[17]||(t[17]=e("label",{for:"is_approved",class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," Is Approved ",-1))]),e("div",ce,[m(e("input",{id:"is_completed",type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=s=>a.value.is_completed=s),class:"rounded text-indigo-600"},null,512),[[S,a.value.is_completed]]),t[18]||(t[18]=e("label",{for:"is_completed",class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," Is Completed ",-1))]),t[19]||(t[19]=e("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"}," Submit ",-1))],32)])):y("",!0)])])]),_:1}))}};export{Fe as default};
