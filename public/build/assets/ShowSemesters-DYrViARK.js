import{r as v,c as g,o as i,a as e,m as f,s as S,t as d,F as h,f as w,W as A,n as R}from"./app-BryW9RFD.js";import{S as l}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */const C={class:"space-y-6"},E={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-end"},F=["value"],I={class:"w-full mt-4 border border-gray-300 dark:border-gray-600"},B={class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"},D={class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"},W={class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"},j={class:"px-4 py-2 border border-gray-300 dark:border-gray-600"},U={__name:"ShowSemesters",props:{student:Object,semesters:Array,activeSemester:Object},setup(a){const n=a,o=v(""),m=()=>{if(!o.value){l.fire("Warning","Please select a semester to register.","warning");return}A.post(route("students.registerSemester",n.student.id),{student_id:n.student.id,semester_id:o.value},{preserveScroll:!0,onStart:()=>{console.log("Sending registration request...")},onSuccess:()=>{console.log("Registration successful."),l.fire("Registered!","Student registered successfully.","success")},onError:u=>{console.error("Registration failed:",u),l.fire("Error","Failed to register student.","error")},onFinish:()=>{console.log("Registration request completed.")}})};return(u,r)=>(i(),g("div",C,[e("div",null,[r[3]||(r[3]=e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Student Semester Registration",-1)),e("div",E,[e("div",null,[r[2]||(r[2]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Select Active Semester:",-1)),f(e("select",{"onUpdate:modelValue":r[0]||(r[0]=t=>o.value=t),class:"block w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white"},[r[1]||(r[1]=e("option",{value:"",disabled:"",selected:"",class:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white"},"Select Current Semester",-1)),(i(),g("option",{key:a.activeSemester.id,value:a.activeSemester.id,class:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white"},d(a.activeSemester.name)+" ("+d(a.activeSemester.year.name)+") ",9,F))],512),[[S,o.value]])]),e("div",null,[e("button",{type:"button",onClick:m,class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800"}," Register ")])])]),e("div",null,[r[5]||(r[5]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Enrollment Status",-1)),e("table",I,[r[4]||(r[4]=e("thead",{class:"bg-gray-100 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"},"#"),e("th",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"},"Semester"),e("th",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"},"Year"),e("th",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"},"Status")])],-1)),e("tbody",null,[(i(!0),g(h,null,w([...a.semesters].sort((t,s)=>t.status===s.status?0:t.status==="Active"?-1:s.status==="Active"?1:t.status==="Inactive"?-1:s.status==="Inactive"?1:t.status.localeCompare(s.status)),(t,s)=>{var b,y,c,x,p,k;return i(),g("tr",{key:t.id,class:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-800 dark:even:bg-gray-700"},[e("td",B,d(s+1),1),e("td",D,d(t.name),1),e("td",W,d(t.year.name),1),e("td",j,[e("span",{class:R(((b=t.pivot)==null?void 0:b.status)==="Active"||((y=t.pivot)==null?void 0:y.status)==="Enrolled"?"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 px-2 py-0.5 rounded-full font-semibold":((c=t.pivot)==null?void 0:c.status)==="Inactive"?"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 px-2 py-0.5 rounded-full font-semibold":((x=t.pivot)==null?void 0:x.status)==="Graduated"?"bg-blue-100 text-blue-800 dark:bg-blue-200 dark:text-blue-900 px-2 py-0.5 rounded-full font-semibold":((p=t.pivot)==null?void 0:p.status)==="Dropped"?"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 px-2 py-0.5 rounded-full font-semibold":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 px-2 py-0.5 rounded-full font-semibold")},d((k=t.pivot)!=null&&k.status?t.pivot.status.charAt(0).toUpperCase()+t.pivot.status.slice(1):"N/A"),3)])])}),128))])])])]))}};export{U as default};
