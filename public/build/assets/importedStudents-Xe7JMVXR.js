import{b as N,m as l,r as y,q as S,c as a,o as n,g as _,u as j,j as I,w as R,a as e,h as x,i as p,t as r,F as v,e as T,n as V}from"./app-ls423X1b.js";import{_ as B}from"./AppLayout-C6TO7MTA.js";import"./ChevronDownIcon-CK4h5PLV.js";import"./AcademicCapIcon-wdfNX2wS.js";import"./CogIcon-CKsqNLQz.js";import"./ClockIcon-B6GLBRxZ.js";import"./PlusIcon-DHY-Lvcx.js";import"./LanguageToggle-DydZK2dd.js";const D={class:"max-w-7xl mx-auto px-4 py-6"},L={class:"mb-6"},z={class:"text-2xl font-bold text-gray-900 dark:text-white"},F={class:"text-blue-600 dark:text-blue-400"},M={key:0,class:"mb-4 px-4 py-3 rounded bg-green-100 text-green-700 border border-green-200 dark:bg-green-900 dark:text-green-200 dark:border-green-700"},$={key:1,class:"mb-4 px-4 py-3 rounded bg-red-100 text-red-700 border border-red-200 dark:bg-red-900 dark:text-red-200 dark:border-red-700"},q={class:"bg-gradient-to-r from-blue-100 via-purple-100 to-pink-100 border-2 border-blue-400 rounded-lg p-5 mb-6 shadow-lg dark:bg-gradient-to-r dark:from-blue-900 dark:via-purple-900 dark:to-pink-900 dark:border-blue-600 flex flex-col items-center text-center"},A={class:"text-lg flex flex-wrap gap-6"},E={class:"inline-flex items-center gap-2 px-4 py-2 rounded bg-green-200 text-green-900 font-bold dark:bg-green-700 dark:text-green-100 text-xl"},G={class:"inline-flex items-center gap-2 px-4 py-2 rounded bg-red-200 text-red-900 font-bold dark:bg-red-700 dark:text-red-100 text-xl"},P={class:"inline-flex items-center gap-2 px-4 py-2 rounded bg-yellow-200 text-yellow-900 font-bold dark:bg-yellow-700 dark:text-yellow-100 text-xl"},Q={class:"overflow-x-auto rounded shadow"},H={class:"w-full text-sm text-left text-gray-700 dark:text-gray-200"},J={class:"px-4 py-2"},K={class:"px-4 py-2"},O=["href"],U={class:"px-4 py-2"},W={class:"px-4 py-2"},X={class:"px-4 py-2"},Y=["href"],Z={key:0},ie={__name:"importedStudents",setup(ee){const d=N(),w=l(()=>d.props.section),c=l(()=>d.props.students||[]),i=l(()=>d.props.import_report||{}),b=l(()=>i.value.success||d.props.success),g=l(()=>i.value.error||d.props.error),C=y(""),u=y("");let m;S(C,o=>{clearTimeout(m),m=setTimeout(()=>{u.value=o.trim()},300)});const h=l(()=>{if(!u.value)return c.value;const o=u.value.toLowerCase();return c.value.filter(t=>t.name&&t.name.toLowerCase().includes(o)||t.email&&t.email.toLowerCase().includes(o)||t.phone&&t.phone.includes(o)||t.mobile_phone&&t.mobile_phone.includes(o))});function k(o,t){return`/students/${t}`}return(o,t)=>(n(),a(v,null,[_(j(I),{title:"Imported Students"}),_(B,null,{default:R(()=>[e("div",D,[e("div",L,[e("h1",z,[t[0]||(t[0]=p(" Imported Students for Section: ")),e("span",F,r(w.value.name),1)])]),b.value?(n(),a("div",M," ✅ "+r(b.value),1)):x("",!0),g.value?(n(),a("div",$," ⚠️ "+r(g.value),1)):x("",!0),e("div",q,[t[5]||(t[5]=e("h2",{class:"text-lg font-bold mb-3 text-blue-800 dark:text-blue-200 flex items-center gap-2"},[e("span",{class:"text-2xl"},"📊"),p(" Import Report ")],-1)),e("ul",A,[e("li",null,[e("span",E,[t[1]||(t[1]=p(" ✔️ Registered: ")),e("span",null,r(i.value.registeredCount||0),1)])]),e("li",null,[e("span",G,[t[2]||(t[2]=p(" ❌ Not Registered: ")),e("span",null,r(i.value.notRegisteredCount||0),1)])]),e("li",null,[e("span",P,[t[3]||(t[3]=p(" ⚡ Duplicate Data: ")),e("span",null,r(i.value.duplicateData||0),1)])]),t[4]||(t[4]=e("li",null,[e("a",{href:"javascript:history.back()",class:"inline-flex items-center gap-2 px-4 py-2 rounded bg-blue-200 text-blue-900 font-bold dark:bg-blue-700 dark:text-blue-100 text-xl hover:bg-blue-300 dark:hover:bg-blue-600 transition"}," 🔗 Go to Section ")],-1))])]),t[9]||(t[9]=e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2"},[e("h1",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"👥 Imported Students")],-1)),e("div",Q,[e("table",H,[t[8]||(t[8]=e("thead",{class:"bg-gray-100 text-xs uppercase text-gray-600 dark:bg-gray-700 dark:text-gray-300"},[e("tr",null,[e("th",{class:"px-4 py-2"},"#"),e("th",{class:"px-4 py-2"},"Name"),e("th",{class:"px-4 py-2"},"Id Number"),e("th",{class:"px-4 py-2"},"Phone"),e("th",{class:"px-4 py-2"},"Actions")])],-1)),e("tbody",null,[(n(!0),a(v,null,T(h.value,(s,f)=>(n(),a("tr",{key:s.id,class:V([f%2===0?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-800","hover:bg-blue-50 dark:hover:bg-blue-900 transition"])},[e("td",J,r(f+1),1),e("td",K,[e("a",{href:k("students.show",s.id),class:"text-blue-600 hover:underline dark:text-blue-400"},r(s.first_name)+" "+r(s.middle_name?s.middle_name+" ":"")+" "+r(s.last_name),9,O)]),e("td",U,r(s.id_no),1),e("td",W,r(s.phone||s.mobile_phone||"-"),1),e("td",X,[e("a",{href:k("students.show",s.id),class:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:"View student details"},t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"inline w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 \r
                      7-9.542 7-4.477 0-8.268-2.943-9.542-7z`})],-1)]),8,Y)])],2))),128)),h.value.length===0?(n(),a("tr",Z,t[7]||(t[7]=[e("td",{colspan:"6",class:"text-center px-4 py-6 text-gray-500 dark:text-gray-400"}," No students found. Try adjusting your search. ",-1)]))):x("",!0)])])])])]),_:1})],64))}};export{ie as default};
