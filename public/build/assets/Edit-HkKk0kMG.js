import{A as h}from"./AppLayout-co4EiVfD.js";import{r as _,c as n,o as i,i as o,u as v,k as g,w as l,a as p,h as y,F as b,W as k}from"./app-DJqAy_0r.js";import x from"./BasicInfoForm-Bt3SNbcn.js";import S from"./AcademicInfoForm-ah9ZOnAN.js";import A from"./ChurchInfoForm-D1eHny_r.js";import"./ChevronDownIcon-mA7I7sIM.js";import"./XMarkIcon-DiKRawPT.js";import"./SunIcon-BClRGf7b.js";import"./CalendarIcon-DjxBumeg.js";import"./ClockIcon-FOmWUsSc.js";import"./PlusIcon-CHECtTQS.js";import"./CurrencyDollarIcon-K3lgvd0t.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputLabel-BMcLnu9N.js";import"./TextInput-CV0YeofE.js";import"./InputError-D7Zox7ai.js";import"./index-CXQq_1mQ.js";import"./index-Cb1jXjjr.js";import"./index-DuDwd_zg.js";import"./ArrowRightIcon-DWruNP0K.js";import"./index-ZDe6xI_u.js";import"./index-Zx4b-wGa.js";import"./index-BReUn8Vg.js";import"./index-RhjcJXtF.js";import"./ArrowLeftIcon-D8T0rBwX.js";const $={class:"bg-white dark:bg-gray-900 shadow-lg rounded-lg p-6 transition"},E={key:0},N={key:1},w={key:2},et={__name:"Edit",props:{student:Object,programs:Array,tracks:Array,years:Array,semesters:Array},setup(r){const t=r,e=_({...t.student,student_id:t.student.student_id||"",first_name:t.student.first_name||"",middle_name:t.student.middle_name||"",last_name:t.student.last_name||"",mobile_phone:t.student.mobile_phone||"",office_phone:t.student.office_phone||"",date_of_birth:t.student.date_of_birth||"",marital_status:t.student.marital_status||"",sex:t.student.sex||"",address:t.student.address||"",email:t.student.email||"",year_id:t.student.year_id||"",semester_id:t.student.semester_id||"",program_id:t.student.program_id||"",track_id:t.student.track_id||"",section_id:t.student.section_id||"",total_credit_hours:t.student.total_credit_hours||"",total_amount_paid:t.student.total_amount_paid||"",pastor_name:t.student.pastor_name||"",pastor_phone:t.student.pastor_phone||"",position_denomination:t.student.position_denomination||"",church_name:t.student.church_name||"",church_address:t.student.church_address||"",student_signature:t.student.student_signature||"",office_use_notes:t.student.office_use_notes||"",_method:"PATCH"}),s=_(1),d=()=>{s.value<3&&s.value++},u=()=>{s.value>1&&s.value--},c=()=>{if(e.value.date_of_birth instanceof Date){const m=e.value.date_of_birth.getFullYear(),a=String(e.value.date_of_birth.getMonth()+1).padStart(2,"0"),f=String(e.value.date_of_birth.getDate()).padStart(2,"0");e.value.date_of_birth=`${m}-${a}-${f}`}e.value.processing=!0,k.post(route("students.update",t.student.id),e.value,{onSuccess:()=>{e.value.processing=!1},onError:()=>{e.value.processing=!1}})};return(m,a)=>(i(),n(b,null,[o(v(g),{title:"Edit Student"}),o(h,null,{header:l(()=>a[0]||(a[0]=[p("h2",{class:"text-xl font-semibold text-gray-800"},"Edit Student",-1)])),default:l(()=>[p("div",$,[s.value===1?(i(),n("div",E,[o(x,{form:e.value,onNext:d},null,8,["form"])])):s.value===2?(i(),n("div",N,[o(S,{form:e.value,programs:r.programs,tracks:r.tracks,years:r.years,semesters:r.semesters,onNext:d,onPrevious:u},null,8,["form","programs","tracks","years","semesters"])])):s.value===3?(i(),n("div",w,[o(A,{form:e.value,onSubmit:c,onPrevious:u},null,8,["form"])])):y("",!0)])]),_:1})],64))}};export{et as default};
