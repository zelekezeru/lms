import{c as m,o as i,a as e,r as v,q as U,e as T,w as C,t as d,u as r,i as S,h as o,n as c,S as B,j as u,l as Z,m as g,A,v as N,F as j,f as q,W as f}from"./app-Dktk2Gfx.js";import{A as I}from"./AppLayout-CJqGaRof.js";import{S as b}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{r as L}from"./PencilIcon-C8ILQhy3.js";import{r as W}from"./TrashIcon-DdT-06Ds.js";import{r as z}from"./ArrowPathIcon-VNsm0UEj.js";import{r as V}from"./CalendarDaysIcon-BcQztg0y.js";import{r as H}from"./CheckBadgeIcon-DVm3dEH1.js";import{r as O}from"./CheckCircleIcon-CswpQwAq.js";import{r as R}from"./PencilSquareIcon-B4a8K-Iw.js";import"./ChevronDownIcon-JhcucDZV.js";import"./XMarkIcon-mpypUY0R.js";import"./SunIcon-QNbSWRQO.js";import"./AcademicCapIcon-B6FX4vsz.js";import"./CalendarIcon-DPQT_B6_.js";import"./ClockIcon-CS2v3Zfc.js";import"./UserIcon-B0LSd64m.js";import"./PlusIcon-dnw3oEaW.js";import"./CurrencyDollarIcon-B9lFNAZJ.js";import"./LanguageToggle-DPKMAAgV.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";function G(y,h){return i(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375Zm9.586 4.594a.75.75 0 0 0-1.172-.938l-2.476 3.096-.908-.907a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.116-.062l3-3.75Z","clip-rule":"evenodd"})])}function J(y,h){return i(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}const K={class:"max-w-4xl mx-auto"},P={class:"text-3xl font-semibold mb-6 text-center"},Q={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-6 border dark:border-gray-700"},X={class:"bg-white shadow-md rounded-2xl p-6 mb-6 border border-gray-200"},ee={class:"text-xl font-semibold text-gray-800 mb-4 flex items-center space-x-2"},te={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},se={class:"bg-gray-50 p-4 rounded-lg"},re={class:"text-lg font-semibold text-gray-800"},le={class:"bg-gray-50 p-4 rounded-lg"},oe={class:"bg-gray-50 p-4 rounded-lg"},ae={class:"flex justify-end mt-6 space-x-4"},de={key:0},ne={key:1},ie={class:"mt-6 flex space-x-6"},ue={key:0,class:"mt-6 bg-gray-50 p-4 rounded shadow dark:bg-gray-700"},me={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},pe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ce={class:"flex items-center space-x-2"},xe={class:"flex items-center space-x-2"},ve={class:"mt-4 flex justify-end"},ge={type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},be={class:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},fe={class:"flex items-center mb-3 text-indigo-600 dark:text-indigo-400"},ye={class:"text-lg font-semibold text-gray-800 dark:text-white"},he={class:"text-sm space-y-1 text-gray-600 dark:text-gray-300"},we={class:"mt-4 text-right"},ke=["onClick"],Re={__name:"Show",props:{year:{type:Object,required:!0}},setup(y){const h=y,{year:a}=h,p=v(!1),x=v(!1),w=v(null),l=v({name:"",year_id:a.id,status:"inactive",is_approved:!1,is_completed:!1,start_date:"",end_date:""}),E=()=>{p.value=!p.value,x.value=!1,k()},k=()=>{l.value={name:"",status:"inactive",year_id:a.id,is_approved:!1,is_completed:!1,start_date:"",end_date:""},w.value=null},$=()=>{x.value?f.put(route("semesters.update",w.value.id),l.value,{onSuccess:()=>{b.fire("Updated!","Semester has been updated.","success"),k(),p.value=!1}}):f.post(route("semesters.store"),l.value,{onSuccess:()=>{b.fire("Added!","Semester has been added.","success"),k(),p.value=!1}})},D=n=>{l.value={...n},w.value=n,x.value=!0,p.value=!0},_=v(!1),Y=()=>{_.value=!0,f.visit(route("years.show",a.id),{only:["year"],onFinish:()=>{_.value=!1}})},F=n=>{b.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&f.delete(route("years.destroy",{year:n}),{onSuccess:()=>{b.fire("Deleted!","The Year has been deleted.","success")},onError:()=>{b.fire("Error!","There was a problem deleting the Year.","error")}})})};return(n,t)=>{const M=U("CalendarIcon");return i(),T(I,null,{default:C(()=>[e("div",K,[e("h1",P,d(r(a).name)+" - Year Details",1),e("div",Q,[e("div",X,[e("h2",ee,[o(M,{class:"w-5 h-5 text-blue-500"}),t[6]||(t[6]=e("span",null," Academic Year Details",-1))]),e("div",te,[e("div",se,[t[7]||(t[7]=e("span",{class:"text-sm text-gray-500"},"Name",-1)),e("div",re,d(r(a).name),1)]),e("div",le,[t[8]||(t[8]=e("span",{class:"text-sm text-gray-500"},"Approval",-1)),e("div",{class:c([r(a).is_approved?"text-green-600":"text-red-600","text-lg font-semibold"])},d(r(a).is_approved?"Approved":"Not Approved"),3)]),e("div",oe,[t[9]||(t[9]=e("span",{class:"text-sm text-gray-500"},"Status",-1)),e("div",{class:c([r(a).status==="Active"?"text-green-600":"text-red-600","text-lg font-semibold"])},d(r(a).status),3)])]),e("div",ae,[n.userCan("update-years")?(i(),m("div",de,[o(r(B),{href:n.route("years.edit",{year:r(a).id}),class:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-800 hover:underline"},{default:C(()=>[o(r(L),{class:"w-5 h-5"}),t[10]||(t[10]=e("span",null,"Edit",-1))]),_:1},8,["href"])])):S("",!0),n.userCan("delete-years")?(i(),m("div",ne,[e("button",{onClick:t[0]||(t[0]=s=>F(r(a).id)),class:"inline-flex items-center space-x-2 text-red-600 hover:text-red-800 hover:underline"},[o(r(W),{class:"w-5 h-5"}),t[11]||(t[11]=e("span",null,"Delete",-1))])])):S("",!0)])]),e("div",ie,[e("button",{onClick:Y,class:"bg-blue-800 text-white px-4 py-2 text-xs font-semibold uppercase hover:bg-blue-700 flex items-center"},[o(r(z),{class:c(["w-5 h-5 mr-2",{"animate-spin":_.value}])},null,8,["class"]),t[12]||(t[12]=u(" Refresh "))]),e("button",{onClick:E,class:"bg-green-600 text-white px-4 py-2 text-xs font-semibold uppercase hover:bg-green-700 flex items-center"},[o(r(J),{class:"w-5 h-5 mr-2"}),u(" "+d(x.value?"Cancel Editing":"Add Semester"),1)])]),p.value?(i(),m("div",ue,[e("form",{onSubmit:Z($,["prevent"])},[e("div",me,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},"Name",-1)),g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.name=s),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[A,l.value.name]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},"Start Date",-1)),g(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=s=>l.value.start_date=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[A,l.value.start_date]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},"End Date",-1)),g(e("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=s=>l.value.end_date=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[A,l.value.end_date]])])]),e("div",pe,[e("div",ce,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=s=>l.value.is_approved=s)},null,512),[[N,l.value.is_approved]]),t[16]||(t[16]=e("label",{class:"text-sm text-gray-700 dark:text-gray-200"},"Approved",-1))]),e("div",xe,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=s=>l.value.is_completed=s)},null,512),[[N,l.value.is_completed]]),t[17]||(t[17]=e("label",{class:"text-sm text-gray-700 dark:text-gray-200"},"Completed",-1))])]),e("div",ve,[e("button",ge,d(x.value?"Update Semester":"Create Semester"),1)])],32)])):S("",!0),e("div",be,[(i(!0),m(j,null,q(r(a).semesters,s=>(i(),m("div",{key:s.id,class:"rounded-xl p-5 shadow-md border dark:border-gray-700 bg-white dark:bg-[#1E293B]"},[e("div",fe,[o(r(V),{class:"w-6 h-6 mr-2"}),e("h2",ye,[o(r(B),{href:n.route("semesters.show",{semester:s.id}),class:"hover:underline"},{default:C(()=>[u(d(s.name||"No Name"),1)]),_:2},1032,["href"])])]),e("div",he,[e("p",null,[o(r(H),{class:"w-4 h-4 inline-block mr-1 text-green-500"}),t[18]||(t[18]=e("span",null,"Status: ",-1)),e("span",{class:c(s.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 px-2 py-0.5 rounded-full font-semibold":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 px-2 py-0.5 rounded-full font-semibold")},d(s.status),3)]),e("p",null,[o(r(G),{class:"w-4 h-4 inline-block mr-1 text-yellow-500"}),t[19]||(t[19]=e("span",null,"Approved:",-1)),e("span",{class:c(s.is_approved?"text-green-600 font-semibold":"text-red-600 font-semibold")},d(s.is_approved?"Yes":"No"),3)]),e("p",null,[o(r(O),{class:"w-4 h-4 inline-block mr-1 text-purple-500"}),t[20]||(t[20]=e("span",null,"Completed:",-1)),e("span",{class:c(s.is_completed?"text-green-600 font-semibold":"text-red-600 font-semibold")},d(s.is_completed?"Yes":"No"),3)]),e("p",null,[o(r(V),{class:"w-4 h-4 inline-block mr-1 text-blue-500"}),t[21]||(t[21]=u()),t[22]||(t[22]=e("span",null,"Start:",-1)),u(" "+d(s.start_date),1)]),e("p",null,[o(r(V),{class:"w-4 h-4 inline-block mr-1 text-blue-500"}),t[23]||(t[23]=u()),t[24]||(t[24]=e("span",null,"End:",-1)),u(" "+d(s.end_date),1)])]),e("div",we,[e("button",{onClick:_e=>D(s),class:"text-blue-600 hover:underline text-sm flex items-center space-x-1"},[o(r(R),{class:"w-4 h-4"}),t[25]||(t[25]=e("span",null,"Edit",-1))],8,ke)])]))),128))])])])]),_:1})}}};export{Re as default};
