import{A as h}from"./AppLayout-B9CynBNR.js";import{r as _,c as n,o as i,i as r,u as v,k as g,w as l,a as c,h as y,F as b,W as k}from"./app-C7ka6sDA.js";import x from"./BasicInfoForm-DZV0Jr7c.js";import S from"./AcademicInfoForm-MBsZH_iP.js";import A from"./ChurchInfoForm-BKo0cF8H.js";import"./ChevronDownIcon-DKQFAKKA.js";import"./XMarkIcon-XvA3tpES.js";import"./SunIcon-B5q3D7zu.js";import"./CalendarIcon-DKgh6vna.js";import"./ClockIcon-OcZZKAdg.js";import"./PlusIcon-BRhXBOUF.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputLabel-BfWq1s3S.js";import"./TextInput-doq886n6.js";import"./InputError-Dn4aaiS1.js";import"./index-C16UvTW3.js";import"./index-BvAwdCTv.js";import"./index-LyvNfqAY.js";import"./ArrowRightIcon-D_ELPLtt.js";import"./ArrowLeftIcon-COxN5mwz.js";const $={class:"bg-white dark:bg-gray-900 shadow-lg rounded-lg p-6 transition"},E={key:0},N={key:1},w={key:2},R={__name:"Edit",props:{student:Object,programs:Array,tracks:Array,years:Array,semesters:Array},setup(a){const t=a,e=_({...t.student,student_id:t.student.student_id||"",first_name:t.student.first_name||"",middle_name:t.student.middle_name||"",last_name:t.student.last_name||"",mobile_phone:t.student.mobile_phone||"",office_phone:t.student.office_phone||"",date_of_birth:t.student.date_of_birth||"",email:t.student.email||"",marital_status:t.student.marital_status||"",sex:t.student.sex||"",address:t.student.address||"",email:t.student.email||"",year_id:t.student.year_id||"",semester_id:t.student.semester_id||"",program_id:t.student.program_id||"",track_id:t.student.track_id||"",section_id:t.student.section_id||"",total_credit_hours:t.student.total_credit_hours||"",total_amount_paid:t.student.total_amount_paid||"",pastor_name:t.student.pastor_name||"",pastor_phone:t.student.pastor_phone||"",position_denomination:t.student.position_denomination||"",church_name:t.student.church_name||"",church_address:t.student.church_address||"",student_signature:t.student.student_signature||"",office_use_notes:t.student.office_use_notes||"",_method:"PATCH"}),s=_(1),d=()=>{s.value<3&&s.value++},u=()=>{s.value>1&&s.value--},p=()=>{if(e.value.date_of_birth instanceof Date){const m=e.value.date_of_birth.getFullYear(),o=String(e.value.date_of_birth.getMonth()+1).padStart(2,"0"),f=String(e.value.date_of_birth.getDate()).padStart(2,"0");e.value.date_of_birth=`${m}-${o}-${f}`}e.value.processing=!0,k.post(route("students.update",t.student.id),e.value,{onSuccess:()=>{e.value.processing=!1},onError:()=>{e.value.processing=!1}})};return(m,o)=>(i(),n(b,null,[r(v(g),{title:"Edit Student"}),r(h,null,{header:l(()=>o[0]||(o[0]=[c("h2",{class:"text-xl font-semibold text-gray-800"},"Edit Student",-1)])),default:l(()=>[c("div",$,[s.value===1?(i(),n("div",E,[r(x,{form:e.value,onNext:d},null,8,["form"])])):s.value===2?(i(),n("div",N,[r(S,{form:e.value,programs:a.programs,tracks:a.tracks,years:a.years,semesters:a.semesters,onNext:d,onPrevious:u},null,8,["form","programs","tracks","years","semesters"])])):s.value===3?(i(),n("div",w,[r(A,{form:e.value,onSubmit:p,onPrevious:u},null,8,["form"])])):y("",!0)])]),_:1})],64))}};export{R as default};
