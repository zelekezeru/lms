import{x as b,q as y,e as x,o as l,w as k,a as t,t as s,l as w,m as _,u as r,c as m,F as h,f as v,k as c,s as f,i as g,y as p,v as $}from"./app-BryW9RFD.js";import{A as V}from"./AppLayout-DF2CdAw3.js";import"./ChevronDownIcon-DmEGukOp.js";import"./XMarkIcon-BEr4Fqrv.js";import"./SunIcon-CjXiQJ2t.js";import"./AcademicCapIcon-ggAini4c.js";import"./CalendarIcon-BwmtVyiG.js";import"./ClockIcon-DCTkmXJ4.js";import"./UserIcon-DDELLjgj.js";import"./UsersIcon-BYCZF5i_.js";import"./PlusIcon-BWXV4rKz.js";import"./CurrencyDollarIcon-C47F87eH.js";import"./LanguageToggle-fozXbmcf.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ArrowRightIcon-BNnjsDM_.js";const S={class:"text-2xl font-semibold mb-4 text-gray-900 dark:text-white"},B={class:"bg-white dark:bg-gray-800 p-6 rounded shadow space-y-4"},C={class:"text-gray-700 dark:text-gray-300 underline"},M={class:"text-gray-900 dark:text-white"},U={class:"mb-1 text-lg font-bold text-green-500 dark:text-green-200"},F={class:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-200"},N=["value"],j=["value"],A={class:"text-red-600 dark:text-red-400"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},L={class:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-200"},O={key:0,class:"text-sm text-red-500 dark:text-red-400"},T={class:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-200"},q={key:0,class:"text-sm text-red-500 dark:text-red-400"},E={class:"inline-flex items-center text-gray-900 dark:text-gray-200"},z={key:0,class:"text-sm text-red-500 dark:text-red-400"},G=["disabled"],de={__name:"CloseForm",props:{semester:Object,semesters:Object},setup(i){const n=i,e=b({approval:!1,new_semester_id:null,new_semester_start_date:"",new_semester_end_date:"",errors:{}});n.semester&&(e.new_semester_id=n.semester.id,e.new_semester_start_date=n.semester.start_date||"",e.new_semester_end_date=n.semester.end_date||""),y(()=>e.new_semester_id,o=>{if(o===n.semester.id)e.new_semester_start_date=n.semester.start_date||"",e.new_semester_end_date=n.semester.end_date||"";else{const a=n.semesters.find(d=>d.id===o);a?(e.new_semester_start_date=a.start_date||"",e.new_semester_end_date=a.end_date||""):(e.new_semester_start_date="",e.new_semester_end_date="")}});const u=()=>{e.post(route("semesters.close"),{onSuccess:()=>{e.reset()}})};return(o,a)=>(l(),x(V,null,{default:k(()=>[t("h2",S,s(o.$t("semester.close_active_title")),1),t("div",B,[t("p",C,[t("strong",M,s(o.$t("semester.current_active")),1),t("span",U,s(i.semester.name),1)]),t("form",{onSubmit:w(u,["prevent"]),class:"space-y-4"},[t("div",null,[t("label",F,s(o.$t("semester.select_next_opening")),1),_(t("select",{"onUpdate:modelValue":a[0]||(a[0]=d=>r(e).new_semester_id=d),class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[t("option",{value:i.semester.id,disabled:"",class:"text-green-500 dark:text-green-400 bg-white dark:bg-gray-700"}," ðŸŸ¢ "+s(o.$t("semester.current_active_option"))+" : "+s(i.semester.name),9,N),(l(!0),m(h,null,v(i.semesters,d=>(l(),m("option",{key:d.id,value:d.id,class:"bg-white text-blue-500 dark:text-blue-400 dark:bg-gray-700"},[a[4]||(a[4]=c(" ðŸ”´ ")),t("span",A,s(d.name)+" - "+s(o.$t("semester.semester")),1)],8,j))),128))],512),[[f,r(e).new_semester_id]]),t("div",D,[t("div",null,[t("label",L,s(o.$t("semester.start_date")),1),_(t("input",{"onUpdate:modelValue":a[1]||(a[1]=d=>r(e).new_semester_start_date=d),type:"date",class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"},null,512),[[p,r(e).new_semester_start_date]]),r(e).errors.new_semester_start_date?(l(),m("div",O,s(r(e).errors.new_semester_start_date),1)):g("",!0)]),t("div",null,[t("label",T,s(o.$t("semester.end_date")),1),_(t("input",{"onUpdate:modelValue":a[2]||(a[2]=d=>r(e).new_semester_end_date=d),type:"date",class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"},null,512),[[p,r(e).new_semester_end_date]]),r(e).errors.new_semester_end_date?(l(),m("div",q,s(r(e).errors.new_semester_end_date),1)):g("",!0)])])]),t("div",null,[t("label",E,[_(t("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=d=>r(e).approval=d),class:"mr-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},null,512),[[$,r(e).approval]]),c(" "+s(o.$t("semester.confirm_close_and_activate")),1)]),r(e).errors.approval?(l(),m("div",z,s(r(e).errors.approval),1)):g("",!0)]),t("button",{type:"submit",class:"bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 text-white px-6 py-2 rounded",disabled:r(e).processing},s(o.$t("semester.close_semester")),9,G)],32)])]),_:1}))}};export{de as default};
