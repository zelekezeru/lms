import{r as N,x as L,z as c,c as d,o as l,a as t,h as u,i as m,m as f,A,t as i,e as j,w as x,k as p,u as s,l as E,y as v,s as V}from"./app-BryW9RFD.js";import{S as y}from"./sweetalert2.esm.all-89IKscqO.js";import{_ as $}from"./Modal-gLVhC3ox.js";import{r as F}from"./PlusCircleIcon-BeLElSJV.js";const M={class:"p-8 max-w-2xl mx-auto"},B={class:"max-w-5xl mx-auto p-6"},D={key:0},T={class:"flex justify-center mb-6"},U={key:0,class:"rounded-full w-40 h-40 bg-gray-300 dark:bg-gray-600 animate-pulse"},O=["src","alt"],_={class:"grid sm:grid-cols-2 gap-4"},z={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},R={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},q={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},G={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},H={class:"flex justify-end mt-6 space-x-4"},J={key:1,class:"text-center p-6 text-gray-500"},K={class:"p-6 space-y-4"},Q={key:0,class:"text-red-500 text-sm"},W={key:0,class:"text-red-500 text-sm"},X={class:"flex items-center gap-4"},Y={for:"profile_img",class:"cursor-pointer px-4 py-2 text-white flex items-center gap-2 rounded-md shadow transition bg-black hover:bg-blue-700"},Z={key:0,class:"w-16 h-16 rounded-full border shadow overflow-hidden"},ee=["src"],te={key:0,class:"text-red-500 text-sm"},oe={class:"flex justify-end space-x-3"},se=["disabled"],de={__name:"ShowCoordinators",props:{center:Object,coordinator:Object},setup(a){const b=a,g=N(!1),o=L({name:"",phone:"",status:"Active",profile_img:"",center_id:b.center.id}),k=()=>{o.post(route("coordinators.store"),{onSuccess:()=>{y.fire("Success!","Coordinator created successfully.","success"),g.value=!1,o.reset()},onError:()=>{y.fire("Error","Please check the form for errors.","error")}})};return(n,e)=>{const h=c("PencilIcon"),w=c("Link"),C=c("TrashIcon"),I=c("InputLabel"),P=c("PhotoIcon"),S=c("InputError");return l(),d("div",M,[e[23]||(e[23]=t("h1",{class:"text-2xl font-bold mb-4"},"Coordinator Management",-1)),t("div",B,[a.coordinator?(l(),d("div",D,[t("div",T,[n.imageLoaded?m("",!0):(l(),d("div",U)),f(t("img",{class:"rounded-full w-40 h-40 object-contain",src:n.profileImage,alt:"Photo of "+(a.coordinator.firstName||"Coordinator"),onLoad:e[0]||(e[0]=(...r)=>n.handleImageLoad&&n.handleImageLoad(...r))},null,40,O),[[A,n.imageLoaded]])]),t("div",_,[t("div",null,[e[9]||(e[9]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"ID",-1)),t("div",z,i(a.coordinator.user_uuid||"N/A"),1)]),t("div",null,[e[10]||(e[10]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Full Name",-1)),t("div",R,i(a.coordinator.name),1)]),t("div",null,[e[11]||(e[11]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Email",-1)),t("div",q,i(a.coordinator.email||"N/A"),1)]),t("div",null,[e[12]||(e[12]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Phone",-1)),t("div",G,i(a.coordinator.phone??"N/A"),1)]),e[13]||(e[13]=t("div",null,[t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Role"),t("div",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Coordinator ")],-1))]),t("div",H,[n.userCan("update-coordinators")?(l(),j(w,{key:0,href:n.route("coordinators.edit",{coordinator:a.coordinator.id}),class:"text-blue-600 hover:text-blue-800"},{default:x(()=>[u(h,{class:"w-5 h-5 inline-block mr-1"}),e[14]||(e[14]=p(" Edit "))]),_:1},8,["href"])):m("",!0),n.userCan("delete-coordinators")?(l(),d("button",{key:1,onClick:e[1]||(e[1]=r=>n.deleteCoordinator(a.coordinator.id)),class:"text-red-600 hover:text-red-800"},[u(C,{class:"w-5 h-5 inline-block mr-1"}),e[15]||(e[15]=p(" Delete "))])):m("",!0)])])):(l(),d("div",J,[p(i(n.$t("coordinators.no_coordinators_found"))+" ",1),t("button",{onClick:e[2]||(e[2]=r=>g.value=!0),class:"flex text-green-600 hover:text-green-800"},[u(s(F),{class:"mx-2 w-8 h-8"}),e[16]||(e[16]=p(" Add Coordinator "))])])),u($,{show:g.value,onClose:e[8]||(e[8]=r=>g.value=!1)},{default:x(()=>[t("div",K,[e[22]||(e[22]=t("h2",{class:"text-lg font-bold"},"New Coordinator",-1)),t("form",{onSubmit:E(k,["prevent"]),class:"space-y-4"},[t("div",null,[e[17]||(e[17]=t("label",{class:"block mb-1 font-semibold"},"Name",-1)),f(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>s(o).name=r),type:"text",class:"w-full border px-3 py-2 rounded",placeholder:"Full name"},null,512),[[v,s(o).name]]),s(o).errors.name?(l(),d("div",Q,i(s(o).errors.name),1)):m("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block mb-1 font-semibold"},"Phone",-1)),f(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>s(o).phone=r),type:"text",class:"w-full border px-3 py-2 rounded",placeholder:"Phone number"},null,512),[[v,s(o).phone]]),s(o).errors.phone?(l(),d("div",W,i(s(o).errors.phone),1)):m("",!0)]),t("div",null,[u(I,{for:"profile_img",value:"Profile Image"}),t("div",X,[t("label",Y,[u(P,{class:"w-5 h-5"}),e[19]||(e[19]=p(" Upload Image "))]),t("input",{id:"profile_img",type:"file",accept:"image/*",class:"hidden",onChange:e[5]||(e[5]=(...r)=>n.handleFileChange&&n.handleFileChange(...r))},null,32),s(o).imagePreview?(l(),d("div",Z,[t("img",{src:s(o).imagePreview,alt:"Profile Preview",class:"object-cover w-full h-full"},null,8,ee)])):m("",!0)]),u(S,{message:s(o).errors.profile_img},null,8,["message"])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block mb-1 font-semibold"},"Status",-1)),f(t("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>s(o).status=r),class:"w-full border px-3 py-2 rounded"},e[20]||(e[20]=[t("option",{value:"Active"},"Active",-1),t("option",{value:"Inactive"},"Inactive",-1)]),512),[[V,s(o).status]]),s(o).errors.status?(l(),d("div",te,i(s(o).errors.status),1)):m("",!0)]),t("div",oe,[t("button",{type:"button",onClick:e[7]||(e[7]=r=>g.value=!1),class:"px-4 py-2 bg-gray-400 text-white rounded"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded",disabled:s(o).processing},i(s(o).processing?"Saving...":"Save"),9,se)])],32)])]),_:1},8,["show"])])])}}};export{de as default};
