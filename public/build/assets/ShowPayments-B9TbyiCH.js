import{b as ae,r as g,x as O,q as F,d as oe,c as m,o as u,a as e,h as r,t as l,u as a,w as b,k as A,F as M,f as R,i as C,n as le,aC as re,S as de,T as q,l as K,m as f,y as v}from"./app-C7ErYowN.js";import{S as N}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{_ as B}from"./Modal-DUVMsIKW.js";import{_ as p}from"./InputError-S5wIOKhT.js";import{r as ne}from"./PlusCircleIcon-DetiKQS5.js";import{s as h}from"./index-DWWq9lFW.js";import{s as ie}from"./index-cBcloSdk.js";import"./index-Bx7_erYc.js";import"./index-C7fxG5kM.js";import"./index-DfaaZ1GJ.js";import"./index-BIcq25VB.js";import"./index-CQBJk4mE.js";import"./index-DfJDDnH_.js";const me={class:"max-w-5xl mx-auto"},ue={class:"flex items-center justify-between mb-4"},ye={class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},pe={class:"mb-6 space-y-4"},ce={class:"flex flex-wrap gap-6"},xe={class:"w-64"},ge={class:"w-64"},be={class:"text-sm"},fe={class:"flex items-center justify-between"},ve={class:"text-lg font-semibold text-gray-800 dark:text-gray-100"},ke={class:"text-sm text-gray-500 dark:text-gray-400"},we={class:"text-right space-y-1"},_e={class:"text-sm text-gray-500 dark:text-gray-400"},he={class:"text-xl font-bold text-gray-800 dark:text-gray-100"},Se={class:"mt-3 w-full bg-gray-300 dark:bg-gray-700 h-2 rounded-full overflow-hidden"},Pe={class:"mt-4 flex justify-between items-center"},Ve=["onClick"],Ce={class:"space-x-2 flex flex-wrap"},Te=["onClick"],Ue=["onClick"],De={key:0,class:"mt-4 text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 rounded-xl p-4"},Fe={key:0,class:"mb-6"},Ae={class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3"},Me={class:"overflow-x-auto"},Ne={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Le={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},$e={class:"px-6 py-2 text-sm text-gray-800 dark:text-gray-200"},je={class:"px-6 py-2 text-sm font-medium text-gray-900 dark:text-gray-100"},Ee={class:"px-6 py-2 text-sm text-yellow-700 dark:text-yellow-400"},Oe={class:"px-6 py-2 text-sm text-yellow-700 dark:text-yellow-400"},Re={class:"bg-yellow-50 dark:bg-yellow-900 font-bold"},qe={class:"px-6 py-2 text-yellow-800 dark:text-yellow-200 text-lg"},Be={colspan:"2",class:"px-6 py-2 text-gray-900 dark:text-gray-100"},We={class:"w-full px-16 py-8"},ze={class:"flex justify-end mt-4"},He=["disabled"],Ie={class:"w-full px-8 py-6"},Ye={class:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100"},Ge={class:"text-red-700 text-lg"},Je={class:"mb-4"},Ke={class:"flex flex-wrap -mx-2"},Qe={class:"w-full md:w-1/2 px-2 mb-4"},Xe={class:"w-full md:w-1/2 px-2 mb-4"},Ze={key:0,class:"mb-6"},et={class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3"},tt={class:"overflow-x-auto"},st={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},at={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},ot={class:"px-6 py-2 text-sm text-gray-800 dark:text-gray-200"},lt={class:"px-6 py-2 text-sm font-medium text-gray-900 dark:text-gray-100"},rt={class:"px-6 py-2 text-sm text-yellow-700 dark:text-yellow-400"},dt={class:"bg-yellow-50 dark:bg-yellow-900 font-bold"},nt={class:"px-6 py-2 text-yellow-800 dark:text-yellow-200 text-lg"},it={key:1,class:"mb-6"},mt={class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3"},ut={class:"overflow-x-auto"},yt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},pt={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},ct={class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition"},xt={class:"px-6 py-2 text-sm font-medium text-gray-900 dark:text-gray-100"},gt={class:"px-6 py-2 text-sm text-yellow-700 dark:text-yellow-400"},bt={class:"bg-yellow-50 dark:bg-yellow-900 font-bold"},ft={class:"px-6 py-2 text-yellow-800 dark:text-yellow-200 text-lg"},vt={class:"flex flex-wrap -mx-2"},kt={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},wt={key:0,class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},_t={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},ht={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},St={class:"flex justify-end mt-4"},Pt=["disabled"],Vt={class:"w-full px-8 py-6"},Ct={class:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100"},Tt={class:"text-red-700 text-lg"},Ut={class:"flex flex-wrap -mx-2"},Dt={class:"w-full md:w-1/2 px-2 mb-4"},Ft={class:"w-full md:w-1/2 px-2 mb-4"},At={class:"flex flex-wrap -mx-2"},Mt={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},Nt={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},Lt={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},$t={class:"flex justify-end mt-4"},jt=["disabled"],Xt={__name:"ShowPayments",props:{student:{type:Object,required:!0},payments:{type:Array,required:!0},semesters:{type:Array,required:!0},activeSemester:{type:Object,required:!0},paymentMethods:Array,paymentTypes:Array},setup(n){const c=n,W=ae().props.errors,T=g(!1),k=g(!1),x=O({payments:[],student_id:c.student.id}),S=g(""),w=g(c.activeSemester.id),z=g(c.payments.filter(d=>{var t;return((t=d.semester)==null?void 0:t.id)===w.value}));F(()=>[w.value,S.value,c.payments],([d,t])=>{console.log("Semester:",d),console.log("Status:",t),z.value=c.payments.filter(P=>{var V;const D=!d||((V=P.semester)==null?void 0:V.id)===d,s=!t||P.status===t;return D&&s})},{immediate:!0});const o=O({student_id:c.student.id,payment_method_id:null,payment_type_id:null,payment_date:new Date().toISOString().slice(0,10),paid_amount:null,total_amount:null,description:null,status:null,reference_number:null}),i=O({payment_method_id:null,description:"",paid_amount:0,payment_date:new Date().toISOString().slice(0,10),reference_number:"",_method:"PATCH"}),U=g(null),L=g(!1),Q=d=>{U.value=d,i.payment_method_id=d.payment_method_id,i.description=d.description,i.paid_amount=d.paid_amount,i.reference_number=d.reference_number,L.value=!0},H=()=>{U.value=null,L.value=!1,i.reset()},$=c.student.enrollments.filter(d=>d.status=="pending"),X=()=>{T.value=!1,x.reset()},Z=()=>{x.post(route("payments",c.student.id),{preserveScroll:!0,onSuccess:()=>{T.value=!1,x.reset()}})},j=g(!1),E=()=>{k.value=!1,o.reset()},y=oe(()=>c.paymentTypes.find(d=>d.id==o.payment_type_id&&d.study_mode_id==c.student.studyMode.id));F(()=>o.paid_amount,d=>{d==o.total_amount?o.status="completed":o.status="pending"}),F(()=>o.status,d=>{d=="completed"?o.paid_amount=o.total_amount:o.paid_amount=0}),F(()=>o.payment_type_id,()=>{console.log(y.value),y.value&&y.value.duration=="per-course"?(j.value=!0,o.total_amount=y.value.amount*$.length):(j.value=!1,y.value&&(o.total_amount=y.value.amount))});const I=[{label:"pending",value:"pending"},{label:"completed",value:"completed"},{label:"canceled",value:"failed"}],ee=()=>{o.post(route("payments.store",{student:c.student.id}),{onSuccess:()=>{N.fire("Success!","Payment has been created successfully.","success"),k.value=!1,o.reset()},onError:d=>{k.value=!1,o.reset(),N.fire("Error!",d.error,"error")}})},te=()=>{i.post(route("payments.update",{payment:U.value.id}),{onSuccess:()=>{H(),N.fire("Success!","Payment has been created successfully.","success")},onError:d=>{k.value=!1,i.reset(),N.fire("Error!",d.error,"error")}})};return(d,t)=>{var P,D;return u(),m(M,null,[e("div",me,[e("div",ue,[e("h2",ye,l(S.value.toUpperCase())+" Payments Of "+l((P=n.semesters.find(s=>s.id==w.value))==null?void 0:P.name)+" "+l(((D=n.semesters.find(s=>s.id==w.value))==null?void 0:D.id)==n.activeSemester.id?"(Current Semester)":""),1),e("button",{onClick:t[0]||(t[0]=s=>k.value=!k.value),class:"flex items-center text-green-600 hover:text-green-800"},[r(a(ne),{class:"mx-2 w-6 h-6"}),t[17]||(t[17]=e("span",{class:"font-medium"},"Create Payment",-1))])]),e("div",pe,[t[20]||(t[20]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-100"}," Filters "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Narrow down payments based on status or semester. ")],-1)),e("div",ce,[e("div",xe,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Status ",-1)),r(a(h),{modelValue:S.value,"onUpdate:modelValue":t[1]||(t[1]=s=>S.value=s),options:I,optionLabel:"label",optionValue:"value",placeholder:"Select Status",class:"w-full"},null,8,["modelValue"])]),e("div",ge,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Semester ",-1)),r(a(h),{modelValue:w.value,"onUpdate:modelValue":t[2]||(t[2]=s=>w.value=s),options:n.semesters,optionLabel:"name",optionValue:"id",placeholder:"Select Semester",class:"w-full"},{option:b(s=>[A(l(s.option.name)+" ",1),e("span",be,l(s.option.id==n.activeSemester.id?"(Current Semester)":""),1)]),_:1},8,["modelValue","options"])])])]),r(q,{mode:"out-in","enter-active-class":"transition duration-300 ease-out","enter-from-class":"scale-75 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-75 opacity-0"},{default:b(()=>[(u(),m("div",{class:"grid grid-cols-1 gap-4 mt-6",key:`${S.value}-${w.value}`},[(u(!0),m(M,null,R(z.value,(s,V)=>{var Y,G,J;return u(),m("div",{key:s.id,class:"rounded-2xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-5 shadow-sm transition hover:shadow-md"},[e("div",fe,[e("div",null,[e("h3",ve,l(((Y=s.payment_type)==null?void 0:Y.type)||"Unknown Type"),1),e("p",ke,l(((G=s.semester)==null?void 0:G.name)||"No Semester")+" | "+l(new Date(s.payment_date).toLocaleDateString()),1)]),e("div",we,[e("p",_e," Total: "+l(s.total_amount)+" ETB ",1),e("p",he," Paid: "+l(s.paid_amount)+" ETB ",1),e("p",{class:le([{"text-yellow-500":s.status==="pending","text-green-500":s.status==="completed","text-red-500":s.status==="failed","text-blue-500":s.status==="refunded"},"text-sm font-bold"])},l(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3)])]),e("div",Se,[e("div",{class:"h-full bg-green-500",style:re({width:s.paid_amount/s.total_amount*100+"%"})},null,4)]),e("div",Pe,[e("button",{onClick:_=>s.showDetails=!s.showDetails,class:"text-sm text-blue-600 hover:underline dark:text-blue-400"},l(s.showDetails?"Hide Details":"Show Details"),9,Ve),e("div",Ce,[r(a(de),{href:d.route("payments.show",{payment:s.id}),class:"px-3 py-1 text-sm font-medium rounded-md bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"},{default:b(()=>t[21]||(t[21]=[A(" View ")])),_:2},1032,["href"]),e("button",{onClick:_=>d.downloadReceipt(s.id),class:"px-3 py-1 text-sm font-medium rounded-md bg-indigo-100 text-indigo-700 hover:bg-indigo-200 dark:bg-indigo-800 dark:text-white dark:hover:bg-indigo-700"}," Receipt ",8,Te),s.status==="pending"?(u(),m("button",{key:0,onClick:_=>Q(s),class:"px-3 py-1 text-sm font-medium rounded-md bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-800 dark:text-white dark:hover:bg-green-700"}," Update Payment ",8,Ue)):C("",!0)])]),s.showDetails?(u(),m("div",De,[e("p",null,[t[22]||(t[22]=e("strong",null,"Method:",-1)),A(" "+l(((J=s.payment_method)==null?void 0:J.bank_name)||"N/A"),1)]),e("p",null,[t[23]||(t[23]=e("strong",null,"Reference:",-1)),A(" "+l(s.reference_number||"N/A"),1)]),s.payment_type.type=="Course Fee"?(u(),m("div",Fe,[e("h2",Ae," Course Fees – "+l(n.activeSemester.year.name)+" Semester "+l(n.activeSemester.level),1),e("div",Me,[e("table",Ne,[t[25]||(t[25]=e("thead",{class:"bg-gray-100 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," # "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Course Name "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Fee Amount "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Status ")])],-1)),e("tbody",Le,[(u(!0),m(M,null,R(n.student.enrollments,(_,se)=>(u(),m("tr",{key:_.course.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition"},[e("td",$e,l(se+1),1),e("td",je,l(_.course.name),1),e("td",Ee,l(s.payment_type.amount),1),e("td",Oe,l(_.status),1)]))),128)),e("tr",Re,[t[24]||(t[24]=e("td",{colspan:"2",class:"px-6 py-2 text-gray-900 dark:text-gray-100"}," Total ",-1)),e("td",qe,l(s.payment_type.amount*n.student.enrollments.length),1),e("td",Be,l(s.status),1)])])])])])):C("",!0)])):C("",!0)])}),128))]))]),_:1})]),r(B,{show:T.value,onClose:t[4]||(t[4]=s=>T.value=!1),maxWidth:"6xl",class:"p-24 h-full"},{default:b(()=>[e("div",We,[t[26]||(t[26]=e("h1",{class:"text-lg mb-5"}," Pick Payments You Would like To Assign To This Section ",-1)),r(a(ie),{id:"cousesList",modelValue:a(x).payments,"onUpdate:modelValue":t[3]||(t[3]=s=>a(x).payments=s),options:n.payments,optionLabel:"name","option-value":"id",appendTo:"self",filter:"",checkmark:"",multiple:"","list-style":"max-height: 500px",placeholder:"Select Payments",maxSelectedLabels:3,class:"w-full"},null,8,["modelValue","options"]),r(p,{message:a(x).errors.payments,class:"mt-2 text-sm text-red-500"},null,8,["message"]),e("div",ze,[e("button",{onClick:Z,disabled:a(x).processing,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-5"},l(a(x).processing?"Assigning...":"Assign"),9,He),e("button",{onClick:X,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])])]),_:1},8,["show"]),r(B,{show:k.value,onClose:E,maxWidth:"6xl",class:"p-6"},{default:b(()=>[e("div",Ie,[e("h1",Ye," Create Payment for – "+l(n.activeSemester.name),1),e("span",Ge,l(a(W).error),1),e("form",{onSubmit:K(ee,["prevent"])},[e("div",Je,[t[27]||(t[27]=e("label",{for:"narration",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Description ",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>a(o).description=s),placeholder:"Payment Description (eg Registration Fee, Tuition Fee...)",id:"narration",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(o).description]]),r(p,{message:a(o).errors.narration,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",Ke,[e("div",Qe,[t[28]||(t[28]=e("label",{for:"payment_method_id",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Method ",-1)),r(a(h),{modelValue:a(o).payment_method_id,"onUpdate:modelValue":t[6]||(t[6]=s=>a(o).payment_method_id=s),options:n.paymentMethods,optionLabel:"bank_name",optionValue:"id",appendTo:"self",placeholder:"Select Payment Method",class:"w-full"},null,8,["modelValue","options"]),r(p,{message:a(o).errors.payment_method_id,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",Xe,[t[29]||(t[29]=e("label",{for:"payment_type_id",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Type ",-1)),r(a(h),{modelValue:a(o).payment_type_id,"onUpdate:modelValue":t[7]||(t[7]=s=>a(o).payment_type_id=s),options:n.paymentTypes,optionLabel:"type",optionValue:"id",appendTo:"self",placeholder:"Select Type",class:"w-full"},null,8,["modelValue","options"]),r(p,{message:a(o).errors.payment_type_id,class:"mt-2 text-sm text-red-500"},null,8,["message"])])]),r(q,{"enter-active-class":"transition ease-out duration-500","enter-from-class":"opacity-0 -translate-y-6","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-6"},{default:b(()=>[j.value?(u(),m("div",Ze,[e("h2",et," Courses with Unpaid Fees – "+l(n.activeSemester.year.name)+" Semester "+l(n.activeSemester.level),1),e("div",tt,[e("table",st,[t[31]||(t[31]=e("thead",{class:"bg-gray-100 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," # "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Course Name "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Fee Amount ")])],-1)),e("tbody",at,[(u(!0),m(M,null,R(a($),(s,V)=>(u(),m("tr",{key:s.course.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition"},[e("td",ot,l(V+1),1),e("td",lt,l(s.course.name),1),e("td",rt,l(y.value.amount),1)]))),128)),e("tr",dt,[t[30]||(t[30]=e("td",{colspan:"2",class:"px-6 py-2 text-gray-900 dark:text-gray-100"}," Total ",-1)),e("td",nt,l(y.value.amount*a($).length),1)])])])])])):y.value&&y.value.duration!="per-course"?(u(),m("div",it,[e("h2",mt," Courses with Unpaid Fees – "+l(n.activeSemester.year.name)+" Semester "+l(n.activeSemester.level),1),e("div",ut,[e("table",yt,[t[34]||(t[34]=e("thead",{class:"bg-gray-100 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," # "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Fee Description "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Fee Amount ")])],-1)),e("tbody",pt,[e("tr",ct,[t[32]||(t[32]=e("td",{class:"px-6 py-2 text-sm text-gray-800 dark:text-gray-200"}," 1 ",-1)),e("td",xt,l(y.value.type),1),e("td",gt,l(y.value.amount),1)]),e("tr",bt,[t[33]||(t[33]=e("td",{colspan:"2",class:"px-6 py-2 text-gray-900 dark:text-gray-100"}," Total ",-1)),e("td",ft,l(y.value.amount),1)])])])])])):C("",!0)]),_:1}),e("div",vt,[e("div",kt,[t[35]||(t[35]=e("label",{for:"status",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Status ",-1)),r(a(h),{modelValue:a(o).status,"onUpdate:modelValue":t[8]||(t[8]=s=>a(o).status=s),options:I,optionLabel:"label",optionValue:"value",appendTo:"self",placeholder:"Select Status",class:"w-full"},null,8,["modelValue"]),r(p,{message:a(o).errors.status,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),r(q,{"enter-active-class":"transition ease-out duration-500","enter-from-class":"opacity-0 -translate-x-6","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"transition ease-in duration-300","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-6"},{default:b(()=>[a(o).status!=="completed"?(u(),m("div",wt,[t[36]||(t[36]=e("label",{for:"paid_amount",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Paid Amount ",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=s=>a(o).paid_amount=s),id:"paid_amount",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(o).paid_amount]]),r(p,{message:a(o).errors.paid_amount,class:"mt-2 text-sm text-red-500"},null,8,["message"])])):C("",!0)]),_:1}),e("div",_t,[t[37]||(t[37]=e("label",{for:"payment_date",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Date ",-1)),f(e("input",{type:"date","onUpdate:modelValue":t[10]||(t[10]=s=>a(o).payment_date=s),id:"payment_date",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(o).payment_date]]),r(p,{message:a(o).errors.payment_date,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",ht,[t[38]||(t[38]=e("label",{for:"reference_number",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Reference Number (Optional) ",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=s=>a(o).reference_number=s),id:"reference_number",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(o).reference_number]]),r(p,{message:a(o).errors.reference_number,class:"mt-2 text-sm text-red-500"},null,8,["message"])])]),e("div",St,[e("button",{type:"submit",disabled:a(o).processing,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-5"},l(a(o).processing?"Creating...":"Create Payment"),9,Pt),e("button",{type:"button",onClick:E,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])],32)])]),_:1},8,["show"]),r(B,{show:L.value,onClose:H,maxWidth:"6xl",class:"p-6"},{default:b(()=>[e("div",Vt,[e("h1",Ct," Update "+l(U.value.payment_type.type)+" Payment for – "+l(n.activeSemester.name),1),e("span",Tt,l(a(W).error),1),e("form",{onSubmit:K(te,["prevent"])},[e("div",Ut,[e("div",Dt,[t[39]||(t[39]=e("label",{for:"payment_method_id",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Method ",-1)),r(a(h),{modelValue:a(o).payment_method_id,"onUpdate:modelValue":t[12]||(t[12]=s=>a(o).payment_method_id=s),options:n.paymentMethods,optionLabel:"bank_name",optionValue:"id",appendTo:"self",placeholder:"Select Payment Method",class:"w-full"},null,8,["modelValue","options"]),r(p,{message:a(o).errors.payment_method_id,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",Ft,[t[40]||(t[40]=e("label",{for:"description",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Description ",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=s=>a(i).description=s),placeholder:"Payment Description (eg Registration Fee, Tuition Fee...)",id:"description",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(i).description]]),r(p,{message:a(i).errors.description,class:"mt-2 text-sm text-red-500"},null,8,["message"])])]),e("div",At,[e("div",Mt,[t[41]||(t[41]=e("label",{for:"paid_amount",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Paid Amount ",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=s=>a(i).paid_amount=s),id:"paid_amount",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(i).paid_amount]]),r(p,{message:a(i).errors.paid_amount,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",Nt,[t[42]||(t[42]=e("label",{for:"payment_date",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Date ",-1)),f(e("input",{type:"date","onUpdate:modelValue":t[15]||(t[15]=s=>a(i).payment_date=s),id:"payment_date",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(i).payment_date]]),r(p,{message:a(i).errors.payment_date,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",Lt,[t[43]||(t[43]=e("label",{for:"reference_number",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Reference Number (Optional) ",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=s=>a(i).reference_number=s),id:"reference_number",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(i).reference_number]]),r(p,{message:a(i).errors.reference_number,class:"mt-2 text-sm text-red-500"},null,8,["message"])])]),e("div",$t,[e("button",{type:"submit",disabled:a(i).processing,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-5"},l(a(o).processing?"Saving...":"Save Payment"),9,jt),e("button",{type:"button",onClick:E,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])],32)])]),_:1},8,["show"])],64)}}};export{Xt as default};
