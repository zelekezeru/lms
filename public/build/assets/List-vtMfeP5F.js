import{c as f,o as i,a as l,r as $,x as A,d as k,h as a,j as u,u as o,w as d,F as w,f as C,e as M,t as m,S as c,i as T,m as h,v as V,n as B}from"./app-Bgi85lxd.js";import{a as I,T as j}from"./TableHeader-7Xt0CLCp.js";import{T as L}from"./TableZebraRows-BBxR7lws.js";import{_ as b}from"./Thead-B6HWuIHs.js";import{_ as D}from"./Modal-CKHbuL3C.js";import{s as p}from"./index-Y4JjQRku.js";import{r as H}from"./EyeIcon-BmbZAM5V.js";import{r as O}from"./PencilSquareIcon-h0dwAQKi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DgH_bh6L.js";import"./index-DcUA5YhE.js";import"./index-vx1DOG_1.js";import"./index-_9WrJeO3.js";import"./index-B5TwnFPu.js";import"./index-mZY4zoiS.js";function N(n,v){return i(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z","clip-rule":"evenodd"})])}const Z={class:"overflow-x-auto shadow-md sm:rounded-lg mt-3"},z={class:"flex justify-between items-center my-4"},E={class:"px-6 py-4"},G={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},R={class:"px-6 py-4"},Y={class:"px-6 py-4"},q={class:"px-6 py-4 flex space-x-6"},J={key:0},K={key:1},Q={class:"mt-3 flex justify-center space-x-6"},W={class:"p-6 space-y-6 bg-gradient-to-br from-white via-blue-50 to-blue-100 dark:from-gray-800 dark:via-gray-900 dark:to-gray-800 rounded-xl shadow-xl"},X={class:"text-2xl font-bold text-blue-700 dark:text-blue-300 flex items-center gap-2"},_={class:"flex flex-wrap gap-4"},ee={class:"flex items-center gap-2 text-gray-600 dark:text-gray-300"},te={class:"flex items-center gap-2 text-gray-600 dark:text-gray-300"},le={class:"flex items-center gap-2 text-gray-600 dark:text-gray-300"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},se={class:"flex justify-end space-x-3 pt-4"},ke={__name:"List",props:{students:Object,sortInfo:Object,deleteStudent:Function,search:String,programs:Array,years:Array},setup(n){const v=n,y=$(!1),s=A({payment:null,statuses:[],year:null,program:null,track:null,study_mode:null,section:null}),S=k(()=>{const r=v.programs.find(e=>e.id==s.program);return r?r.tracks:[]}),U=k(()=>{const r=v.programs.find(e=>e.id==s.program);return r?r.studyModes:[]}),F=k(()=>{var x;const r=s.track,e=s.study_mode,t=(x=S.value)==null?void 0:x.find(g=>g.id==r);return t?e?t.sections.filter(g=>s.year?g.studyMode.id==e&&g.year.id==s.year:g.studyMode.id==e):t.sections:[]}),P=()=>{s.get(route("students.index"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>y.value=!1})};return(r,e)=>(i(),f(w,null,[l("div",Z,[l("div",z,[l("button",{onClick:e[0]||(e[0]=t=>y.value=!0),class:"flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition"},[a(o(N),{class:"w-5 h-5 mr-2"}),e[12]||(e[12]=u(" Filters "))])]),a(j,null,{default:d(()=>[a(I,null,{default:d(()=>[l("tr",null,[a(b,null,{default:d(()=>e[13]||(e[13]=[u("No.")])),_:1,__:[13]}),a(b,{sortable:!0,"sort-info":n.sortInfo,sortColumn:"first_name"},{default:d(()=>e[14]||(e[14]=[u("Student Name")])),_:1,__:[14]},8,["sort-info"]),a(b,{sortable:!0,"sort-info":n.sortInfo,sortColumn:"id_no"},{default:d(()=>e[15]||(e[15]=[u("ID Number")])),_:1,__:[15]},8,["sort-info"]),a(b,{sortable:!0,"sort-info":n.sortInfo,sortColumn:"mobile_phone"},{default:d(()=>e[16]||(e[16]=[u("Phone")])),_:1,__:[16]},8,["sort-info"]),a(b,null,{default:d(()=>e[17]||(e[17]=[u("Actions")])),_:1,__:[17]})])]),_:1}),l("tbody",null,[(i(!0),f(w,null,C(n.students.data,(t,x)=>(i(),M(L,{key:t.id},{default:d(()=>[l("td",E,m(x+1+(n.students.meta.current_page-1)*n.students.meta.per_page),1),l("th",G,[a(o(c),{href:r.route("students.show",{student:t.id})},{default:d(()=>[u(m(t.firstName)+" "+m(t.middleName)+" "+m(t.lastName),1)]),_:2},1032,["href"])]),l("td",R,m(t.idNo),1),l("td",Y,m(t.mobilePhone),1),l("td",q,[r.userCan("view-students")?(i(),f("div",J,[a(o(c),{href:r.route("students.show",{student:t.id}),class:"text-blue-500 hover:text-blue-700"},{default:d(()=>[a(o(H),{class:"w-5 h-5"})]),_:2},1032,["href"])])):T("",!0),r.userCan("update-students")?(i(),f("div",K,[a(o(c),{href:r.route("students.edit",{student:t.id}),class:"text-green-500 hover:text-green-700"},{default:d(()=>[a(o(O),{class:"w-5 h-5"})]),_:2},1032,["href"])])):T("",!0)])]),_:2},1024))),128))])]),_:1})]),l("div",Q,[(i(!0),f(w,null,C(n.students.meta.links,t=>(i(),M(o(c),{key:t.label,href:t.url?`${t.url}&search=${n.search}`:"#",class:B(["p-2 px-4 text-sm font-medium rounded-lg transition-colors",{"text-gray-700 dark:text-gray-400":!0,"cursor-not-allowed opacity-50":!t.url,"!bg-gray-100 !dark:bg-gray-800":t.active}]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))]),a(D,{show:y.value,onClose:e[11]||(e[11]=t=>y.value=!1)},{default:d(()=>[l("div",W,[l("h2",X,[a(o(N),{class:"w-6 h-6 text-blue-500 dark:text-blue-300"}),e[18]||(e[18]=u(" Filter Students "))]),l("div",null,[e[19]||(e[19]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"By Payment",-1)),a(o(p),{"append-to":"self",modelValue:o(s).payment,"onUpdate:modelValue":e[1]||(e[1]=t=>o(s).payment=t),options:[{label:"Uncompleted (Pending)",value:"pending"},{label:"Completed with Scholarship",value:"completed_scholarship"},{label:"Only Scholarship Students",value:"scholarship_only"}],"option-label":"label","option-value":"value",placeholder:"Select payment type",class:"w-full"},null,8,["modelValue"])]),l("div",null,[e[23]||(e[23]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"By Status",-1)),l("div",_,[l("label",ee,[h(l("input",{type:"checkbox",value:"active","onUpdate:modelValue":e[2]||(e[2]=t=>o(s).statuses=t)},null,512),[[V,o(s).statuses]]),e[20]||(e[20]=u(" Active "))]),l("label",te,[h(l("input",{type:"checkbox",value:"graduated","onUpdate:modelValue":e[3]||(e[3]=t=>o(s).statuses=t)},null,512),[[V,o(s).statuses]]),e[21]||(e[21]=u(" Graduated "))]),l("label",le,[h(l("input",{type:"checkbox",value:"dropped","onUpdate:modelValue":e[4]||(e[4]=t=>o(s).statuses=t)},null,512),[[V,o(s).statuses]]),e[22]||(e[22]=u(" Dropped "))])])]),l("div",oe,[l("div",null,[e[24]||(e[24]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Year",-1)),a(o(p),{"append-to":"self",modelValue:o(s).year,"onUpdate:modelValue":e[5]||(e[5]=t=>o(s).year=t),options:n.years,"option-label":"name","option-value":"id",placeholder:"Select year",class:"w-full"},null,8,["modelValue","options"])]),l("div",null,[e[25]||(e[25]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Program",-1)),a(o(p),{"append-to":"self",modelValue:o(s).program,"onUpdate:modelValue":e[6]||(e[6]=t=>o(s).program=t),options:n.programs,"option-label":"name","option-value":"id",placeholder:"Select program",class:"w-full"},null,8,["modelValue","options"])]),l("div",null,[e[26]||(e[26]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Track",-1)),a(o(p),{"append-to":"self",modelValue:o(s).track,"onUpdate:modelValue":e[7]||(e[7]=t=>o(s).track=t),options:S.value,"option-label":"name","option-value":"id",placeholder:"Select track",class:"w-full"},null,8,["modelValue","options"])]),l("div",null,[e[27]||(e[27]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"StudyMode",-1)),a(o(p),{"append-to":"self",modelValue:o(s).study_mode,"onUpdate:modelValue":e[8]||(e[8]=t=>o(s).study_mode=t),options:U.value,"option-label":"name","option-value":"id",placeholder:"Select Study Mode",class:"w-full"},null,8,["modelValue","options"])]),l("div",null,[e[28]||(e[28]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Section",-1)),a(o(p),{"append-to":"self",modelValue:o(s).section,"onUpdate:modelValue":e[9]||(e[9]=t=>o(s).section=t),options:F.value,"option-label":"name","option-value":"id",placeholder:"Select section",class:"w-full"},null,8,["modelValue","options"])])]),l("div",se,[l("button",{onClick:e[10]||(e[10]=t=>y.value=!1),class:"px-5 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition font-semibold"}," Cancel "),l("button",{onClick:P,class:"px-5 py-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-400 text-white font-semibold shadow hover:from-blue-700 hover:to-blue-500 transition"}," Apply Filters ")])])]),_:1},8,["show"])],64))}};export{ke as default};
