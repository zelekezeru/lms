import{e as v,o as s,w as c,a as t,c as n,h as a,u as l,S as y,k as g,F as h,f,t as o,i as S,W as x}from"./app-BOL8p7tX.js";import{S as m}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{A as C}from"./AppLayout-DHGUi0QV.js";import{r as p}from"./PlusCircleIcon-ChehZ9qg.js";import{r as B}from"./PencilSquareIcon-CJ3s2ZJc.js";import{r as b}from"./TrashIcon-DYqLEyQ6.js";import"./ChevronDownIcon-DpP40ee0.js";import"./XMarkIcon-eX2d7g0G.js";import"./SunIcon-DsfqiXyT.js";import"./AcademicCapIcon-BvDkQjnD.js";import"./CalendarIcon-DRvQJa9n.js";import"./ClockIcon-8tyG1AT5.js";import"./UserIcon-qywEjoca.js";import"./UsersIcon-CsQVgFSR.js";import"./PlusIcon-Bytdw1ip.js";import"./CurrencyDollarIcon-Bw18SzCy.js";import"./LanguageToggle-BmtBxsUk.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ArrowRightIcon-D1oOIwGJ.js";const A={class:"mb-4 flex justify-between items-center"},P={key:0},N={class:"flex justify-between items-center mb-2"},j={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},T=["onClick"],D={class:"text-gray-600 dark:text-gray-400 mb-2"},V={key:0},I={class:"list-disc pl-5"},Y={key:1,class:"text-gray-500 dark:text-gray-500"},$={key:1,class:"mb-6 text-gray-500 dark:text-gray-500"},E={class:"mb-4 flex justify-between items-center"},L={key:2},F={class:"flex justify-between items-center"},O={class:"text-gray-800 dark:text-gray-200 font-semibold"},R={class:"text-sm text-gray-600 dark:text-gray-400"},W={key:0,class:"text-sm text-indigo-500"},M=["onClick"],q={key:3,class:"text-gray-500 dark:text-gray-500"},me={__name:"Show",props:{student:Object,status:Object,showVerifyModal:Boolean,paymentSchedules:Array,payments:Array},setup(d){const k=d,_=u=>{m.fire({title:"Are you sure?",text:"You won't be able to revert the deletion of this payment schedule!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&x.delete(route("students.payment-schedules.destroy",{student:k.student.id,payment_schedule:u}),{onSuccess:()=>{m.fire("Deleted!","The payment schedule has been deleted.","success")}})})},w=u=>{m.fire({title:"Are you sure?",text:"You won't be able to revert the deletion of this payment!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&x.delete(route("payments.destroy",{payment:u}),{onSuccess:()=>{m.fire("Deleted!","The payment has been deleted.","success")}})})};return(u,r)=>(s(),v(C,null,{default:c(()=>[t("div",null,[t("div",A,[r[1]||(r[1]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"}," Payment Schedules ",-1)),a(l(y),{href:u.route("students.payment-schedules.create",{student:d.student.id}),class:"inline-flex items-center rounded-md bg-indigo-600 text-white px-3 py-2 text-sm font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:c(()=>[a(l(p),{class:"w-5 h-5 mr-2"}),r[0]||(r[0]=g(" Add Schedule "))]),_:1},8,["href"])]),d.paymentSchedules&&d.paymentSchedules.length>0?(s(),n("div",P,[(s(!0),n(h,null,f(d.paymentSchedules,e=>(s(),n("div",{key:e.id,class:"mb-6 bg-white dark:bg-gray-800 shadow rounded-md p-4 border dark:border-gray-700"},[t("div",N,[t("h4",j,o(e.description||"Payment Schedule"),1),t("div",null,[a(l(y),{href:u.route("students.payment-schedules.edit",{student:d.student.id,payment_schedule:e.id}),class:"text-green-500 hover:text-green-700 mr-2"},{default:c(()=>[a(l(B),{class:"w-5 h-5"})]),_:2},1032,["href"]),t("button",{onClick:i=>_(e.id),class:"text-red-500 hover:text-red-700"},[a(l(b),{class:"w-5 h-5"})],8,T)])]),t("p",D," Total Expected: "+o(e.total_expected_amount),1),e.items&&e.items.length>0?(s(),n("div",V,[t("ul",I,[(s(!0),n(h,null,f(e.items,i=>(s(),n("li",{key:i.id,class:"mb-1"},o(i.name)+" - Due: "+o(i.due_date)+" - Expected: "+o(i.expected_amount)+" - Paid: "+o(i.paid_amount)+" - Remaining: "+o(i.remaining_amount),1))),128))])])):(s(),n("div",Y," No installments defined for this schedule. "))]))),128))])):(s(),n("div",$," No payment schedules found for this student. ")),t("div",E,[r[3]||(r[3]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"}," Individual Payments ",-1)),a(l(y),{href:u.route("students.payments.create",{student:d.student.id}),class:"inline-flex items-center rounded-md bg-indigo-600 text-white px-3 py-2 text-sm font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:c(()=>[a(l(p),{class:"w-5 h-5 mr-2"}),r[2]||(r[2]=g(" Record Payment "))]),_:1},8,["href"])]),d.payments&&d.payments.length>0?(s(),n("div",L,[(s(!0),n(h,null,f(d.payments,e=>(s(),n("div",{key:e.id,class:"mb-3 bg-white dark:bg-gray-800 shadow rounded-md p-4 border dark:border-gray-700"},[t("div",F,[t("div",null,[t("p",O," #"+o(e.id)+" - "+o(e.payment_type?e.payment_type.name:"Payment"),1),t("p",R," Date: "+o(e.payment_date)+" - Amount: "+o(e.total_amount)+" - Status: "+o(e.status),1),e.paymentScheduleItem?(s(),n("p",W," Linked to: "+o(e.paymentScheduleItem.paymentSchedule.description)+" - "+o(e.paymentScheduleItem.name),1)):S("",!0)]),t("button",{onClick:i=>w(e.id),class:"text-red-500 hover:text-red-700"},[a(l(b),{class:"w-5 h-5"})],8,M)])]))),128))])):(s(),n("div",q," No payments recorded for this student yet. "))])]),_:1}))}};export{me as default};
