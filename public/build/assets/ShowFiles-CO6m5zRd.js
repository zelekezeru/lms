import{r as k,c as s,o as r,g as n,a as e,u as d,j as p,d as h,w as i,i as w,S as u,F as c,e as D,n as _,t as g,W as v}from"./app-DOU7ongx.js";import{S as y}from"./sweetalert2.esm.all-9Qm2jZ7z.js";/* empty css                        */import{r as S}from"./ClipboardDocumentListIcon-DsqAlCYI.js";import{r as B}from"./EyeIcon-_pTewRVy.js";import{r as C}from"./TrashIcon-BXvSKvE8.js";const j={class:"mb-4"},N={class:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2"},V={key:1,class:"text-center text-gray-500 dark:text-gray-400 py-2"},A={key:0,class:"overflow-x-auto"},L={class:"min-w-full table-auto border border-gray-300 dark:border-gray-600","aria-label":"Documents table"},T={class:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100 border-r border-gray-300 dark:border-gray-600"},F={class:"px-4 py-2 text-sm text-gray-700 dark:text-gray-200 border-r border-gray-300 dark:border-gray-600"},I={class:"px-4 py-2 text-sm border-r border-gray-300 dark:border-gray-600"},$={key:0,class:"flex items-center justify-center w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-lg"},q=["src"],U={key:1,class:"flex items-center justify-center w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-lg"},W={key:2,class:"text-xs text-gray-400 italic"},Y={class:"px-4 py-2 text-sm text-gray-700 dark:text-gray-200 flex gap-2"},z=["onClick"],E={key:1,class:"text-center text-gray-500 dark:text-gray-400 py-6"},Q={__name:"ShowFiles",props:{student:{type:Object,required:!0},documents:{type:Array,required:!0}},setup(o){const m=k(!1),x=()=>{m.value=!0},b=l=>{y.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&v.delete(route("userDocuments.destroy",{userDocument:l}),{onSuccess:()=>{y.fire("Deleted!","The document has been deleted.","success")}})})};return(l,t)=>(r(),s(c,null,[n(d(p),{title:"Student Document"}),t[6]||(t[6]=e("h2",{id:"student-documents-heading",class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"}," Student Documents ",-1)),e("div",j,[e("div",N,[o.student&&o.student.user_id?(r(),h(d(u),{key:0,href:l.route("userDocuments.newDocument",{user_id:o.student.user_id}),class:"inline-flex items-center rounded-md bg-green-600 text-white px-4 py-2 text-xs font-semibold uppercase tracking-widest transition duration-150 ease-in-out hover:bg-green-700 focus:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"},{default:i(()=>t[0]||(t[0]=[w(" + Add Document ")])),_:1,__:[0]},8,["href"])):(r(),s("div",V,t[1]||(t[1]=[e("p",null,"Unable to add documents. User ID is missing.",-1)])))])]),o.documents&&o.documents.length?(r(),s("div",A,[e("table",L,[t[4]||(t[4]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r border-gray-300 dark:border-gray-600"}," Document Name "),e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r border-gray-300 dark:border-gray-600"}," Description "),e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r border-gray-300 dark:border-gray-600"}," Thumbnail "),e("th",{scope:"col",class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"}," Actions ")])],-1)),e("tbody",null,[(r(!0),s(c,null,D(o.documents,(a,f)=>(r(),s("tr",{key:a.id,class:_([f%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700","border-b border-gray-300 dark:border-gray-600"])},[e("td",T,g(a.title),1),e("td",F,g(a.description),1),e("td",I,[a.file===null?(r(),s("div",$,[e("img",{src:a.image,alt:"Document Image Preview",class:"w-16 h-16 object-cover rounded-lg border border-gray-200 dark:border-gray-700",onLoad:x},null,40,q)])):a.file!==null?(r(),s("div",U,[n(d(S),{class:"w-8 h-8 text-gray-500 dark:text-gray-400","aria-label":"Document file icon"})])):(r(),s("div",W,"No file"))]),e("td",Y,[n(d(u),{href:l.route("userDocuments.show",{userDocument:a.id}),class:"text-blue-500 hover:text-blue-700 flex items-center gap-1","aria-label":"View document"},{default:i(()=>[n(d(B),{class:"w-5 h-5"}),t[2]||(t[2]=e("span",null,"View",-1))]),_:2,__:[2]},1032,["href"]),(r(),s("button",{key:0,onClick:O=>b(a.id),class:"text-red-500 hover:text-red-700 flex items-center gap-1","aria-label":"Delete document"},[n(d(C),{class:"w-5 h-5"}),t[3]||(t[3]=e("span",null,"Delete",-1))],8,z))])],2))),128))])])])):(r(),s("div",E,t[5]||(t[5]=[e("p",null,"No documents available.",-1)])))],64))}};export{Q as default};
