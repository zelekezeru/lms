import{e as v,o as s,w as c,a as t,c as o,h as i,u as l,S as y,k as g,F as h,f,t as n,i as S,W as x}from"./app-BrFhRYXM.js";import{S as m}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{_ as C}from"./AppLayout-DDM0-FLE.js";import{r as p}from"./PlusCircleIcon-DmL4wzNg.js";import{r as B}from"./PencilSquareIcon-DuV5JbIk.js";import{r as b}from"./TrashIcon-BG5KCVEQ.js";import"./ChevronDownIcon-CspmZZDM.js";import"./AcademicCapIcon-BJOVXfH-.js";import"./ClockIcon-isYbYpBm.js";import"./PlusIcon-Ds2nlPoV.js";import"./LanguageToggle-BT4O2slf.js";const P={class:"mb-4 flex justify-between items-center"},N={key:0},j={class:"flex justify-between items-center mb-2"},A={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},T=["onClick"],D={class:"text-gray-600 dark:text-gray-400 mb-2"},V={key:0},$={class:"list-disc pl-5"},I={key:1,class:"text-gray-500 dark:text-gray-500"},Y={key:1,class:"mb-6 text-gray-500 dark:text-gray-500"},E={class:"mb-4 flex justify-between items-center"},F={key:2},L={class:"flex justify-between items-center"},O={class:"text-gray-800 dark:text-gray-200 font-semibold"},R={class:"text-sm text-gray-600 dark:text-gray-400"},W={key:0,class:"text-sm text-indigo-500"},M=["onClick"],q={key:3,class:"text-gray-500 dark:text-gray-500"},ne={__name:"Show",props:{student:Object,status:Object,showVerifyModal:Boolean,paymentSchedules:Array,payments:Array},setup(r){const k=r,_=u=>{m.fire({title:"Are you sure?",text:"You won't be able to revert the deletion of this payment schedule!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(d=>{d.isConfirmed&&x.delete(route("students.payment-schedules.destroy",{student:k.student.id,payment_schedule:u}),{onSuccess:()=>{m.fire("Deleted!","The payment schedule has been deleted.","success")}})})},w=u=>{m.fire({title:"Are you sure?",text:"You won't be able to revert the deletion of this payment!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(d=>{d.isConfirmed&&x.delete(route("payments.destroy",{payment:u}),{onSuccess:()=>{m.fire("Deleted!","The payment has been deleted.","success")}})})};return(u,d)=>(s(),v(C,null,{default:c(()=>[t("div",null,[t("div",P,[d[1]||(d[1]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"}," Payment Schedules ",-1)),i(l(y),{href:u.route("students.payment-schedules.create",{student:r.student.id}),class:"inline-flex items-center rounded-md bg-indigo-600 text-white px-3 py-2 text-sm font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:c(()=>[i(l(p),{class:"w-5 h-5 mr-2"}),d[0]||(d[0]=g(" Add Schedule "))]),_:1},8,["href"])]),r.paymentSchedules&&r.paymentSchedules.length>0?(s(),o("div",N,[(s(!0),o(h,null,f(r.paymentSchedules,e=>(s(),o("div",{key:e.id,class:"mb-6 bg-white dark:bg-gray-800 shadow rounded-md p-4 border dark:border-gray-700"},[t("div",j,[t("h4",A,n(e.description||"Payment Schedule"),1),t("div",null,[i(l(y),{href:u.route("students.payment-schedules.edit",{student:r.student.id,payment_schedule:e.id}),class:"text-green-500 hover:text-green-700 mr-2"},{default:c(()=>[i(l(B),{class:"w-5 h-5"})]),_:2},1032,["href"]),t("button",{onClick:a=>_(e.id),class:"text-red-500 hover:text-red-700"},[i(l(b),{class:"w-5 h-5"})],8,T)])]),t("p",D," Total Expected: "+n(e.total_expected_amount),1),e.items&&e.items.length>0?(s(),o("div",V,[t("ul",$,[(s(!0),o(h,null,f(e.items,a=>(s(),o("li",{key:a.id,class:"mb-1"},n(a.name)+" - Due: "+n(a.due_date)+" - Expected: "+n(a.expected_amount)+" - Paid: "+n(a.paid_amount)+" - Remaining: "+n(a.remaining_amount),1))),128))])])):(s(),o("div",I," No installments defined for this schedule. "))]))),128))])):(s(),o("div",Y," No payment schedules found for this student. ")),t("div",E,[d[3]||(d[3]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"}," Individual Payments ",-1)),i(l(y),{href:u.route("students.payments.create",{student:r.student.id}),class:"inline-flex items-center rounded-md bg-indigo-600 text-white px-3 py-2 text-sm font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:c(()=>[i(l(p),{class:"w-5 h-5 mr-2"}),d[2]||(d[2]=g(" Record Payment "))]),_:1},8,["href"])]),r.payments&&r.payments.length>0?(s(),o("div",F,[(s(!0),o(h,null,f(r.payments,e=>(s(),o("div",{key:e.id,class:"mb-3 bg-white dark:bg-gray-800 shadow rounded-md p-4 border dark:border-gray-700"},[t("div",L,[t("div",null,[t("p",O," #"+n(e.id)+" - "+n(e.payment_type?e.payment_type.name:"Payment"),1),t("p",R," Date: "+n(e.payment_date)+" - Amount: "+n(e.total_amount)+" - Status: "+n(e.status),1),e.paymentScheduleItem?(s(),o("p",W," Linked to: "+n(e.paymentScheduleItem.paymentSchedule.description)+" - "+n(e.paymentScheduleItem.name),1)):S("",!0)]),t("button",{onClick:a=>w(e.id),class:"text-red-500 hover:text-red-700"},[i(l(b),{class:"w-5 h-5"})],8,M)])]))),128))])):(s(),o("div",q," No payments recorded for this student yet. "))])]),_:1}))}};export{ne as default};
