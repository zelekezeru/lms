import{x,G as y,b as w,o,w as k,a as r,t as n,k as c,l as m,u as s,c as i,F as v,d as f,i as b,z as h,g,A as p,v as S}from"./app-BWmH8QMa.js";import{A as C}from"./AppLayout-D5QuDRqe.js";import"./ChevronDownIcon-iYjfVUnw.js";import"./XMarkIcon-CeR2EzKP.js";import"./SunIcon-CU7bttYv.js";import"./AcademicCapIcon-6dO0TwL_.js";import"./CalendarIcon-CHfSWlVE.js";import"./ClockIcon-5rA9SGb_.js";import"./PlusIcon-5QZXPBcx.js";import"./CurrencyDollarIcon-DLnE7XKQ.js";import"./LanguageToggle-CM13wfhy.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"bg-white dark:bg-gray-800 p-6 rounded shadow space-y-4"},A={class:"text-gray-700 dark:text-gray-300 underline"},B={class:"mb-1 text-lg font-bold text-green-500 dark:text-green-200"},D=["value"],M=["value"],N={class:"text-red-600 dark:text-red-400"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},F={key:0,class:"text-sm text-red-500 dark:text-red-400"},O={key:0,class:"text-sm text-red-500 dark:text-red-400"},j={class:"inline-flex items-center text-gray-900 dark:text-gray-200"},E={key:0,class:"text-sm text-red-500 dark:text-red-400"},L=["disabled"],Y={__name:"CloseForm",props:{semester:Object,semesters:Object},setup(l){const d=l,e=x({approval:!1,new_semester_id:null,new_semester_start_date:"",new_semester_end_date:"",errors:{}});d.semester&&(e.new_semester_id=d.semester.id,e.new_semester_start_date=d.semester.start_date||"",e.new_semester_end_date=d.semester.end_date||""),y(()=>e.new_semester_id,_=>{if(_===d.semester.id)e.new_semester_start_date=d.semester.start_date||"",e.new_semester_end_date=d.semester.end_date||"";else{const t=d.semesters.find(a=>a.id===_);t?(e.new_semester_start_date=t.start_date||"",e.new_semester_end_date=t.end_date||""):(e.new_semester_start_date="",e.new_semester_end_date="")}});const u=()=>{e.post(route("semesters.close"),{onSuccess:()=>{e.reset()}})};return(_,t)=>(o(),w(C,null,{default:k(()=>[t[10]||(t[10]=r("h2",{class:"text-2xl font-semibold mb-4 text-gray-900 dark:text-white"},"Close Active Semester",-1)),r("div",V,[r("p",A,[t[4]||(t[4]=r("strong",{class:"text-gray-900 dark:text-white"},"Current Active Semester: ",-1)),r("span",B,n(l.semester.name),1)]),r("form",{onSubmit:c(u,["prevent"]),class:"space-y-4"},[r("div",null,[t[8]||(t[8]=r("label",{class:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-200"},"Select Next Opening Semester",-1)),m(r("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>s(e).new_semester_id=a),class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[r("option",{value:l.semester.id,disabled:"",class:"text-green-500 dark:text-green-400 bg-white dark:bg-gray-700"}," ðŸŸ¢ Current Active : "+n(l.semester.name),9,D),(o(!0),i(v,null,f(l.semesters,a=>(o(),i("option",{key:a.id,value:a.id,class:"bg-white text-blue-500 dark:text-blue-400 bg-white dark:bg-gray-700"},[t[5]||(t[5]=b(" ðŸ”´ ")),r("span",N,n(a.name)+" - Semester",1)],8,M))),128))],512),[[h,s(e).new_semester_id]]),r("div",U,[r("div",null,[t[6]||(t[6]=r("label",{class:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-200"},"Start Date",-1)),m(r("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>s(e).new_semester_start_date=a),type:"date",class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"},null,512),[[p,s(e).new_semester_start_date]]),s(e).errors.new_semester_start_date?(o(),i("div",F,n(s(e).errors.new_semester_start_date),1)):g("",!0)]),r("div",null,[t[7]||(t[7]=r("label",{class:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-200"},"End Date",-1)),m(r("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(e).new_semester_end_date=a),type:"date",class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"},null,512),[[p,s(e).new_semester_end_date]]),s(e).errors.new_semester_end_date?(o(),i("div",O,n(s(e).errors.new_semester_end_date),1)):g("",!0)])])]),r("div",null,[r("label",j,[m(r("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=a=>s(e).approval=a),class:"mr-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},null,512),[[S,s(e).approval]]),t[9]||(t[9]=b(" I confirm to close the current semester and activate a new one. "))]),s(e).errors.approval?(o(),i("div",E,n(s(e).errors.approval),1)):g("",!0)]),r("button",{type:"submit",class:"bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 text-white px-6 py-2 rounded",disabled:s(e).processing}," Close Semester ",8,L)],32)])]),_:1}))}};export{Y as default};
