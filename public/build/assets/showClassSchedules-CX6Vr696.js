import{r as h,d as x,x as U,q as N,c as m,o as n,a,h as l,F as w,f as S,u as r,e as B,k as V,g as O,t as d,w as g,n as D,T as C,i as j}from"./app-C4B5X69o.js";import{s as q}from"./index-CzyWvRKP.js";import{s as T}from"./index-V4EoJFF0.js";import{_ as F}from"./TextInput-CqsZSh6C.js";import{P as M}from"./PrimaryButton-BpamNpZi.js";/* empty css                        */import{S as A}from"./sweetalert2.esm.all-89IKscqO.js";import{r as E}from"./XMarkIcon-BLDHlGI_.js";import{r as R}from"./PlusCircleIcon-Wba4m-WC.js";import{s as p}from"./index-BvWdUlLm.js";import"./index-DTe5geVU.js";import"./index-yX1cN_xM.js";import"./index-DjdmJEw0.js";import"./index-DgP5jXv0.js";import"./index-Vir6VIQ2.js";import"./index-BDdMi3oC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BSz3Z7pS.js";var L={name:"Dropdown",extends:T,mounted:function(){console.warn("Deprecated since v4. Use Select component instead.")}};const P={class:"grid grid-cols-2 gap-4"},W={class:"col-span-2"},z={class:"hidden sm:flex flex-wrap gap-2"},G={class:"sm:hidden"},H={class:"col-span-2 flex justify-end mt-4"},I={class:"text-xl font-semibold text-gray-800 dark:text-white mb-4"},J={class:"w-full min-w-[800px] table-fixed border border-gray-300 dark:border-gray-600"},K={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},Q={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},X={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},Y={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300"},Z={key:1},ee={colspan:"4",class:"text-center text-sm text-gray-500 py-4 dark:text-gray-300 font-medium"},te={key:0,class:"border-b border-gray-300 bg-gray-50 dark:bg-gray-700 dark:border-gray-600"},ae={class:"px-4 py-2"},re={class:"px-4 py-2"},se={class:"flex gap-3 items-center"},oe={class:"px-4 py-2"},le={class:"flex gap-3 items-center"},de={class:"flex justify-between px-4 py-2"},De={__name:"showClassSchedules",props:{section:{required:!0,type:Object},activeCourses:{type:Array,required:!0},activeSemester:{type:Object,requried:!0}},setup(y){const u=y,o=h("Monday"),f=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],v=x(()=>u.section.classSchedules.filter(i=>i.dayOfWeek==o.value)),b=x(()=>new Date(u.activeSemester.start_date)),_=x(()=>new Date(u.activeSemester.end_date)),c=h(!1),s=U({section_id:u.section.id,semester_id:u.activeSemester.id,day_of_week:o.value,course_id:"",start_date:"",end_date:"",start_time:"",end_time:"",room:""});N(()=>s.start_time,i=>{if(i instanceof Date){const t=new Date(i);t.setMinutes(i.getMinutes()+20),s.end_time=t}});const $=()=>{s.day_of_week=o.value,s.post(route("classSchedules.store"),{onSuccess:()=>{A.fire("Added!","Schedule added successfully.","success"),c.value=!1,s.reset()}})};return(i,t)=>(n(),m("div",P,[a("div",W,[a("div",z,[(n(),m(w,null,S(f,e=>l(r(q),{key:e,label:e,outlined:o.value!==e,severity:o.value===e?"primary":null,onClick:k=>o.value=e,class:D([o.value===e?"bg-blue-600 text-white hover:bg-blue-700":"bg-white text-gray-800 border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 hover:dark:bg-gray-700","transition font-medium px-4 py-2 rounded-lg text-sm"])},null,8,["label","outlined","severity","onClick","class"])),64))]),a("div",G,[l(r(L),{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),options:f,placeholder:"Select a day",class:"w-full"},null,8,["modelValue"])])]),a("div",H,[a("button",{class:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg text-sm transition flex items-center gap-2",onClick:t[1]||(t[1]=e=>c.value=!c.value)},[(n(),B(O(c.value?r(E):r(R)),{class:"w-5 h-5"})),t[8]||(t[8]=V(" Add New Schedule "))])]),a("h2",I,d(o.value?`${o.value} Class Schedule`:"Class Schedule"),1),l(C,{mode:"out-in","enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-75","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-75"},{default:g(()=>[(n(),m("div",{key:o.value,class:"overflow-x-auto w-full col-span-2"},[a("table",J,[t[11]||(t[11]=a("thead",null,[a("tr",{class:"bg-gray-50 dark:bg-gray-700"},[a("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r w-1/4"}," Course Name "),a("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r w-1/4"}," Time "),a("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r w-1/4"}," Date Range "),a("th",{class:"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-1/4"}," Room ")])],-1)),a("tbody",null,[v.value.length>0?(n(!0),m(w,{key:0},S(v.value,(e,k)=>(n(),m("tr",{key:e.id,class:D([k%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700","border-b border-gray-300 dark:border-gray-600"])},[a("td",K,d(e.course.name),1),a("td",Q,d(e.startTime)+" - "+d(e.endTime),1),a("td",X,d(e.startDate)+" - "+d(e.endDate),1),a("td",Y,d(e.room??"TBD"),1)],2))),128)):(n(),m("tr",Z,[a("td",ee," No schedules set for "+d(o.value)+". ",1)])),l(C,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"-translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-2 opacity-0"},{default:g(()=>[c.value?(n(),m("tr",te,[a("td",ae,[l(r(T),{id:"course",modelValue:r(s).course_id,"onUpdate:modelValue":t[2]||(t[2]=e=>r(s).course_id=e),options:y.activeCourses,"option-value":"id","option-label":"name",checkmark:"",filter:"",placeholder:"Select Course",maxSelectevdLabels:3,class:"w-full"},null,8,["modelValue","options"])]),a("td",re,[a("div",se,[l(r(p),{id:"datepicker-timeonly",modelValue:r(s).start_time,"onUpdate:modelValue":t[3]||(t[3]=e=>r(s).start_time=e),timeOnly:"",placeholder:"Start Date","hour-format":"12",fluid:""},null,8,["modelValue"]),t[9]||(t[9]=a("p",null,"-",-1)),l(r(p),{id:"datepicker-timeonly",modelValue:r(s).end_time,"onUpdate:modelValue":t[4]||(t[4]=e=>r(s).end_time=e),placeholder:"End Date",timeOnly:"","hour-format":"12",fluid:""},null,8,["modelValue"])])]),a("td",oe,[a("div",le,[l(r(p),{id:"datepicker","min-date":b.value,"max-date":_.value,modelValue:r(s).start_date,"onUpdate:modelValue":t[5]||(t[5]=e=>r(s).start_date=e),placeholder:"Start Date","hour-format":"12"},null,8,["min-date","max-date","modelValue"]),t[10]||(t[10]=a("p",null,"-",-1)),l(r(p),{id:"datepicker","min-date":b.value,"max-date":_.value,modelValue:r(s).end_date,"onUpdate:modelValue":t[6]||(t[6]=e=>r(s).end_date=e),placeholder:"End Date","hour-format":"12"},null,8,["min-date","max-date","modelValue"])])]),a("td",de,[l(F,{modelValue:r(s).room,"onUpdate:modelValue":t[7]||(t[7]=e=>r(s).room=e),placeholder:"Room",class:"max-w-[70%] px-2 py-1 h-9 border rounded-md dark:bg-gray-800 dark:text-gray-100"},null,8,["modelValue"]),l(M,{class:"px-4 py-1 text-white bg-green-500 rounded-md h-9 hover:bg-green-600",onClick:$},{default:g(()=>[V(d(i.$t("common.save")),1)]),_:1})])])):j("",!0)]),_:1})])])]))]),_:1})]))}};export{De as default};
