import{x as b,c as n,o as c,a as e,l as h,u as o,i as k,t as s,F as w,f as _,n as v,h as x,w as y,k as N,S as f}from"./app-BryW9RFD.js";import{r as S}from"./EyeIcon-D3K3RUZp.js";const C={class:"overflow-x-auto"},F={class:"mt-8 border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4"},j={class:"flex flex-col md:flex-row md:items-center mb-4 md:space-x-12 space-y-4 md:space-y-0"},q=["href"],E={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 flex flex-col md:flex-row items-stretch md:items-center space-y-3 md:space-y-0 md:space-x-4 border border-gray-200 dark:border-gray-700 w-full md:w-auto"},I=["value"],V={class:"flex-1"},B={key:0,class:"text-sm text-red-500 mt-1"},D={class:"overflow-x-auto"},O={class:"min-w-full table-auto border border-gray-300 dark:border-gray-600"},T={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},z={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},L={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},M={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 border-r"},P={class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 text-center"},G={__name:"ShowStudents",props:{section:{type:Object,required:!0},courses:{type:Object,required:!1},instructors:{type:Object,required:!1}},setup(p){const l=p,a=b({section_id:l.section.id,file:null});function u(d){a.file=d.target.files[0]}function g(){a.post(route("sectionStudents.import"),{forceFormData:!0,onSuccess:()=>{alert("Import successful!"),a.reset("file")},onError:()=>{alert("Import failed. Please check your file and try again.")}})}return(d,r)=>(c(),n("div",C,[e("div",F,[r[3]||(r[3]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"}," Students ")],-1)),e("div",j,[e("a",{href:d.route("sectionStudents.export",l.section.id),class:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded block text-center"}," Export Students ",8,q),e("div",E,[e("form",{onSubmit:h(g,["prevent"]),enctype:"multipart/form-data",class:"flex flex-col space-y-3 md:space-y-0 md:flex-row md:items-center md:space-x-4 w-full"},[e("input",{type:"hidden",name:"section_id",value:o(a).section_id},null,8,I),e("div",V,[r[0]||(r[0]=e("label",{for:"file",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Choose Excel File",-1)),e("input",{id:"file",type:"file",name:"file",onChange:u,required:"",class:"mt-1 w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 dark:bg-gray-800 dark:text-white",accept:".xlsx,.xls,.csv"},null,32),o(a).errors.file?(c(),n("p",B,s(o(a).errors.file),1)):k("",!0)]),r[1]||(r[1]=e("button",{type:"submit",class:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded whitespace-nowrap"}," Import Students ",-1))],32)])]),e("div",D,[e("table",O,[r[2]||(r[2]=e("thead",null,[e("tr",{class:"bg-gray-50 dark:bg-gray-700"},[e("th",{class:"w-10 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"No."),e("th",{class:"w-80 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"Name"),e("th",{class:"w-40 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"ID Number"),e("th",{class:"w-60 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200 border-r"},"Track"),e("th",{class:"w-40 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200"},"Status")])],-1)),e("tbody",null,[(c(!0),n(w,null,_([...l.section.students].sort((t,i)=>t.firstName.localeCompare(i.firstName)),(t,i)=>{var m;return c(),n("tr",{key:t.id,class:v([i%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700","border-b border-gray-300 dark:border-gray-600"])},[e("td",T,s(i+1),1),e("td",z,[x(o(f),{href:d.route("students.show",{student:t.id})},{default:y(()=>[N(s(t.firstName)+" "+s(t.middleName)+" "+s(t.lastName),1)]),_:2},1032,["href"])]),e("td",L,s(t.idNo),1),e("td",M,s((m=l.section.track)==null?void 0:m.name),1),e("td",P,[x(o(f),{href:d.route("students.show",{student:t.id}),class:"text-blue-500 hover:text-blue-700"},{default:y(()=>[x(o(S),{class:"w-5 h-5 inline"})]),_:2},1032,["href"])])],2)}),128))])])])])]))}};export{G as default};
