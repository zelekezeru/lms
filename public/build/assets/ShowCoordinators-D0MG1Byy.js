import{r as A,x as L,z as g,c as d,o as l,a as t,h as u,i as m,m as f,A as j,t as i,e as E,w as p,k as x,u as s,l as V,y as v,s as $}from"./app-Cxp2EI4b.js";import{S as y}from"./sweetalert2.esm.all-89IKscqO.js";import{_ as D}from"./Modal-DGDMO0Qa.js";import{r as b}from"./PlusCircleIcon-Dq3zQLA2.js";const F={class:"p-8 max-w-2xl mx-auto"},M={class:"max-w-5xl mx-auto p-6"},B={key:0},T={class:"flex justify-center mb-6"},U={key:0,class:"rounded-full w-40 h-40 bg-gray-300 dark:bg-gray-600 animate-pulse"},O=["src","alt"],z={class:"grid sm:grid-cols-2 gap-4"},R={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},_={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},q={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},G={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},H={key:0},J={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},K={class:"flex justify-end mt-6 space-x-4"},Q={key:1,class:"flex flex-col items-center justify-center p-10 bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700"},W={class:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2"},X={class:"p-6 space-y-4"},Y={key:0,class:"text-red-500 text-sm"},Z={key:0,class:"text-red-500 text-sm"},ee={class:"flex items-center gap-4"},te={for:"profile_img",class:"cursor-pointer px-4 py-2 text-white flex items-center gap-2 rounded-md shadow transition bg-black hover:bg-blue-700"},oe={key:0,class:"w-16 h-16 rounded-full border shadow overflow-hidden"},se=["src"],re={key:0,class:"text-red-500 text-sm"},ne={class:"flex justify-end space-x-3"},ae=["disabled"],me={__name:"ShowCoordinators",props:{center:Object,coordinator:Object},setup(a){const k=a,c=A(!1),o=L({name:"",phone:"",status:"Active",profile_img:"",center_id:k.center.id}),w=()=>{o.post(route("coordinators.store"),{onSuccess:()=>{y.fire("Success!","Coordinator created successfully.","success"),c.value=!1,o.reset()},onError:()=>{y.fire("Error","Please check the form for errors.","error")}})};return(r,e)=>{const h=g("PencilIcon"),C=g("Link"),I=g("TrashIcon"),P=g("InputLabel"),S=g("PhotoIcon"),N=g("InputError");return l(),d("div",F,[e[25]||(e[25]=t("h1",{class:"text-2xl font-bold mb-4 text-center"},"Coordinator Management",-1)),t("div",M,[a.coordinator?(l(),d("div",B,[t("div",T,[r.imageLoaded?m("",!0):(l(),d("div",U)),f(t("img",{class:"rounded-full w-40 h-40 object-contain",src:r.profileImage,alt:"Photo of "+(a.coordinator.firstName||"Coordinator"),onLoad:e[0]||(e[0]=(...n)=>r.handleImageLoad&&r.handleImageLoad(...n))},null,40,O),[[j,r.imageLoaded]])]),t("div",z,[t("div",null,[e[9]||(e[9]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"ID",-1)),t("div",R,i(a.coordinator.user_uuid||"N/A"),1)]),t("div",null,[e[10]||(e[10]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Full Name",-1)),t("div",_,i(a.coordinator.name),1)]),t("div",null,[e[11]||(e[11]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Email",-1)),t("div",q,i(a.coordinator.email||"N/A"),1)]),t("div",null,[e[12]||(e[12]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Phone",-1)),t("div",G,i(a.coordinator.phone??"N/A"),1)]),e[14]||(e[14]=t("div",null,[t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Role"),t("div",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Coordinator ")],-1)),r.userCan("view-password")&&a.coordinator.default_password?(l(),d("div",H,[e[13]||(e[13]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Default Password",-1)),t("div",J,i(a.coordinator.default_password),1)])):m("",!0)]),t("div",K,[r.userCan("update-coordinators")?(l(),E(C,{key:0,href:r.route("coordinators.edit",{coordinator:a.coordinator.id}),class:"text-blue-600 hover:text-blue-800"},{default:p(()=>[u(h,{class:"w-5 h-5 inline-block mr-1"}),e[15]||(e[15]=x(" Edit "))]),_:1},8,["href"])):m("",!0),r.userCan("delete-coordinators")?(l(),d("button",{key:1,onClick:e[1]||(e[1]=n=>r.deleteCoordinator(a.coordinator.id)),class:"text-red-600 hover:text-red-800"},[u(I,{class:"w-5 h-5 inline-block mr-1"}),e[16]||(e[16]=x(" Delete "))])):m("",!0)])])):(l(),d("div",Q,[u(s(b),{class:"w-16 h-16 text-green-400 mb-4 animate-bounce"}),t("div",W,i(r.$t("coordinators.no_coordinators_found")),1),e[18]||(e[18]=t("div",{class:"text-gray-500 dark:text-gray-400 mb-6"}," Add coordinator to this center. ",-1)),t("button",{onClick:e[2]||(e[2]=n=>c.value=!0),class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-full shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-400"},[u(s(b),{class:"w-6 h-6 mr-2"}),e[17]||(e[17]=x(" Add Coordinator "))])])),u(D,{show:c.value,onClose:e[8]||(e[8]=n=>c.value=!1)},{default:p(()=>[t("div",X,[e[24]||(e[24]=t("h2",{class:"text-lg font-bold"},"New Coordinator",-1)),t("form",{onSubmit:V(w,["prevent"]),class:"space-y-4"},[t("div",null,[e[19]||(e[19]=t("label",{class:"block mb-1 font-semibold"},"Name",-1)),f(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>s(o).name=n),type:"text",class:"w-full border px-3 py-2 rounded",placeholder:"Full name"},null,512),[[v,s(o).name]]),s(o).errors.name?(l(),d("div",Y,i(s(o).errors.name),1)):m("",!0)]),t("div",null,[e[20]||(e[20]=t("label",{class:"block mb-1 font-semibold"},"Phone",-1)),f(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>s(o).phone=n),type:"text",class:"w-full border px-3 py-2 rounded",placeholder:"Phone number"},null,512),[[v,s(o).phone]]),s(o).errors.phone?(l(),d("div",Z,i(s(o).errors.phone),1)):m("",!0)]),t("div",null,[u(P,{for:"profile_img",value:"Profile Image"}),t("div",ee,[t("label",te,[u(S,{class:"w-5 h-5"}),e[21]||(e[21]=x(" Upload Image "))]),t("input",{id:"profile_img",type:"file",accept:"image/*",class:"hidden",onChange:e[5]||(e[5]=(...n)=>r.handleFileChange&&r.handleFileChange(...n))},null,32),s(o).imagePreview?(l(),d("div",oe,[t("img",{src:s(o).imagePreview,alt:"Profile Preview",class:"object-cover w-full h-full"},null,8,se)])):m("",!0)]),u(N,{message:s(o).errors.profile_img},null,8,["message"])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block mb-1 font-semibold"},"Status",-1)),f(t("select",{"onUpdate:modelValue":e[6]||(e[6]=n=>s(o).status=n),class:"w-full border px-3 py-2 rounded"},e[22]||(e[22]=[t("option",{value:"Active"},"Active",-1),t("option",{value:"Inactive"},"Inactive",-1)]),512),[[$,s(o).status]]),s(o).errors.status?(l(),d("div",re,i(s(o).errors.status),1)):m("",!0)]),t("div",ne,[t("button",{type:"button",onClick:e[7]||(e[7]=n=>c.value=!1),class:"px-4 py-2 bg-gray-400 text-white rounded"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded",disabled:s(o).processing},i(s(o).processing?"Saving...":"Save"),9,ae)])],32)])]),_:1},8,["show"])])])}}};export{me as default};
