import{r as S,x as W,c as n,o as d,a as t,h,g as r,i as b,u as a,w as i,F as x,e as f,d as q,t as u,k as H,l as m,z as c,A as _,W as z,n as X,S as ee}from"./app-3QRw55sI.js";import{S as P}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{_ as Y}from"./Modal-7AJwsbRn.js";import{_ as g}from"./InputError-9WfXaUKx.js";import{a as te,T as se}from"./TableHeader-xvgDOSGU.js";import{T as ae}from"./TableZebraRows-B06Ode2i.js";import{_ as k}from"./Thead-BeEjbS_m.js";import{r as oe}from"./PlusCircleIcon-BkwpEFrR.js";import{r as re}from"./PencilSquareIcon-DtKAHmdG.js";import{r as le}from"./TrashIcon-DpV_qBLb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const de={class:"flex items-center justify-between mb-4"},ne={class:"overflow-x-auto mt-8 border-t border-b border-gray-300 dark:border-gray-600 pt-4 pb-4"},ue={key:0,class:"text-center text-gray-500 dark:text-gray-400"},ie={key:1},ye={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},me={class:"px-6 py-4"},ge={class:"px-6 py-4"},pe={class:"px-6 py-4"},be={class:"px-6 py-4"},xe={class:"px-6 py-4"},fe={class:"px-6 py-4"},ke={class:"px-6 py-4 flex justify-start space-x-4"},ve=["onClick"],ce=["onClick"],_e={key:0,class:"mt-3 flex justify-center space-x-6"},we={class:"w-full px-8 py-6"},Te={class:"mb-4"},Ce={class:"mb-4"},Se=["value"],Me={class:"mb-4"},he=["value"],Pe={class:"mb-4"},Ae=["value"],Ve={class:"mb-4"},Ue={class:"mb-4"},Ne={class:"flex justify-end mt-4"},De=["disabled"],Be={class:"w-full px-8 py-6"},Ee={class:"mb-4"},$e={class:"mb-4"},Fe=["value"],Le={class:"mb-4"},je=["value"],Ie={class:"mb-4"},Oe=["value"],We={class:"mb-4"},qe={class:"mb-4"},He={class:"flex justify-end mt-4"},ze=["disabled"],ot={__name:"ShowTypes",props:{paymentTypes:{type:Array,required:!0},paymentCategories:{type:Array,required:!0},studyModes:{type:Array,required:!0}},setup(p){var N,D,B,E,$,F;const v=p,A=S(!1),w=S(!1),T=S(!1),M=S(null),l=W({payment_category_id:"",study_mode_id:"",language:"",duration:"",amount:"",type:""}),o=W({payment_category_id:((N=v.paymentTypes)==null?void 0:N.payment_category_id)||"",study_mode_id:((D=v.paymentTypes)==null?void 0:D.study_mode_id)||"",language:((B=v.paymentTypes)==null?void 0:B.language)||"",duration:((E=v.paymentTypes)==null?void 0:E.duration)||"",amount:(($=v.paymentTypes)==null?void 0:$.amount)||"",type:((F=v.paymentTypes)==null?void 0:F.type)||""}),C=()=>{A.value=!0,z.get(window.location.href,{preserveState:!0,preserveScroll:!0,onFinish:()=>A.value=!1})},R=y=>{P.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&z.delete(route("paymentTypes.destroy",{paymentType:y}),{onSuccess:()=>{P.fire("Deleted!","The type has been deleted.","success"),C()},onError:()=>{P.fire("Error!","Failed to delete the type.","error"),C()}})})},Z=()=>{l.post(route("paymentTypes.store"),{onSuccess:()=>{l.reset(),w.value=!1,C()}})},G=y=>{M.value=y.id,o.payment_category_id=y.payment_category_id,o.study_mode_id=y.study_mode_id,o.language=y.language,o.type=y.type,o.amount=y.amount,o.duration=y.duration,T.value=!0},J=()=>{M.value&&o.put(route("paymentTypes.update",{paymentType:M.value}),{onSuccess:()=>{T.value=!1,o.reset(),C()}})},V=()=>{w.value=!1,l.reset()},U=()=>{T.value=!1,o.reset()};return(y,e)=>{var L,j,I;return d(),n("div",null,[t("div",de,[e[14]||(e[14]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"}," Payment Types ",-1)),t("button",{onClick:e[0]||(e[0]=s=>w.value=!0),class:"flex text-green-600 hover:text-green-800"},[r(a(oe),{class:"mx-2 w-8 h-8"}),e[13]||(e[13]=b(" Create Payment Type "))])]),t("div",ne,[(L=p.paymentTypes)!=null&&L.length?(d(),n("div",ie,[r(se,null,{default:i(()=>[r(te,null,{default:i(()=>[t("tr",null,[r(k,null,{default:i(()=>e[15]||(e[15]=[b("No.")])),_:1}),r(k,null,{default:i(()=>e[16]||(e[16]=[b("Type")])),_:1}),r(k,null,{default:i(()=>e[17]||(e[17]=[b("Study Mode")])),_:1}),r(k,null,{default:i(()=>e[18]||(e[18]=[b("Language")])),_:1}),r(k,null,{default:i(()=>e[19]||(e[19]=[b("Duration")])),_:1}),r(k,null,{default:i(()=>e[20]||(e[20]=[b("Amount")])),_:1}),r(k,null,{default:i(()=>e[21]||(e[21]=[b("Status")])),_:1}),r(k,null,{default:i(()=>e[22]||(e[22]=[b("Actions")])),_:1})])]),_:1}),t("tbody",null,[(d(!0),n(x,null,f(p.paymentTypes||[],(s,K)=>(d(),q(ae,{key:s.id},{default:i(()=>{var O;return[t("th",ye,u(K+1),1),t("td",me,u(s.type),1),t("td",ge,u(((O=s.studyMode)==null?void 0:O.name)||"N/A"),1),t("td",pe,u(s.language||"N/A"),1),t("td",be,u(s.duration||"N/A"),1),t("td",xe,u(s.amount||"N/A"),1),t("td",fe,u(s.is_active=="1"?"Active":"Inactive"),1),t("td",ke,[y.userCan("update-paymentTypes")?(d(),n("button",{key:0,onClick:Q=>G(s),class:"text-green-500 hover:text-green-700"},[r(a(re),{class:"w-5 h-5"})],8,ve)):h("",!0),y.userCan("delete-paymentTypes")?(d(),n("button",{key:1,onClick:Q=>R(s.id),class:"text-red-500 hover:text-red-700"},[r(a(le),{class:"w-5 h-5"})],8,ce)):h("",!0)])]}),_:2},1024))),128))])]),_:1})])):(d(),n("div",ue," No payment type information available. "))]),(I=(j=p.paymentTypes)==null?void 0:j.meta)!=null&&I.links?(d(),n("div",_e,[(d(!0),n(x,null,f(p.paymentTypes.meta.links,s=>(d(),q(a(ee),{key:s.label,href:s.url||"#",class:X(["p-2 px-4 text-sm font-medium rounded-lg transition-colors",{"text-gray-700 dark:text-gray-400":!0,"cursor-not-allowed opacity-50":!s.url,"!bg-gray-100 !dark:bg-gray-800":s.active}]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])):h("",!0),r(Y,{show:w.value,onClose:V,maxWidth:"md",class:"p-6"},{default:i(()=>[t("div",we,[e[32]||(e[32]=t("h1",{class:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100"}," Create New Payment Item ",-1)),t("form",{onSubmit:H(Z,["prevent"])},[t("div",null,[t("div",Te,[e[23]||(e[23]=t("label",{for:"type",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Type ",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a(l).type=s),id:"type",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[c,a(l).type]]),r(g,{message:a(l).errors.type,class:"mt-2"},null,8,["message"])]),t("div",Ce,[e[25]||(e[25]=t("label",{for:"payment_category_id",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Payment Category ",-1)),m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a(l).payment_category_id=s),id:"payment_category_id",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[24]||(e[24]=t("option",{disabled:"",value:""}," Select Category ",-1)),(d(!0),n(x,null,f(p.paymentCategories,s=>(d(),n("option",{key:s.id,value:s.id},u(s.name),9,Se))),128))],512),[[_,a(l).payment_category_id]]),r(g,{message:a(l).errors.payment_category_id,class:"mt-2"},null,8,["message"])]),t("div",Me,[e[27]||(e[27]=t("label",{for:"study_mode_id",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Study Mode ",-1)),m(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a(l).study_mode_id=s),id:"study_mode_id",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[26]||(e[26]=t("option",{disabled:"",value:""}," Select Study Mode ",-1)),(d(!0),n(x,null,f(p.studyModes,s=>(d(),n("option",{key:s.id,value:s.id},u(s.name),9,he))),128))],512),[[_,a(l).study_mode_id]]),r(g,{message:a(l).errors.study_mode_id,class:"mt-2"},null,8,["message"])]),t("div",Pe,[e[29]||(e[29]=t("label",{for:"duration",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Payment Duration ",-1)),m(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>a(l).duration=s),id:"duration",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[28]||(e[28]=t("option",{disabled:"",value:""}," Select Pay Duration ",-1)),(d(),n(x,null,f(["One-Time","Per-Semester","Per-Course","Monthly","Anually","Other"],s=>t("option",{key:s,value:s},u(s),9,Ae)),64))],512),[[_,a(l).duration]]),r(g,{message:a(l).errors.duration,class:"mt-2"},null,8,["message"])]),t("div",Ve,[e[30]||(e[30]=t("label",{for:"language",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Language ",-1)),m(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>a(l).language=s),id:"language",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[c,a(l).language]]),r(g,{message:a(l).errors.language,class:"mt-2"},null,8,["message"])]),t("div",Ue,[e[31]||(e[31]=t("label",{for:"amount",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Amount ",-1)),m(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>a(l).amount=s),id:"amount",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[c,a(l).amount]]),r(g,{message:a(l).errors.amount,class:"mt-2"},null,8,["message"])])]),t("div",Ne,[t("button",{type:"submit",disabled:a(l).processing,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-4"},u(a(l).processing?"Creating...":"Create Payment Item"),9,De),t("button",{type:"button",onClick:V,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])],32)])]),_:1},8,["show"]),r(Y,{show:T.value,onClose:U,maxWidth:"md",class:"p-6"},{default:i(()=>[t("div",Be,[e[42]||(e[42]=t("h1",{class:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100"}," Edit Payment Type ",-1)),t("form",{onSubmit:H(J,["prevent"])},[t("div",null,[t("div",Ee,[e[33]||(e[33]=t("label",{for:"type",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Type ",-1)),m(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>a(o).type=s),id:"type",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[c,a(o).type]]),r(g,{message:a(o).errors.type,class:"mt-2"},null,8,["message"])]),t("div",$e,[e[35]||(e[35]=t("label",{for:"payment_category_id",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Payment Category ",-1)),m(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>a(o).payment_category_id=s),id:"payment_category_id",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[34]||(e[34]=t("option",{disabled:"",value:""}," Select Category ",-1)),(d(!0),n(x,null,f(p.paymentCategories,s=>(d(),n("option",{key:s.id,value:s.id},u(s.name),9,Fe))),128))],512),[[_,a(o).payment_category_id]]),r(g,{message:a(o).errors.payment_category_id,class:"mt-2"},null,8,["message"])]),t("div",Le,[e[37]||(e[37]=t("label",{for:"study_mode_id",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Study Mode ",-1)),m(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>a(o).study_mode_id=s),id:"study_mode_id",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[36]||(e[36]=t("option",{disabled:"",value:""}," Select Study Mode ",-1)),(d(!0),n(x,null,f(p.studyModes,s=>(d(),n("option",{key:s.id,value:s.id},u(s.name),9,je))),128))],512),[[_,a(o).study_mode_id]]),r(g,{message:a(o).errors.study_mode_id,class:"mt-2"},null,8,["message"])]),t("div",Ie,[e[39]||(e[39]=t("label",{for:"duration",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Payment Duration ",-1)),m(t("select",{"onUpdate:modelValue":e[10]||(e[10]=s=>a(o).duration=s),id:"duration",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},[e[38]||(e[38]=t("option",{disabled:"",value:""}," Select Pay Duration ",-1)),(d(),n(x,null,f(["One-Time","Per-Semester","Per-Course","Monthly","Anually","Other"],s=>t("option",{key:s,value:s},u(s),9,Oe)),64))],512),[[_,a(o).duration]]),r(g,{message:a(o).errors.duration,class:"mt-2"},null,8,["message"])]),t("div",We,[e[40]||(e[40]=t("label",{for:"language",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Language ",-1)),m(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>a(o).language=s),id:"language",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[c,a(o).language]]),r(g,{message:a(o).errors.language,class:"mt-2"},null,8,["message"])]),t("div",qe,[e[41]||(e[41]=t("label",{for:"amount",class:"block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300"}," Amount ",-1)),m(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>a(o).amount=s),id:"amount",type:"text",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none"},null,512),[[c,a(o).amount]]),r(g,{message:a(o).errors.amount,class:"mt-2"},null,8,["message"])])]),t("div",He,[t("button",{type:"submit",disabled:a(o).processing,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-4"},u(a(o).processing?"Updating...":"Update Payment Type"),9,ze),t("button",{type:"button",onClick:U,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])],32)])]),_:1},8,["show"])])}}};export{ot as default};
