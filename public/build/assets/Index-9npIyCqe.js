import{r as b,b as L,d as f,o as l,w as o,a as t,c as u,t as i,l as I,z as M,h as _,u as a,S as c,i as n,g as r,n as S,f as j,F as y,e as w,W as v}from"./app-ls423X1b.js";import{_ as A}from"./AppLayout-C6TO7MTA.js";import{S as C}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{T as N,a as V}from"./TableHeader--D2Z--XQ.js";import{T as z}from"./TableZebraRows-DSVIB3al.js";import{_ as p}from"./Thead-BtI0TpV9.js";import{r as E}from"./ArrowPathIcon-BZcP_f-e.js";import{r as F,a as H}from"./TableCellsIcon-0OaKVURV.js";import{r as O}from"./EyeIcon-wI7h5TnV.js";import{r as R}from"./TrashIcon-CWW5VU8x.js";import{r as W}from"./AcademicCapIcon-wdfNX2wS.js";import{r as D}from"./CalendarIcon-86IvvYh7.js";import"./ChevronDownIcon-CK4h5PLV.js";import"./CogIcon-CKsqNLQz.js";import"./ClockIcon-B6GLBRxZ.js";import"./PlusIcon-DHY-Lvcx.js";import"./LanguageToggle-DydZK2dd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"my-6 text-center"},U={class:"text-2xl font-bold text-gray-900 dark:text-white"},Z={class:"flex flex-col justify-between gap-4 mb-4 md:flex-row"},q={class:"relative w-full max-w-xs"},G={class:"flex gap-2"},J={key:0,class:"overflow-x-auto shadow sm:rounded-lg"},K={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white"},P={class:"px-6 py-4"},Q={class:"px-6 py-4"},X={class:"px-6 py-4"},ee={class:"flex space-x-2"},te=["onClick"],se={key:1,class:"grid grid-cols-1 gap-4 mt-6 sm:grid-cols-2 md:grid-cols-3"},re={class:"flex items-center mb-2 font-bold text-gray-900 dark:text-white"},oe={class:"flex items-center text-gray-700 dark:text-gray-300"},ae={class:"flex items-center text-gray-700 dark:text-gray-300"},le={class:"flex justify-center mt-6 space-x-2"},Te={__name:"Index",props:{semesters:Object,sortInfo:Object},setup(m){const x=b(L().props.search||""),h=b(!1),g=b("card"),T=()=>{v.get(route("semesters.index"),{...route().params,search:x.value},{preserveState:!0})},$=()=>{h.value=!0,v.visit(route("semesters.index"),{data:{search:x.value},only:["semesters"],preserveState:!0,onFinish:()=>h.value=!1})},B=d=>{C.fire({title:"Are you sure?",text:"This will permanently delete the semester.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&v.delete(route("semesters.destroy",{semester:d}),{onSuccess:()=>{C.fire("Deleted!","Semester deleted.","success")}})})};return(d,e)=>(l(),f(A,null,{default:o(()=>[t("div",Y,[t("h1",U,i(d.$t("semester.title")),1)]),t("div",Z,[t("div",q,[e[2]||(e[2]=t("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[t("svg",{class:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35M9 17A8 8 0 109 1a8 8 0 000 16z"})])],-1)),I(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>x.value=s),onInput:T,type:"text",class:"w-full p-2 pl-10 text-gray-900 border rounded-lg dark:text-white dark:bg-gray-700",placeholder:"Search semester..."},null,544),[[M,x.value]])]),t("div",G,[d.userCan("create-semesters")?(l(),f(a(c),{key:0,href:d.route("semesters.create"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold text-white uppercase bg-green-600 rounded-md hover:bg-green-700"},{default:o(()=>e[3]||(e[3]=[n(" + Add Semester ")])),_:1},8,["href"])):_("",!0),t("button",{onClick:$,class:"inline-flex items-center px-4 py-2 text-xs font-semibold text-white uppercase bg-blue-800 rounded-md hover:bg-blue-700"},[r(a(E),{class:S([{"animate-spin":h.value},"w-5 h-5 mr-2"])},null,8,["class"]),e[4]||(e[4]=n(" Refresh "))]),t("button",{onClick:e[1]||(e[1]=s=>g.value=g.value==="table"?"card":"table"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold text-white uppercase bg-gray-600 rounded-md hover:bg-gray-700"},[(l(),f(j(g.value==="table"?a(F):a(H)),{class:"w-5 h-5"}))])])]),g.value==="table"?(l(),u("div",J,[r(N,null,{default:o(()=>[r(V,null,{default:o(()=>[t("tr",null,[r(p,{sortable:"","sort-info":m.sortInfo,sortColumn:"name"},{default:o(()=>e[5]||(e[5]=[n("Semester")])),_:1},8,["sort-info"]),r(p,null,{default:o(()=>e[6]||(e[6]=[n("Year")])),_:1}),r(p,{sortable:"","sort-info":m.sortInfo,sortColumn:"start_date"},{default:o(()=>e[7]||(e[7]=[n("Start Date")])),_:1},8,["sort-info"]),r(p,{sortable:"","sort-info":m.sortInfo,sortColumn:"end_date"},{default:o(()=>e[8]||(e[8]=[n("End Date")])),_:1},8,["sort-info"]),r(p,null,{default:o(()=>e[9]||(e[9]=[n("Actions")])),_:1})])]),_:1}),t("tbody",null,[(l(!0),u(y,null,w(m.semesters.data,s=>(l(),f(z,{key:s.id},{default:o(()=>{var k;return[t("th",K,[r(a(c),{href:d.route("semesters.show",{semester:s.id}),class:"hover:underline"},{default:o(()=>[n(i(s.name),1)]),_:2},1032,["href"])]),t("td",P,i(((k=s.year)==null?void 0:k.name)??"N/A"),1),t("td",Q,i(new Date(s.start_date).toLocaleDateString()),1),t("td",X,i(new Date(s.end_date).toLocaleDateString()),1),t("td",ee,[r(a(c),{href:d.route("semesters.show",{semester:s.id}),class:"text-blue-500 hover:text-blue-700"},{default:o(()=>[r(a(O),{class:"w-5 h-5"})]),_:2},1032,["href"]),d.userCan("delete-semesters")?(l(),u("button",{key:0,onClick:ne=>B(s.id),class:"text-red-500 hover:text-red-700"},[r(a(R),{class:"w-5 h-5"})],8,te)):_("",!0)])]}),_:2},1024))),128))])]),_:1})])):(l(),u("div",se,[(l(!0),u(y,null,w(m.semesters.data,s=>(l(),u("div",{key:s.id,class:"p-4 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-600"},[r(a(c),{href:d.route("semesters.show",{semester:s.id}),class:"block"},{default:o(()=>[t("div",re,[r(a(W),{class:"w-5 h-5 mr-2 text-indigo-500"}),n(" "+i(s.name),1)]),t("div",oe,[r(a(D),{class:"w-5 h-5 mr-2 text-orange-500"}),e[10]||(e[10]=t("span",{class:"font-semibold mr-1"},"Start:",-1)),n(" "+i(new Date(s.start_date).toLocaleDateString()),1)]),t("div",ae,[r(a(D),{class:"w-5 h-5 mr-2 text-rose-500"}),e[11]||(e[11]=t("span",{class:"font-semibold mr-1"},"End:",-1)),n(" "+i(new Date(s.end_date).toLocaleDateString()),1)])]),_:2},1032,["href"])]))),128))])),t("div",le,[(l(!0),u(y,null,w(m.semesters.meta.links,s=>(l(),f(a(c),{key:s.label,href:s.url||"#",class:S(["p-2 px-4 text-sm font-medium transition-colors rounded-lg",{"text-gray-700 dark:text-gray-400":!0,"cursor-not-allowed opacity-50":!s.url,"!bg-gray-100 !dark:bg-gray-800":s.active}]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])]),_:1}))}};export{Te as default};
