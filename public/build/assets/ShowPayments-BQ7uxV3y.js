import{b as oe,r as b,x as q,q as P,m as le,c as u,o as m,a as e,g as n,t as l,u as a,w as x,i as M,F as L,e as z,h as w,n as re,A as de,S as ne,T as N,k as K,l as f,y as v}from"./app-Dvpp4CYp.js";import{S as $}from"./sweetalert2.esm.all-89IKscqO.js";/* empty css                        */import{_ as B}from"./Modal-yeTN__ff.js";import{_ as p}from"./InputError-COAhcEnx.js";import{r as ie}from"./PlusCircleIcon-DTiBc8nJ.js";import{s as h}from"./index-1QOF6scD.js";import{s as ue}from"./index-LNNWDoqQ.js";import"./index-DJyviTvq.js";import"./index-CfzUjcyr.js";import"./index-CmlXlgmi.js";import"./index-rCZXfeQi.js";import"./index-7kdm7vGd.js";import"./index-CgtFm9BN.js";const me={class:"max-w-5xl mx-auto"},pe={class:"flex items-center justify-between mb-4"},ye={class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},ce={class:"mb-6 space-y-4"},xe={class:"flex flex-wrap gap-6"},ge={class:"w-64"},be={class:"w-64"},fe={class:"text-sm"},ve={class:"flex items-center justify-between"},_e={class:"text-lg font-semibold text-gray-800 dark:text-gray-100"},ke={class:"text-sm text-gray-500 dark:text-gray-400"},we={class:"text-right space-y-1"},he={class:"text-sm text-gray-500 dark:text-gray-400"},Se={class:"text-xl font-bold text-gray-800 dark:text-gray-100"},Pe={class:"mt-3 w-full bg-gray-300 dark:bg-gray-700 h-2 rounded-full overflow-hidden"},Ve={class:"mt-4 flex justify-between items-center"},Ce=["onClick"],Te={class:"space-x-2 flex flex-wrap"},Ue=["onClick"],Fe=["onClick"],De={key:0,class:"mt-4 text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 rounded-xl p-4"},Ae={key:0,class:"mb-6"},Me={class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3"},Le={class:"overflow-x-auto"},Ne={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},$e={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},Oe={class:"px-6 py-2 text-sm text-gray-800 dark:text-gray-200"},je={class:"px-6 py-2 text-sm font-medium text-gray-900 dark:text-gray-100"},Ee={class:"px-6 py-2 text-sm text-yellow-700 dark:text-yellow-400"},Re={class:"px-6 py-2 text-sm text-yellow-700 dark:text-yellow-400"},qe={class:"bg-yellow-50 dark:bg-yellow-900 font-bold"},ze={class:"px-6 py-2 text-yellow-800 dark:text-yellow-200 text-lg"},Be={colspan:"2",class:"px-6 py-2 text-gray-900 dark:text-gray-100"},We={class:"w-full px-16 py-8"},Ie={class:"flex justify-end mt-4"},He=["disabled"],Ye={class:"w-full px-8 py-6"},Ge={class:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100"},Je={class:"text-red-700 text-lg"},Ke={class:"mb-4"},Qe={class:"flex flex-wrap -mx-2"},Xe={class:"w-full md:w-1/2 px-2 mb-4"},Ze={class:"w-full md:w-1/2 px-2 mb-4"},et={key:0,class:"mb-6"},tt={class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3"},st={class:"overflow-x-auto"},at={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ot={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},lt={class:"px-6 py-2 text-sm text-gray-800 dark:text-gray-200"},rt={class:"px-6 py-2 text-sm font-medium text-gray-900 dark:text-gray-100"},dt={class:"px-6 py-2 text-sm text-yellow-700 dark:text-yellow-400"},nt={class:"bg-yellow-50 dark:bg-yellow-900 font-bold"},it={class:"px-6 py-2 text-yellow-800 dark:text-yellow-200 text-lg"},ut={key:1,class:"mb-6"},mt={class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3"},pt={class:"overflow-x-auto"},yt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ct={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},xt={class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition"},gt={class:"px-6 py-2 text-sm font-medium text-gray-900 dark:text-gray-100"},bt={class:"px-6 py-2 text-sm text-yellow-700 dark:text-yellow-400"},ft={class:"bg-yellow-50 dark:bg-yellow-900 font-bold"},vt={class:"px-6 py-2 text-yellow-800 dark:text-yellow-200 text-lg"},_t={class:"flex flex-wrap -mx-2"},kt={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},wt={key:0,class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},ht={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},St={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},Pt={class:"flex justify-end mt-4"},Vt=["disabled"],Ct={key:0,class:"w-full px-8 py-6"},Tt={class:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100"},Ut={class:"text-xl font-bold mb-4 text-gray-900 dark:text-gray-100"},Ft={class:"text-red-700 text-lg"},Dt={class:"flex flex-wrap -mx-2"},At={class:"w-full md:w-1/2 px-2 mb-4"},Mt={class:"w-full md:w-1/2 px-2 mb-4"},Lt={class:"flex flex-wrap -mx-2"},Nt={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},$t={key:0,class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},Ot={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},jt={class:"w-full md:w-1/2 lg:w-1/4 px-2 mb-4"},Et={class:"flex justify-end mt-4"},Rt=["disabled"],ts={__name:"ShowPayments",props:{student:{type:Object,required:!0},payments:{type:Array,required:!0},semesters:{type:Array,required:!0},activeSemester:{type:Object,required:!0},paymentMethods:Array,paymentTypes:Array},setup(i){const c=i,Q={pending:"Pending",completed:"Completed",paid_by_college:"Paid by College",canceled:"Canceled"},W=oe().props.errors,F=b(!1),V=b(!1),g=q({payments:[],student_id:c.student.id}),C=b(""),_=b(c.activeSemester.id),I=b(c.payments.filter(d=>{var t;return((t=d.semester)==null?void 0:t.id)===_.value}));P(()=>[_.value,C.value,c.payments],([d,t])=>{console.log("Semester:",d),console.log("Status:",t),I.value=c.payments.filter(T=>{var U;const A=!d||((U=T.semester)==null?void 0:U.id)===d,s=!t||T.status===t;return A&&s})},{immediate:!0});const o=q({student_id:c.student.id,payment_method_id:null,payment_type_id:null,payment_date:new Date().toISOString().slice(0,10),paid_amount:null,total_amount:null,description:null,status:null,reference_number:null}),r=q({payment_method_id:null,description:"",status:null,paid_amount:0,payment_date:new Date().toISOString().slice(0,10),reference_number:"",_method:"PATCH"}),k=b(null),O=b(!1),X=d=>{k.value=d,r.payment_method_id=d.payment_method_id,r.description=d.description,r.paid_amount=d.paid_amount,r.status=d.status,r.reference_number=d.reference_number,O.value=!0},j=()=>{r.reset(),k.value=null,O.value=!1},D=c.student.enrollments.filter(d=>d.status=="pending"),Z=()=>{g.reset(),F.value=!1},ee=()=>{g.post(route("payments",c.student.id),{preserveScroll:!0,onSuccess:()=>{F.value=!1,g.reset()}})},E=b(!1),H=()=>{V.value=!1,o.reset()},y=le(()=>c.paymentTypes.find(d=>d.id==o.payment_type_id&&d.study_mode_id==c.student.studyMode.id));P(()=>o.paid_amount,d=>{d==o.total_amount?o.status="completed":o.status="pending"}),P(()=>r.paid_amount,d=>{d==r.total_amount?r.status="completed":r.status="pending"}),P(()=>o.status,d=>{d=="completed"?o.paid_amount=o.total_amount:o.paid_amount=0}),P(()=>r.status,d=>{d=="completed"?(console.log(r.paid_amount),r.paid_amount=k.value.total_amount,console.log(r.paid_amount)):r.paid_amount=0}),P(()=>o.payment_type_id,()=>{console.log(y.value),y.value&&y.value.duration=="per-course"?(E.value=!0,o.total_amount=y.value.amount*D.length):(E.value=!1,y.value&&(o.total_amount=y.value.amount))});const R=[{label:"pending",value:"pending"},{label:"completed",value:"completed"},{label:"canceled",value:"failed"}],te=()=>{o.post(route("payments.store",{student:c.student.id}),{onSuccess:()=>{o.reset(),o.payment_method_id=null,o.payment_type_id=null,o.payment_date=new Date().toISOString().slice(0,10),o.paid_amount=null,o.total_amount=null,o.description=null,o.status=null,o.reference_number=null,$.fire({title:"Success!",text:"Payment has been created successfully.",icon:"success"}),V.value=!1,o.reset()},onError:d=>{$.fire({title:"Error!",text:d.error??"Fill the Payment Form Properly",icon:"error",customClass:{popup:"z-[1100]"}})}})},se=()=>{r.post(route("payments.update",{payment:k.value.id}),{onSuccess:()=>{console.log(r.paid_amount),r.reset(),j(),$.fire("Success!","Payment has been created successfully.","success")},onError:d=>{$.fire({title:"Error!",text:d.error??"Fill the Payment Form Properly",icon:"error",target:document.body,customClass:{popup:"z-[1100]",backdrop:"z-[1099]"}})}})};return(d,t)=>{var T,A;return m(),u(L,null,[e("div",me,[e("div",pe,[e("h2",ye,l(C.value.toUpperCase())+" Payments Of "+l((T=i.semesters.find(s=>s.id==_.value))==null?void 0:T.name)+" "+l(((A=i.semesters.find(s=>s.id==_.value))==null?void 0:A.id)==i.activeSemester.id?"(Current Semester)":""),1),e("button",{onClick:t[0]||(t[0]=s=>V.value=!V.value),class:"flex items-center text-green-600 hover:text-green-800"},[n(a(ie),{class:"mx-2 w-6 h-6"}),t[18]||(t[18]=e("span",{class:"font-medium"},"Create Payment",-1))])]),e("div",ce,[t[21]||(t[21]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-100"}," Filters "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Narrow down payments based on status or semester. ")],-1)),e("div",xe,[e("div",ge,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Status ",-1)),n(a(h),{modelValue:C.value,"onUpdate:modelValue":t[1]||(t[1]=s=>C.value=s),options:R,optionLabel:"label",optionValue:"value",placeholder:"Select Status",class:"w-full"},null,8,["modelValue"])]),e("div",be,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Semester ",-1)),n(a(h),{modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=s=>_.value=s),options:i.semesters,optionLabel:"name",optionValue:"id",placeholder:"Select Semester",class:"w-full"},{option:x(s=>[M(l(s.option.name)+" ",1),e("span",fe,l(s.option.id==i.activeSemester.id?"(Current Semester)":""),1)]),_:1},8,["modelValue","options"])])])]),n(N,{mode:"out-in","enter-active-class":"transition duration-300 ease-out","enter-from-class":"scale-75 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-75 opacity-0"},{default:x(()=>[(m(),u("div",{class:"grid grid-cols-1 gap-4 mt-6",key:`${C.value}-${_.value}`},[(m(!0),u(L,null,z(I.value,(s,U)=>{var Y,G,J;return m(),u("div",{key:s.id,class:"rounded-2xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-5 shadow-sm transition hover:shadow-md"},[e("div",ve,[e("div",null,[e("h3",_e,l(((Y=s.payment_type)==null?void 0:Y.type)||"Unknown Type"),1),e("p",ke,l(((G=s.semester)==null?void 0:G.name)||"No Semester")+" | "+l(new Date(s.payment_date).toLocaleDateString()),1)]),e("div",we,[e("p",he," Total: "+l(s.total_amount)+" ETB ",1),e("p",Se," Paid: "+l(s.paid_amount)+" ETB ",1),e("p",{class:re([{"text-yellow-500":s.status==="pending","text-green-500":s.status==="completed","text-red-500":s.status==="failed","text-blue-500":s.status==="refunded"},"text-sm font-bold"])},l(Q[s.status]),3)])]),e("div",Pe,[e("div",{class:"h-full bg-green-500",style:de({width:s.status=="paid_by_college"?"100%":s.paid_amount/s.total_amount*100+"%"})},null,4)]),e("div",Ve,[e("button",{onClick:S=>s.showDetails=!s.showDetails,class:"text-sm text-blue-600 hover:underline dark:text-blue-400"},l(s.showDetails?"Hide Details":"Show Details"),9,Ce),e("div",Te,[n(a(ne),{href:d.route("payments.show",{payment:s.id}),class:"px-3 py-1 text-sm font-medium rounded-md bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"},{default:x(()=>t[22]||(t[22]=[M(" View ")])),_:2},1032,["href"]),e("button",{onClick:S=>d.downloadReceipt(s.id),class:"px-3 py-1 text-sm font-medium rounded-md bg-indigo-100 text-indigo-700 hover:bg-indigo-200 dark:bg-indigo-800 dark:text-white dark:hover:bg-indigo-700"}," Receipt ",8,Ue),s.status==="pending"?(m(),u("button",{key:0,onClick:S=>X(s),class:"px-3 py-1 text-sm font-medium rounded-md bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-800 dark:text-white dark:hover:bg-green-700"}," Update Payment ",8,Fe)):w("",!0)])]),s.showDetails?(m(),u("div",De,[e("p",null,[t[23]||(t[23]=e("strong",null,"Method:",-1)),M(" "+l(((J=s.payment_method)==null?void 0:J.bank_name)||"N/A"),1)]),e("p",null,[t[24]||(t[24]=e("strong",null,"Reference:",-1)),M(" "+l(s.reference_number||"N/A"),1)]),s.payment_type.type=="Course Fee"?(m(),u("div",Ae,[e("h2",Me," Course Fees – "+l(i.activeSemester.year.name)+" Semester "+l(i.activeSemester.level),1),e("div",Le,[e("table",Ne,[t[26]||(t[26]=e("thead",{class:"bg-gray-100 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," # "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Course Name "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Fee Amount "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Status ")])],-1)),e("tbody",$e,[(m(!0),u(L,null,z(a(D),(S,ae)=>(m(),u("tr",{key:S.course.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition"},[e("td",Oe,l(ae+1),1),e("td",je,l(S.course.name),1),e("td",Ee,l(s.payment_type.amount),1),e("td",Re,l(S.status),1)]))),128)),e("tr",qe,[t[25]||(t[25]=e("td",{colspan:"2",class:"px-6 py-2 text-gray-900 dark:text-gray-100"}," Total ",-1)),e("td",ze,l(s.payment_type.amount*i.student.enrollments.length),1),e("td",Be,l(s.status),1)])])])])])):w("",!0)])):w("",!0)])}),128))]))]),_:1})]),n(B,{show:F.value,onClose:t[4]||(t[4]=s=>F.value=!1),maxWidth:"6xl",class:"p-24 h-full"},{default:x(()=>[e("div",We,[t[27]||(t[27]=e("h1",{class:"text-lg mb-5"}," Pick Payments You Would like To Assign To This Section ",-1)),n(a(ue),{id:"cousesList",modelValue:a(g).payments,"onUpdate:modelValue":t[3]||(t[3]=s=>a(g).payments=s),options:i.payments,optionLabel:"name","option-value":"id",appendTo:"self",filter:"",checkmark:"",multiple:"","list-style":"max-height: 500px",placeholder:"Select Payments",maxSelectedLabels:3,class:"w-full"},null,8,["modelValue","options"]),n(p,{message:a(g).errors.payments,class:"mt-2 text-sm text-red-500"},null,8,["message"]),e("div",Ie,[e("button",{onClick:ee,disabled:a(g).processing,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-5"},l(a(g).processing?"Assigning...":"Assign"),9,He),e("button",{onClick:Z,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])])]),_:1},8,["show"]),n(B,{show:V.value,onClose:H,maxWidth:"6xl",class:"p-6"},{default:x(()=>[e("div",Ye,[e("h1",Ge," Create Payment for – "+l(i.activeSemester.name),1),e("span",Je,l(a(W).error),1),e("form",{onSubmit:K(te,["prevent"])},[e("div",Ke,[t[28]||(t[28]=e("label",{for:"narration",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Description ",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>a(o).description=s),placeholder:"Payment Description (eg Registration Fee, Tuition Fee...)",id:"narration",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(o).description]]),n(p,{message:a(o).errors.narration,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",Qe,[e("div",Xe,[t[29]||(t[29]=e("label",{for:"payment_method_id",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Method ",-1)),n(a(h),{modelValue:a(o).payment_method_id,"onUpdate:modelValue":t[6]||(t[6]=s=>a(o).payment_method_id=s),options:i.paymentMethods,optionLabel:"bank_name",optionValue:"id",appendTo:"self",placeholder:"Select Payment Method",class:"w-full"},null,8,["modelValue","options"]),n(p,{message:a(o).errors.payment_method_id,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",Ze,[t[30]||(t[30]=e("label",{for:"payment_type_id",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Type ",-1)),n(a(h),{modelValue:a(o).payment_type_id,"onUpdate:modelValue":t[7]||(t[7]=s=>a(o).payment_type_id=s),options:i.paymentTypes,optionLabel:"type",optionValue:"id",appendTo:"self",placeholder:"Select Type",class:"w-full"},null,8,["modelValue","options"]),n(p,{message:a(o).errors.payment_type_id,class:"mt-2 text-sm text-red-500"},null,8,["message"])])]),n(N,{"enter-active-class":"transition ease-out duration-500","enter-from-class":"opacity-0 -translate-y-6","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-6"},{default:x(()=>[E.value?(m(),u("div",et,[e("h2",tt," Courses with Unpaid Fees – "+l(i.activeSemester.year.name)+" Semester "+l(i.activeSemester.level),1),e("div",st,[e("table",at,[t[32]||(t[32]=e("thead",{class:"bg-gray-100 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," # "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Course Name "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Fee Amount ")])],-1)),e("tbody",ot,[(m(!0),u(L,null,z(a(D),(s,U)=>(m(),u("tr",{key:s.course.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition"},[e("td",lt,l(U+1),1),e("td",rt,l(s.course.name),1),e("td",dt,l(y.value.amount),1)]))),128)),e("tr",nt,[t[31]||(t[31]=e("td",{colspan:"2",class:"px-6 py-2 text-gray-900 dark:text-gray-100"}," Total ",-1)),e("td",it,l(y.value.amount*a(D).length),1)])])])])])):y.value&&y.value.duration!="per-course"?(m(),u("div",ut,[e("h2",mt," Courses with Unpaid Fees – "+l(i.activeSemester.year.name)+" Semester "+l(i.activeSemester.level),1),e("div",pt,[e("table",yt,[t[35]||(t[35]=e("thead",{class:"bg-gray-100 dark:bg-gray-800"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," # "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Fee Description "),e("th",{scope:"col",class:"px-6 py-1 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Fee Amount ")])],-1)),e("tbody",ct,[e("tr",xt,[t[33]||(t[33]=e("td",{class:"px-6 py-2 text-sm text-gray-800 dark:text-gray-200"}," 1 ",-1)),e("td",gt,l(y.value.type),1),e("td",bt,l(y.value.amount),1)]),e("tr",ft,[t[34]||(t[34]=e("td",{colspan:"2",class:"px-6 py-2 text-gray-900 dark:text-gray-100"}," Total ",-1)),e("td",vt,l(y.value.amount),1)])])])])])):w("",!0)]),_:1}),e("div",_t,[e("div",kt,[t[36]||(t[36]=e("label",{for:"status",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Status ",-1)),n(a(h),{modelValue:a(o).status,"onUpdate:modelValue":t[8]||(t[8]=s=>a(o).status=s),options:R,optionLabel:"label",optionValue:"value",appendTo:"self",placeholder:"Select Status",class:"w-full"},null,8,["modelValue"]),n(p,{message:a(o).errors.status,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),n(N,{"enter-active-class":"transition ease-out duration-500","enter-from-class":"opacity-0 -translate-x-6","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"transition ease-in duration-300","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-6"},{default:x(()=>[a(o).status!=="completed"?(m(),u("div",wt,[t[37]||(t[37]=e("label",{for:"paid_amount",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Paid Amount ",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=s=>a(o).paid_amount=s),id:"paid_amount",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(o).paid_amount]]),n(p,{message:a(o).errors.paid_amount,class:"mt-2 text-sm text-red-500"},null,8,["message"])])):w("",!0)]),_:1}),e("div",ht,[t[38]||(t[38]=e("label",{for:"payment_date",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Date ",-1)),f(e("input",{type:"date","onUpdate:modelValue":t[10]||(t[10]=s=>a(o).payment_date=s),id:"payment_date",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(o).payment_date]]),n(p,{message:a(o).errors.payment_date,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",St,[t[39]||(t[39]=e("label",{for:"reference_number",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Reference Number (Optional) ",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=s=>a(o).reference_number=s),id:"reference_number",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(o).reference_number]]),n(p,{message:a(o).errors.reference_number,class:"mt-2 text-sm text-red-500"},null,8,["message"])])]),e("div",Pt,[e("button",{type:"submit",disabled:a(o).processing,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-5"},l(a(o).processing?"Creating...":"Create Payment"),9,Vt),e("button",{type:"button",onClick:H,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])],32)])]),_:1},8,["show"]),n(B,{show:O.value,onClose:j,maxWidth:"6xl",class:"p-6"},{default:x(()=>[k.value?(m(),u("div",Ct,[e("h1",Tt," Update "+l(k.value.payment_type.type)+" Payment for – "+l(i.activeSemester.name),1),e("h1",Ut," Total: "+l(k.value.total_amount),1),e("span",Ft,l(a(W).error),1),e("form",{onSubmit:K(se,["prevent"])},[e("div",Dt,[e("div",At,[t[40]||(t[40]=e("label",{for:"payment_method_id",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Method ",-1)),n(a(h),{modelValue:a(o).payment_method_id,"onUpdate:modelValue":t[12]||(t[12]=s=>a(o).payment_method_id=s),options:i.paymentMethods,optionLabel:"bank_name",optionValue:"id",appendTo:"self",placeholder:"Select Payment Method",class:"w-full"},null,8,["modelValue","options"]),n(p,{message:a(o).errors.payment_method_id,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",Mt,[t[41]||(t[41]=e("label",{for:"description",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Description ",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=s=>a(r).description=s),placeholder:"Payment Description (eg Registration Fee, Tuition Fee...)",id:"description",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(r).description]]),n(p,{message:a(r).errors.description,class:"mt-2 text-sm text-red-500"},null,8,["message"])])]),e("div",Lt,[e("div",Nt,[t[42]||(t[42]=e("label",{for:"status",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Status ",-1)),n(a(h),{modelValue:a(r).status,"onUpdate:modelValue":t[14]||(t[14]=s=>a(r).status=s),options:R,optionLabel:"label",optionValue:"value",appendTo:"self",placeholder:"Select Status",class:"w-full"},null,8,["modelValue"]),n(p,{message:a(r).errors.status,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),n(N,{"enter-active-class":"transition ease-out duration-500","enter-from-class":"opacity-0 -translate-x-6","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"transition ease-in duration-300","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-6"},{default:x(()=>[a(r).status!=="completed"?(m(),u("div",$t,[t[43]||(t[43]=e("label",{for:"paid_amount",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Paid Amount ",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=s=>a(r).paid_amount=s),id:"paid_amount",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(r).paid_amount]]),n(p,{message:a(r).errors.paid_amount,class:"mt-2 text-sm text-red-500"},null,8,["message"])])):w("",!0)]),_:1}),e("div",Ot,[t[44]||(t[44]=e("label",{for:"payment_date",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Date ",-1)),f(e("input",{type:"date","onUpdate:modelValue":t[16]||(t[16]=s=>a(r).payment_date=s),id:"payment_date",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(r).payment_date]]),n(p,{message:a(r).errors.payment_date,class:"mt-2 text-sm text-red-500"},null,8,["message"])]),e("div",jt,[t[45]||(t[45]=e("label",{for:"reference_number",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Reference Number (Optional) ",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=s=>a(r).reference_number=s),id:"reference_number",class:"shadow border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 focus:outline-none focus:shadow-outline"},null,512),[[v,a(r).reference_number]]),n(p,{message:a(r).errors.reference_number,class:"mt-2 text-sm text-red-500"},null,8,["message"])])]),e("div",Et,[e("button",{type:"submit",disabled:a(r).processing,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg shadow-md transition mr-5"},l(a(o).processing?"Saving...":"Save Payment"),9,Rt),e("button",{type:"button",onClick:j,class:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition"}," Close ")])],32)])):w("",!0)]),_:1},8,["show"])],64)}}};export{ts as default};
