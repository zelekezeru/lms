import{c as n,o as d,a as o,g as i,h as l,z as b,F as y,e as f,t as s,A as m,i as p,w as h,j as v,u as w,S as V,l as U}from"./app-C7ka6sDA.js";const S={class:"mb-4"},C=["value"],P={key:0,class:"text-red-500 text-sm"},_={class:"mb-4"},$=["value"],q={key:0,class:"text-red-500 text-sm"},I={class:"mb-4"},T=["label"],A=["value"],N={key:0,class:"text-red-500 text-sm"},R={class:"mb-4"},D={key:0,class:"text-red-500 text-sm"},F={class:"mb-4"},M={key:0,class:"text-red-500 text-sm"},O={class:"mb-4"},B={key:0,class:"text-red-500 text-sm"},j={class:"mb-4"},L={key:0,class:"text-red-500 text-sm"},z={class:"mb-4"},E={key:0,class:"text-red-500 text-sm"},Q={class:"grid grid-cols-3 gap-4"},G=["for"],H=["id","onUpdate:modelValue"],J={key:0,class:"text-red-500 text-sm"},K=["for"],W=["id","onUpdate:modelValue"],X={key:0,class:"text-red-500 text-sm"},Y=["for"],Z=["id","onUpdate:modelValue"],ee={key:0,class:"text-red-500 text-sm"},te=["onClick"],oe={key:0,class:"text-red-500 text-sm"},ae={class:"mt-6"},re=["disabled"],de={__name:"Form",props:{form:Object,paymentTypes:Array,paymentCategories:Array,paymentSchedules:Array},setup(e){const c=e,x=()=>{c.form.items.push({name:"",quantity:1,unit_price:0})},k=g=>{c.form.items.splice(g,1)};return(g,t)=>(d(),n("form",{onSubmit:t[8]||(t[8]=U(a=>g.$emit("submit"),["prevent"]))},[o("div",S,[t[10]||(t[10]=o("label",{for:"payment_type_id",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Type ",-1)),i(o("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.form.payment_type_id=a),id:"payment_type_id",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},[t[9]||(t[9]=o("option",{value:"",disabled:""},"Select Payment Type",-1)),(d(!0),n(y,null,f(e.paymentTypes,a=>(d(),n("option",{value:a.id,key:a.id},s(a.name),9,C))),128))],512),[[b,e.form.payment_type_id]]),e.form.errors.payment_type_id?(d(),n("div",P,s(e.form.errors.payment_type_id),1)):l("",!0)]),o("div",_,[t[12]||(t[12]=o("label",{for:"payment_category_id",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Category ",-1)),i(o("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>e.form.payment_category_id=a),id:"payment_category_id",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},[t[11]||(t[11]=o("option",{value:null},"-- Select Category (Optional) --",-1)),(d(!0),n(y,null,f(e.paymentCategories,a=>(d(),n("option",{value:a.id,key:a.id},s(a.name),9,$))),128))],512),[[b,e.form.payment_category_id]]),e.form.errors.payment_category_id?(d(),n("div",q,s(e.form.errors.payment_category_id),1)):l("",!0)]),o("div",I,[t[14]||(t[14]=o("label",{for:"payment_schedule_item_id",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Schedule Item (Optional) ",-1)),i(o("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>e.form.payment_schedule_item_id=a),id:"payment_schedule_item_id",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},[t[13]||(t[13]=o("option",{value:null},"-- Select Schedule Item (Optional) --",-1)),(d(!0),n(y,null,f(e.paymentSchedules,a=>(d(),n("optgroup",{key:a.id,label:a.description},[(d(!0),n(y,null,f(a.items,r=>(d(),n("option",{key:r.id,value:r.id},s(r.name)+" (Due: "+s(r.due_date)+", Remaining: "+s(r.expected_amount-r.paid_amount)+") ",9,A))),128))],8,T))),128))],512),[[b,e.form.payment_schedule_item_id]]),e.form.errors.payment_schedule_item_id?(d(),n("div",N,s(e.form.errors.payment_schedule_item_id),1)):l("",!0),t[15]||(t[15]=o("small",{class:"text-gray-600 dark:text-gray-400"},"Link this payment to a specific installment if applicable.",-1))]),o("div",R,[t[16]||(t[16]=o("label",{for:"payment_date",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Date ",-1)),i(o("input",{type:"date",id:"payment_date","onUpdate:modelValue":t[3]||(t[3]=a=>e.form.payment_date=a),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[m,e.form.payment_date]]),e.form.errors.payment_date?(d(),n("div",D,s(e.form.errors.payment_date),1)):l("",!0)]),o("div",F,[t[17]||(t[17]=o("label",{for:"total_amount",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Total Amount ",-1)),i(o("input",{type:"number",id:"total_amount","onUpdate:modelValue":t[4]||(t[4]=a=>e.form.total_amount=a),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[m,e.form.total_amount]]),e.form.errors.total_amount?(d(),n("div",M,s(e.form.errors.total_amount),1)):l("",!0)]),o("div",O,[t[18]||(t[18]=o("label",{for:"payment_method",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Method ",-1)),i(o("input",{type:"text",id:"payment_method","onUpdate:modelValue":t[5]||(t[5]=a=>e.form.payment_method=a),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[m,e.form.payment_method]]),e.form.errors.payment_method?(d(),n("div",B,s(e.form.errors.payment_method),1)):l("",!0)]),o("div",j,[t[20]||(t[20]=o("label",{for:"status",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Status ",-1)),i(o("select",{"onUpdate:modelValue":t[6]||(t[6]=a=>e.form.status=a),id:"status",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},t[19]||(t[19]=[o("option",{value:"pending"},"Pending",-1),o("option",{value:"completed"},"Completed",-1),o("option",{value:"failed"},"Failed",-1),o("option",{value:"refunded"},"Refunded",-1)]),512),[[b,e.form.status]]),e.form.errors.status?(d(),n("div",L,s(e.form.errors.status),1)):l("",!0)]),o("div",z,[t[21]||(t[21]=o("label",{for:"payment_reference",class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"}," Payment Reference ",-1)),i(o("input",{type:"text",id:"payment_reference","onUpdate:modelValue":t[7]||(t[7]=a=>e.form.payment_reference=a),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[m,e.form.payment_reference]]),e.form.errors.payment_reference?(d(),n("div",E,s(e.form.errors.payment_reference),1)):l("",!0)]),o("div",null,[t[22]||(t[22]=o("h3",null,"Payment Items",-1)),(d(!0),n(y,null,f(e.form.items,(a,r)=>(d(),n("div",{key:r,class:"mb-4 border-b pb-4"},[o("div",Q,[o("div",null,[o("label",{for:"item_name_"+r,class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"},"Name",8,G),i(o("input",{type:"text",id:"item_name_"+r,"onUpdate:modelValue":u=>e.form.items[r].name=u,class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},null,8,H),[[m,e.form.items[r].name]]),e.form.errors[`items.${r}.name`]?(d(),n("div",J,s(e.form.errors[`items.${r}.name`]),1)):l("",!0)]),o("div",null,[o("label",{for:"item_quantity_"+r,class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"},"Quantity",8,K),i(o("input",{type:"number",id:"item_quantity_"+r,"onUpdate:modelValue":u=>e.form.items[r].quantity=u,class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},null,8,W),[[m,e.form.items[r].quantity]]),e.form.errors[`items.${r}.quantity`]?(d(),n("div",X,s(e.form.errors[`items.${r}.quantity`]),1)):l("",!0)]),o("div",null,[o("label",{for:"item_unit_price_"+r,class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2"},"Unit Price",8,Y),i(o("input",{type:"number",id:"item_unit_price_"+r,"onUpdate:modelValue":u=>e.form.items[r].unit_price=u,class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline"},null,8,Z),[[m,e.form.items[r].unit_price]]),e.form.errors[`items.${r}.unit_price`]?(d(),n("div",ee,s(e.form.errors[`items.${r}.unit_price`]),1)):l("",!0)])]),o("button",{type:"button",onClick:u=>k(r),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-2"},"Remove Item",8,te)]))),128)),o("button",{type:"button",onClick:x,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4"},"Add Item"),e.form.errors.items?(d(),n("div",oe,s(e.form.errors.items),1)):l("",!0)]),o("div",ae,[o("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:e.form.processing}," Record Payment ",8,re),p(w(V),{href:g.route("students.show",e.form.student_id),class:"inline-block ml-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"},{default:h(()=>t[23]||(t[23]=[v(" Cancel ")])),_:1},8,["href"])])],32))}};export{de as default};
