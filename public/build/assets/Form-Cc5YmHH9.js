import{r as k,C as w,c as s,o as l,a as t,l as g,h as a,y as c,t as m,g as p,i as x,u as y,k as D}from"./app-oxZXhdOW.js";import{r as b}from"./PhotoIcon-DLKarpNd.js";const C=["value"],F={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={key:0,class:"text-sm text-red-500 mt-1"},U={key:0,class:"text-sm text-red-500 mt-1"},V={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4"},S={for:"image",class:"cursor-pointer inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition","aria-label":"Upload image"},j={key:0,class:"w-28 h-28 rounded-lg overflow-hidden border dark:border-gray-600"},q=["src"],O={key:0,class:"text-sm text-red-500 mt-1"},N={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4"},P={for:"file",class:"cursor-pointer inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition","aria-label":"Upload file"},B={key:0,class:"text-sm text-gray-700 dark:text-gray-300"},L=["href"],M={key:0,class:"text-sm text-red-500 mt-1"},R={class:"flex justify-center items-center gap-4 pt-4"},E=["disabled"],I={key:0},X={key:1},z={__name:"Form",props:{form:{type:Object,required:!0},user:{type:Object,required:!0},userDocument:{type:Object,required:!0}},setup(r){const o=r,d=k(null),u=(n,e)=>{const i=n.target.files[0];if(e==="image")if(i){if(!i.type.startsWith("image/")){alert("The selected file must be an image.");return}o.form.image=i;const f=new FileReader;f.onload=h=>{d.value=h.target.result},f.readAsDataURL(i)}else o.userDocument.image&&(o.form.image=o.userDocument.image);else if(e==="file")if(i){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/csv"].includes(i.type)){alert("The selected file must be a valid document (PDF, DOC, XLS, etc.).");return}o.form.file=i}else o.userDocument.file&&(o.form.file=o.userDocument.file)},v=()=>{o.form.title="",o.form.description="",o.form.image="",o.form.file="",d.value=null};return w(()=>{o.form.image&&typeof o.form.image=="string"&&(d.value=o.form.image)}),(n,e)=>(l(),s("form",{onSubmit:e[4]||(e[4]=D((...i)=>n.submit&&n.submit(...i),["prevent"])),enctype:"multipart/form-data",class:"space-y-8"},[t("input",{type:"hidden",name:"user_id",value:r.form.user_id},null,8,C),t("div",F,[t("div",null,[e[5]||(e[5]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Title",-1)),g(t("input",{id:"title",type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>r.form.title=i),required:"",class:"mt-1 w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},null,512),[[c,r.form.title]]),r.form.errors.title?(l(),s("p",T,m(r.form.errors.title),1)):a("",!0)]),t("div",null,[e[6]||(e[6]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Description",-1)),g(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=i=>r.form.description=i),rows:"4",required:"",class:"mt-1 w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},null,512),[[c,r.form.description]]),r.form.errors.description?(l(),s("p",U,m(r.form.errors.description),1)):a("",!0)]),t("div",null,[t("div",V,[t("label",S,[p(y(b),{class:"w-5 h-5 mr-2"}),e[7]||(e[7]=x(" Upload Image "))]),t("input",{id:"image",type:"file",accept:"image/*",class:"hidden",onChange:e[2]||(e[2]=i=>u(i,"image"))},null,32),d.value?(l(),s("div",j,[t("img",{src:d.value,alt:"Image Preview",class:"w-full h-full object-cover"},null,8,q)])):a("",!0)]),r.form.errors.image?(l(),s("p",O,m(r.form.errors.image),1)):a("",!0)]),t("div",null,[t("div",N,[t("label",P,[p(y(b),{class:"w-5 h-5 mr-2"}),e[8]||(e[8]=x(" Upload Document ")),e[9]||(e[9]=t("span",{class:"ml-1 text-sm"},"(PDF, DOC, XLS, etc.)",-1))]),t("input",{id:"file",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.txt,.csv",class:"hidden",onChange:e[3]||(e[3]=i=>u(i,"file"))},null,32),r.form.file&&typeof r.form.file=="string"?(l(),s("div",B,[t("a",{href:r.form.file,target:"_blank",class:"text-indigo-600 hover:underline"},"View Existing File",8,L)])):a("",!0)]),r.form.errors.file?(l(),s("p",M,m(r.form.errors.file),1)):a("",!0)])]),t("div",R,[t("button",{type:"submit",disabled:r.form.processing,class:"px-6 py-2 text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow transition"},[r.form.processing?(l(),s("span",X,"Submitting...")):(l(),s("span",I,"Submit"))],8,E),t("button",{type:"button",onClick:v,class:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg shadow"}," Reset ")])],32))}};export{z as default};
